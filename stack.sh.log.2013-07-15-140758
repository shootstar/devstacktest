2013-07-15 14:07:58 + echo_summary 'Installing package prerequisites'
2013-07-15 14:07:58 + [[ -t 3 ]]
2013-07-15 14:07:58 + [[ True != \T\r\u\e ]]
2013-07-15 14:07:58 + echo -e Installing package prerequisites
2013-07-15 14:07:58 + source /home/ubuntu/devstack/tools/install_prereqs.sh
2013-07-15 14:07:58 ++ [[ -n '' ]]
2013-07-15 14:07:58 ++ [[ -z /home/ubuntu/devstack ]]
2013-07-15 14:07:58 ++ PREREQ_RERUN_MARKER=/home/ubuntu/devstack/.prereqs
2013-07-15 14:07:58 ++ PREREQ_RERUN_HOURS=2
2013-07-15 14:07:58 ++ PREREQ_RERUN_SECONDS=7200
2013-07-15 14:07:58 +++ date +%s
2013-07-15 14:07:58 stack.sh log stack.sh.log.2013-07-15-140758
2013-07-15 14:07:58 Installing package prerequisites
2013-07-15 14:07:58 ++ NOW=1373897278
2013-07-15 14:07:58 +++ head -1 /home/ubuntu/devstack/.prereqs
2013-07-15 14:07:58 ++ LAST_RUN=1373795961
2013-07-15 14:07:58 ++ DELTA=101317
2013-07-15 14:07:58 ++ [[ 101317 -lt 7200 ]]
2013-07-15 14:07:58 ++ export_proxy_variables
2013-07-15 14:07:58 ++ [[ -n '' ]]
2013-07-15 14:07:58 ++ [[ -n '' ]]
2013-07-15 14:07:58 ++ [[ -n '' ]]
2013-07-15 14:07:58 +++ get_packages g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql
2013-07-15 14:07:58 +++ local services=g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql
2013-07-15 14:07:58 ++++ _get_package_dir
2013-07-15 14:07:58 ++++ local pkg_dir
2013-07-15 14:07:58 ++++ is_ubuntu
2013-07-15 14:07:58 ++++ [[ -z deb ]]
2013-07-15 14:07:58 ++++ '[' deb = deb ']'
2013-07-15 14:07:58 ++++ pkg_dir=/home/ubuntu/devstack/files/apts
2013-07-15 14:07:58 ++++ echo /home/ubuntu/devstack/files/apts
2013-07-15 14:07:58 +++ local package_dir=/home/ubuntu/devstack/files/apts
2013-07-15 14:07:58 +++ local file_to_parse
2013-07-15 14:07:58 +++ local service
2013-07-15 14:07:58 +++ [[ -z /home/ubuntu/devstack/files/apts ]]
2013-07-15 14:07:58 +++ [[ -z precise ]]
2013-07-15 14:07:58 +++ for service in general '${services//,/ }'
2013-07-15 14:07:58 +++ [[ -e /home/ubuntu/devstack/files/apts/general ]]
2013-07-15 14:07:59 +++ file_to_parse=' general'
2013-07-15 14:07:59 +++ [[ general == n-api ]]
2013-07-15 14:07:59 +++ [[ general == c-* ]]
2013-07-15 14:07:59 +++ [[ general == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ general == s-* ]]
2013-07-15 14:07:59 +++ [[ general == n-* ]]
2013-07-15 14:07:59 +++ [[ general == g-* ]]
2013-07-15 14:07:59 +++ [[ general == key* ]]
2013-07-15 14:07:59 +++ [[ general == q-* ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/g-api ]]
2013-07-15 14:07:59 +++ [[ g-api == n-api ]]
2013-07-15 14:07:59 +++ [[ g-api == c-* ]]
2013-07-15 14:07:59 +++ [[ g-api == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ g-api == s-* ]]
2013-07-15 14:07:59 +++ [[ g-api == n-* ]]
2013-07-15 14:07:59 +++ [[ g-api == g-* ]]
2013-07-15 14:07:59 +++ [[ !  general =~ glance ]]
2013-07-15 14:07:59 +++ file_to_parse=' general glance'
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/g-reg ]]
2013-07-15 14:07:59 +++ [[ g-reg == n-api ]]
2013-07-15 14:07:59 +++ [[ g-reg == c-* ]]
2013-07-15 14:07:59 +++ [[ g-reg == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ g-reg == s-* ]]
2013-07-15 14:07:59 +++ [[ g-reg == n-* ]]
2013-07-15 14:07:59 +++ [[ g-reg == g-* ]]
2013-07-15 14:07:59 +++ [[ !  general glance =~ glance ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/key ]]
2013-07-15 14:07:59 +++ [[ key == n-api ]]
2013-07-15 14:07:59 +++ [[ key == c-* ]]
2013-07-15 14:07:59 +++ [[ key == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ key == s-* ]]
2013-07-15 14:07:59 +++ [[ key == n-* ]]
2013-07-15 14:07:59 +++ [[ key == g-* ]]
2013-07-15 14:07:59 +++ [[ key == key* ]]
2013-07-15 14:07:59 +++ [[ !  general glance =~ keystone ]]
2013-07-15 14:07:59 +++ file_to_parse=' general glance keystone'
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/n-api ]]
2013-07-15 14:07:59 +++ file_to_parse=' general glance keystone n-api'
2013-07-15 14:07:59 +++ [[ n-api == n-api ]]
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api =~ nova ]]
2013-07-15 14:07:59 +++ file_to_parse=' general glance keystone n-api nova'
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api nova =~ glance ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/n-crt ]]
2013-07-15 14:07:59 +++ [[ n-crt == n-api ]]
2013-07-15 14:07:59 +++ [[ n-crt == c-* ]]
2013-07-15 14:07:59 +++ [[ n-crt == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ n-crt == s-* ]]
2013-07-15 14:07:59 +++ [[ n-crt == n-* ]]
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api nova =~ nova ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/n-obj ]]
2013-07-15 14:07:59 +++ [[ n-obj == n-api ]]
2013-07-15 14:07:59 +++ [[ n-obj == c-* ]]
2013-07-15 14:07:59 +++ [[ n-obj == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ n-obj == s-* ]]
2013-07-15 14:07:59 +++ [[ n-obj == n-* ]]
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api nova =~ nova ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/n-cpu ]]
2013-07-15 14:07:59 +++ file_to_parse=' general glance keystone n-api nova n-cpu'
2013-07-15 14:07:59 +++ [[ n-cpu == n-api ]]
2013-07-15 14:07:59 +++ [[ n-cpu == c-* ]]
2013-07-15 14:07:59 +++ [[ n-cpu == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ n-cpu == s-* ]]
2013-07-15 14:07:59 +++ [[ n-cpu == n-* ]]
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api nova n-cpu =~ nova ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/n-net ]]
2013-07-15 14:07:59 +++ [[ n-net == n-api ]]
2013-07-15 14:07:59 +++ [[ n-net == c-* ]]
2013-07-15 14:07:59 +++ [[ n-net == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ n-net == s-* ]]
2013-07-15 14:07:59 +++ [[ n-net == n-* ]]
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api nova n-cpu =~ nova ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/n-cond ]]
2013-07-15 14:07:59 +++ [[ n-cond == n-api ]]
2013-07-15 14:07:59 +++ [[ n-cond == c-* ]]
2013-07-15 14:07:59 +++ [[ n-cond == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ n-cond == s-* ]]
2013-07-15 14:07:59 +++ [[ n-cond == n-* ]]
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api nova n-cpu =~ nova ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/cinder ]]
2013-07-15 14:07:59 +++ file_to_parse=' general glance keystone n-api nova n-cpu cinder'
2013-07-15 14:07:59 +++ [[ cinder == n-api ]]
2013-07-15 14:07:59 +++ [[ cinder == c-* ]]
2013-07-15 14:07:59 +++ [[ cinder == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ cinder == s-* ]]
2013-07-15 14:07:59 +++ [[ cinder == n-* ]]
2013-07-15 14:07:59 +++ [[ cinder == g-* ]]
2013-07-15 14:07:59 +++ [[ cinder == key* ]]
2013-07-15 14:07:59 +++ [[ cinder == q-* ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/c-sch ]]
2013-07-15 14:07:59 +++ [[ c-sch == n-api ]]
2013-07-15 14:07:59 +++ [[ c-sch == c-* ]]
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api nova n-cpu cinder =~ cinder ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/c-api ]]
2013-07-15 14:07:59 +++ [[ c-api == n-api ]]
2013-07-15 14:07:59 +++ [[ c-api == c-* ]]
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api nova n-cpu cinder =~ cinder ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/c-vol ]]
2013-07-15 14:07:59 +++ [[ c-vol == n-api ]]
2013-07-15 14:07:59 +++ [[ c-vol == c-* ]]
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api nova n-cpu cinder =~ cinder ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/n-sch ]]
2013-07-15 14:07:59 +++ [[ n-sch == n-api ]]
2013-07-15 14:07:59 +++ [[ n-sch == c-* ]]
2013-07-15 14:07:59 +++ [[ n-sch == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ n-sch == s-* ]]
2013-07-15 14:07:59 +++ [[ n-sch == n-* ]]
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api nova n-cpu cinder =~ nova ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/n-novnc ]]
2013-07-15 14:07:59 +++ file_to_parse=' general glance keystone n-api nova n-cpu cinder n-novnc'
2013-07-15 14:07:59 +++ [[ n-novnc == n-api ]]
2013-07-15 14:07:59 +++ [[ n-novnc == c-* ]]
2013-07-15 14:07:59 +++ [[ n-novnc == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ n-novnc == s-* ]]
2013-07-15 14:07:59 +++ [[ n-novnc == n-* ]]
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api nova n-cpu cinder n-novnc =~ nova ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/n-xvnc ]]
2013-07-15 14:07:59 +++ [[ n-xvnc == n-api ]]
2013-07-15 14:07:59 +++ [[ n-xvnc == c-* ]]
2013-07-15 14:07:59 +++ [[ n-xvnc == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ n-xvnc == s-* ]]
2013-07-15 14:07:59 +++ [[ n-xvnc == n-* ]]
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api nova n-cpu cinder n-novnc =~ nova ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/n-cauth ]]
2013-07-15 14:07:59 +++ [[ n-cauth == n-api ]]
2013-07-15 14:07:59 +++ [[ n-cauth == c-* ]]
2013-07-15 14:07:59 +++ [[ n-cauth == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ n-cauth == s-* ]]
2013-07-15 14:07:59 +++ [[ n-cauth == n-* ]]
2013-07-15 14:07:59 +++ [[ !  general glance keystone n-api nova n-cpu cinder n-novnc =~ nova ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/horizon ]]
2013-07-15 14:07:59 +++ file_to_parse=' general glance keystone n-api nova n-cpu cinder n-novnc horizon'
2013-07-15 14:07:59 +++ [[ horizon == n-api ]]
2013-07-15 14:07:59 +++ [[ horizon == c-* ]]
2013-07-15 14:07:59 +++ [[ horizon == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ horizon == s-* ]]
2013-07-15 14:07:59 +++ [[ horizon == n-* ]]
2013-07-15 14:07:59 +++ [[ horizon == g-* ]]
2013-07-15 14:07:59 +++ [[ horizon == key* ]]
2013-07-15 14:07:59 +++ [[ horizon == q-* ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:07:59 +++ [[ -e /home/ubuntu/devstack/files/apts/rabbit ]]
2013-07-15 14:07:59 +++ [[ rabbit == n-api ]]
2013-07-15 14:07:59 +++ [[ rabbit == c-* ]]
2013-07-15 14:07:59 +++ [[ rabbit == ceilometer-* ]]
2013-07-15 14:07:59 +++ [[ rabbit == s-* ]]
2013-07-15 14:07:59 +++ [[ rabbit == n-* ]]
2013-07-15 14:07:59 +++ [[ rabbit == g-* ]]
2013-07-15 14:07:59 +++ [[ rabbit == key* ]]
2013-07-15 14:07:59 +++ [[ rabbit == q-* ]]
2013-07-15 14:07:59 +++ for service in general '${services//,/ }'
2013-07-15 14:08:00 +++ [[ -e /home/ubuntu/devstack/files/apts/tempest ]]
2013-07-15 14:08:00 +++ [[ tempest == n-api ]]
2013-07-15 14:08:00 +++ [[ tempest == c-* ]]
2013-07-15 14:08:00 +++ [[ tempest == ceilometer-* ]]
2013-07-15 14:08:00 +++ [[ tempest == s-* ]]
2013-07-15 14:08:00 +++ [[ tempest == n-* ]]
2013-07-15 14:08:00 +++ [[ tempest == g-* ]]
2013-07-15 14:08:00 +++ [[ tempest == key* ]]
2013-07-15 14:08:00 +++ [[ tempest == q-* ]]
2013-07-15 14:08:00 +++ for service in general '${services//,/ }'
2013-07-15 14:08:00 +++ [[ -e /home/ubuntu/devstack/files/apts/mysql ]]
2013-07-15 14:08:00 +++ [[ mysql == n-api ]]
2013-07-15 14:08:00 +++ [[ mysql == c-* ]]
2013-07-15 14:08:00 +++ [[ mysql == ceilometer-* ]]
2013-07-15 14:08:00 +++ [[ mysql == s-* ]]
2013-07-15 14:08:00 +++ [[ mysql == n-* ]]
2013-07-15 14:08:00 +++ [[ mysql == g-* ]]
2013-07-15 14:08:00 +++ [[ mysql == key* ]]
2013-07-15 14:08:00 +++ [[ mysql == q-* ]]
2013-07-15 14:08:00 +++ for file in '${file_to_parse}'
2013-07-15 14:08:00 +++ local fname=/home/ubuntu/devstack/files/apts/general
2013-07-15 14:08:00 +++ local OIFS line package distros distro
2013-07-15 14:08:00 +++ [[ -e /home/ubuntu/devstack/files/apts/general ]]
2013-07-15 14:08:00 +++ OIFS=' 	
2013-07-15 14:08:00 '
2013-07-15 14:08:00 +++ IFS='
2013-07-15 14:08:00 '
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ bridge-utils =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ bridge-utils =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo bridge-utils
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ pep8 =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ pep8 =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo pep8
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ pylint =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ pylint =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo pylint
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ python-pip =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ python-pip =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo python-pip
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ screen =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ screen =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo screen
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ unzip =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ unzip =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo unzip
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ wget =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ wget =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo wget
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ psmisc =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ psmisc =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo psmisc
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ git =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ git =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo git
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ lsof # useful when debugging =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ lsof # useful when debugging =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo 'lsof '
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ openssh-server =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ openssh-server =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo openssh-server
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ openssl =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ openssl =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo openssl
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ vim-nox =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ vim-nox =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo vim-nox
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ locate # useful when debugging =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ locate # useful when debugging =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo 'locate '
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ python-virtualenv =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ python-virtualenv =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo python-virtualenv
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ python-unittest2 =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ python-unittest2 =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo python-unittest2
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ iputils-ping =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ iputils-ping =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo iputils-ping
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ wget =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ wget =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo wget
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ curl =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ curl =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo curl
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ tcpdump =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ tcpdump =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo tcpdump
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ euca2ools # only for testing client =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ euca2ools # only for testing client =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo 'euca2ools '
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ tar =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ tar =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ echo tar
2013-07-15 14:08:00 +++ for line in '$(<${fname})'
2013-07-15 14:08:00 +++ [[ python-cmd2 # dist:precise =~ NOPRIME ]]
2013-07-15 14:08:00 +++ [[ python-cmd2 # dist:precise =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:00 +++ package='python-cmd2 '
2013-07-15 14:08:00 +++ distros=precise
2013-07-15 14:08:00 +++ [[ precise =~ precise ]]
2013-07-15 14:08:01 +++ echo 'python-cmd2 '
2013-07-15 14:08:01 +++ continue
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-netaddr =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-netaddr =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-netaddr
2013-07-15 14:08:01 +++ IFS=' 	
2013-07-15 14:08:01 '
2013-07-15 14:08:01 +++ for file in '${file_to_parse}'
2013-07-15 14:08:01 +++ local fname=/home/ubuntu/devstack/files/apts/glance
2013-07-15 14:08:01 +++ local OIFS line package distros distro
2013-07-15 14:08:01 +++ [[ -e /home/ubuntu/devstack/files/apts/glance ]]
2013-07-15 14:08:01 +++ OIFS=' 	
2013-07-15 14:08:01 '
2013-07-15 14:08:01 +++ IFS='
2013-07-15 14:08:01 '
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ gcc =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ gcc =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo gcc
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ libxml2-dev =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ libxml2-dev =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo libxml2-dev
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-dev =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-dev =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-dev
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-eventlet =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-eventlet =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-eventlet
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-routes =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-routes =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-routes
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-greenlet =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-greenlet =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-greenlet
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-argparse # dist:oneiric =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-argparse # dist:oneiric =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ package='python-argparse '
2013-07-15 14:08:01 +++ distros=oneiric
2013-07-15 14:08:01 +++ [[ oneiric =~ precise ]]
2013-07-15 14:08:01 +++ continue
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-sqlalchemy =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-sqlalchemy =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-sqlalchemy
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-wsgiref =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-wsgiref =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-wsgiref
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-pastedeploy =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-pastedeploy =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-pastedeploy
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-xattr =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-xattr =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-xattr
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-iso8601 =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-iso8601 =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-iso8601
2013-07-15 14:08:01 +++ IFS=' 	
2013-07-15 14:08:01 '
2013-07-15 14:08:01 +++ for file in '${file_to_parse}'
2013-07-15 14:08:01 +++ local fname=/home/ubuntu/devstack/files/apts/keystone
2013-07-15 14:08:01 +++ local OIFS line package distros distro
2013-07-15 14:08:01 +++ [[ -e /home/ubuntu/devstack/files/apts/keystone ]]
2013-07-15 14:08:01 +++ OIFS=' 	
2013-07-15 14:08:01 '
2013-07-15 14:08:01 +++ IFS='
2013-07-15 14:08:01 '
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-setuptools =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-setuptools =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-setuptools
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-dev =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-dev =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-dev
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-lxml =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-lxml =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-lxml
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-pastescript =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-pastescript =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-pastescript
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-pastedeploy =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-pastedeploy =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-pastedeploy
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-paste =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-paste =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-paste
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ sqlite3 =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ sqlite3 =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo sqlite3
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-pysqlite2 =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-pysqlite2 =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-pysqlite2
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-sqlalchemy =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-sqlalchemy =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-sqlalchemy
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-mysqldb =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-mysqldb =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-mysqldb
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-webob =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-webob =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-webob
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-greenlet =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-greenlet =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-greenlet
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-routes =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-routes =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-routes
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ libldap2-dev =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ libldap2-dev =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo libldap2-dev
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ libsasl2-dev =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ libsasl2-dev =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo libsasl2-dev
2013-07-15 14:08:01 +++ IFS=' 	
2013-07-15 14:08:01 '
2013-07-15 14:08:01 +++ for file in '${file_to_parse}'
2013-07-15 14:08:01 +++ local fname=/home/ubuntu/devstack/files/apts/n-api
2013-07-15 14:08:01 +++ local OIFS line package distros distro
2013-07-15 14:08:01 +++ [[ -e /home/ubuntu/devstack/files/apts/n-api ]]
2013-07-15 14:08:01 +++ OIFS=' 	
2013-07-15 14:08:01 '
2013-07-15 14:08:01 +++ IFS='
2013-07-15 14:08:01 '
2013-07-15 14:08:01 +++ for line in '$(<${fname})'
2013-07-15 14:08:01 +++ [[ python-dateutil =~ NOPRIME ]]
2013-07-15 14:08:01 +++ [[ python-dateutil =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:01 +++ echo python-dateutil
2013-07-15 14:08:01 +++ IFS=' 	
2013-07-15 14:08:02 '
2013-07-15 14:08:02 +++ for file in '${file_to_parse}'
2013-07-15 14:08:02 +++ local fname=/home/ubuntu/devstack/files/apts/nova
2013-07-15 14:08:02 +++ local OIFS line package distros distro
2013-07-15 14:08:02 +++ [[ -e /home/ubuntu/devstack/files/apts/nova ]]
2013-07-15 14:08:02 +++ OIFS=' 	
2013-07-15 14:08:02 '
2013-07-15 14:08:02 +++ IFS='
2013-07-15 14:08:02 '
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ dnsmasq-base =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ dnsmasq-base =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo dnsmasq-base
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ dnsmasq-utils # for dhcp_release only available in dist:oneiric,precise,quantal =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ dnsmasq-utils # for dhcp_release only available in dist:oneiric,precise,quantal =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ package='dnsmasq-utils '
2013-07-15 14:08:02 +++ distros=oneiric,precise,quantal
2013-07-15 14:08:02 +++ [[ oneiric,precise,quantal =~ precise ]]
2013-07-15 14:08:02 +++ echo 'dnsmasq-utils '
2013-07-15 14:08:02 +++ continue
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ kpartx =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ kpartx =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo kpartx
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ parted =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ parted =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo parted
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ arping # only available in dist:natty =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ arping # only available in dist:natty =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ package='arping '
2013-07-15 14:08:02 +++ distros=natty
2013-07-15 14:08:02 +++ [[ natty =~ precise ]]
2013-07-15 14:08:02 +++ continue
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ iputils-arping # only available in dist:oneiric =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ iputils-arping # only available in dist:oneiric =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ package='iputils-arping '
2013-07-15 14:08:02 +++ distros=oneiric
2013-07-15 14:08:02 +++ [[ oneiric =~ precise ]]
2013-07-15 14:08:02 +++ continue
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ mysql-server # NOPRIME =~ NOPRIME ]]
2013-07-15 14:08:02 +++ continue
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-mysqldb =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-mysqldb =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-mysqldb
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-xattr # needed for glance which is needed for nova --- this shouldn't be here =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-xattr # needed for glance which is needed for nova --- this shouldn't be here =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo 'python-xattr '
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-lxml # needed for glance which is needed for nova --- this shouldn't be here =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-lxml # needed for glance which is needed for nova --- this shouldn't be here =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo 'python-lxml '
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ gawk =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ gawk =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo gawk
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ iptables =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ iptables =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo iptables
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ ebtables =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ ebtables =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo ebtables
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ sqlite3 =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ sqlite3 =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo sqlite3
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ sudo =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ sudo =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo sudo
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ kvm =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ kvm =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo kvm
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ libvirt-bin # NOPRIME =~ NOPRIME ]]
2013-07-15 14:08:02 +++ continue
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ libjs-jquery-tablesorter # Needed for coverage html reports =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ libjs-jquery-tablesorter # Needed for coverage html reports =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo 'libjs-jquery-tablesorter '
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ vlan =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ vlan =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo vlan
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ curl =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ curl =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo curl
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ genisoimage # required for config_drive =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ genisoimage # required for config_drive =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo 'genisoimage '
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ rabbitmq-server # NOPRIME =~ NOPRIME ]]
2013-07-15 14:08:02 +++ continue
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ qpidd # dist:precise NOPRIME =~ NOPRIME ]]
2013-07-15 14:08:02 +++ continue
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ socat # used by ajaxterm =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ socat # used by ajaxterm =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo 'socat '
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-mox =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-mox =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-mox
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-paste =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-paste =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-paste
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-migrate =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-migrate =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-migrate
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-gflags =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-gflags =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-gflags
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-greenlet =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-greenlet =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-greenlet
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-libvirt =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-libvirt =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-libvirt
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-libxml2 =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-libxml2 =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-libxml2
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-routes =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-routes =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-routes
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-netaddr =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-netaddr =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-netaddr
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-numpy # used by websockify for spice console =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-numpy # used by websockify for spice console =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo 'python-numpy '
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-pastedeploy =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-pastedeploy =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-pastedeploy
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-eventlet =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-eventlet =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-eventlet
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-cheetah =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-cheetah =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-cheetah
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-carrot =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-carrot =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-carrot
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-tempita =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-tempita =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-tempita
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-sqlalchemy =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-sqlalchemy =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-sqlalchemy
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-suds =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-suds =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-suds
2013-07-15 14:08:02 +++ for line in '$(<${fname})'
2013-07-15 14:08:02 +++ [[ python-lockfile =~ NOPRIME ]]
2013-07-15 14:08:02 +++ [[ python-lockfile =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:02 +++ echo python-lockfile
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-m2crypto =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-m2crypto =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-m2crypto
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-boto =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-boto =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-boto
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-kombu =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-kombu =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-kombu
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-feedparser =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-feedparser =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-feedparser
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-iso8601 =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-iso8601 =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-iso8601
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-qpid # dist:precise =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-qpid # dist:precise =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ package='python-qpid '
2013-07-15 14:08:03 +++ distros=precise
2013-07-15 14:08:03 +++ [[ precise =~ precise ]]
2013-07-15 14:08:03 +++ echo 'python-qpid '
2013-07-15 14:08:03 +++ continue
2013-07-15 14:08:03 +++ IFS=' 	
2013-07-15 14:08:03 '
2013-07-15 14:08:03 +++ for file in '${file_to_parse}'
2013-07-15 14:08:03 +++ local fname=/home/ubuntu/devstack/files/apts/n-cpu
2013-07-15 14:08:03 +++ local OIFS line package distros distro
2013-07-15 14:08:03 +++ [[ -e /home/ubuntu/devstack/files/apts/n-cpu ]]
2013-07-15 14:08:03 +++ OIFS=' 	
2013-07-15 14:08:03 '
2013-07-15 14:08:03 +++ IFS='
2013-07-15 14:08:03 '
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ # Stuff for diablo volumes =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ # Stuff for diablo volumes =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ nbd-client =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ nbd-client =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo nbd-client
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ lvm2 =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ lvm2 =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo lvm2
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ open-iscsi =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ open-iscsi =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo open-iscsi
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ open-iscsi-utils =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ open-iscsi-utils =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo open-iscsi-utils
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ genisoimage =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ genisoimage =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo genisoimage
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ sysfsutils =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ sysfsutils =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo sysfsutils
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ sg3-utils =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ sg3-utils =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo sg3-utils
2013-07-15 14:08:03 +++ IFS=' 	
2013-07-15 14:08:03 '
2013-07-15 14:08:03 +++ for file in '${file_to_parse}'
2013-07-15 14:08:03 +++ local fname=/home/ubuntu/devstack/files/apts/cinder
2013-07-15 14:08:03 +++ local OIFS line package distros distro
2013-07-15 14:08:03 +++ [[ -e /home/ubuntu/devstack/files/apts/cinder ]]
2013-07-15 14:08:03 +++ OIFS=' 	
2013-07-15 14:08:03 '
2013-07-15 14:08:03 +++ IFS='
2013-07-15 14:08:03 '
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ tgt =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ tgt =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo tgt
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ lvm2 =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ lvm2 =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo lvm2
2013-07-15 14:08:03 +++ IFS=' 	
2013-07-15 14:08:03 '
2013-07-15 14:08:03 +++ for file in '${file_to_parse}'
2013-07-15 14:08:03 +++ local fname=/home/ubuntu/devstack/files/apts/n-novnc
2013-07-15 14:08:03 +++ local OIFS line package distros distro
2013-07-15 14:08:03 +++ [[ -e /home/ubuntu/devstack/files/apts/n-novnc ]]
2013-07-15 14:08:03 +++ OIFS=' 	
2013-07-15 14:08:03 '
2013-07-15 14:08:03 +++ IFS='
2013-07-15 14:08:03 '
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-numpy =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-numpy =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-numpy
2013-07-15 14:08:03 +++ IFS=' 	
2013-07-15 14:08:03 '
2013-07-15 14:08:03 +++ for file in '${file_to_parse}'
2013-07-15 14:08:03 +++ local fname=/home/ubuntu/devstack/files/apts/horizon
2013-07-15 14:08:03 +++ local OIFS line package distros distro
2013-07-15 14:08:03 +++ [[ -e /home/ubuntu/devstack/files/apts/horizon ]]
2013-07-15 14:08:03 +++ OIFS=' 	
2013-07-15 14:08:03 '
2013-07-15 14:08:03 +++ IFS='
2013-07-15 14:08:03 '
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ apache2  # NOPRIME =~ NOPRIME ]]
2013-07-15 14:08:03 +++ continue
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ libapache2-mod-wsgi  # NOPRIME =~ NOPRIME ]]
2013-07-15 14:08:03 +++ continue
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-beautifulsoup =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-beautifulsoup =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-beautifulsoup
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-dateutil =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-dateutil =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-dateutil
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-paste =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-paste =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-paste
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-pastedeploy =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-pastedeploy =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-pastedeploy
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-anyjson =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-anyjson =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-anyjson
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-routes =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-routes =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-routes
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-xattr =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-xattr =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-xattr
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-sqlalchemy =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-sqlalchemy =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-sqlalchemy
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-webob =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-webob =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-webob
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-kombu =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-kombu =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-kombu
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ pylint =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ pylint =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo pylint
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ pep8 =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ pep8 =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo pep8
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-eventlet =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-eventlet =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-eventlet
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-nose =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-nose =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-nose
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-sphinx =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-sphinx =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-sphinx
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-mox =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-mox =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-mox
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-kombu =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-kombu =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-kombu
2013-07-15 14:08:03 +++ for line in '$(<${fname})'
2013-07-15 14:08:03 +++ [[ python-coverage =~ NOPRIME ]]
2013-07-15 14:08:03 +++ [[ python-coverage =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:03 +++ echo python-coverage
2013-07-15 14:08:04 +++ for line in '$(<${fname})'
2013-07-15 14:08:04 +++ [[ python-cherrypy3 # why? =~ NOPRIME ]]
2013-07-15 14:08:04 +++ [[ python-cherrypy3 # why? =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:04 +++ echo 'python-cherrypy3 '
2013-07-15 14:08:04 +++ for line in '$(<${fname})'
2013-07-15 14:08:04 +++ [[ python-migrate =~ NOPRIME ]]
2013-07-15 14:08:04 +++ [[ python-migrate =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:04 +++ echo python-migrate
2013-07-15 14:08:04 +++ for line in '$(<${fname})'
2013-07-15 14:08:04 +++ [[ nodejs =~ NOPRIME ]]
2013-07-15 14:08:04 +++ [[ nodejs =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:04 +++ echo nodejs
2013-07-15 14:08:04 +++ for line in '$(<${fname})'
2013-07-15 14:08:04 +++ [[ nodejs-legacy # dist:quantal =~ NOPRIME ]]
2013-07-15 14:08:04 +++ [[ nodejs-legacy # dist:quantal =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:04 +++ package='nodejs-legacy '
2013-07-15 14:08:04 +++ distros=quantal
2013-07-15 14:08:04 +++ [[ quantal =~ precise ]]
2013-07-15 14:08:04 +++ continue
2013-07-15 14:08:04 +++ for line in '$(<${fname})'
2013-07-15 14:08:04 +++ [[ python-netaddr =~ NOPRIME ]]
2013-07-15 14:08:04 +++ [[ python-netaddr =~ (.*)#.*dist:([^ ]*) ]]
2013-07-15 14:08:04 +++ echo python-netaddr
2013-07-15 14:08:04 +++ IFS=' 	
2013-07-15 14:08:04 '
2013-07-15 14:08:04 ++ install_package bridge-utils pep8 pylint python-pip screen unzip wget psmisc git lsof openssh-server openssl vim-nox locate python-virtualenv python-unittest2 iputils-ping wget curl tcpdump euca2ools tar python-cmd2 python-netaddr gcc libxml2-dev python-dev python-eventlet python-routes python-greenlet python-sqlalchemy python-wsgiref python-pastedeploy python-xattr python-iso8601 python-setuptools python-dev python-lxml python-pastescript python-pastedeploy python-paste sqlite3 python-pysqlite2 python-sqlalchemy python-mysqldb python-webob python-greenlet python-routes libldap2-dev libsasl2-dev python-dateutil dnsmasq-base dnsmasq-utils kpartx parted python-mysqldb python-xattr python-lxml gawk iptables ebtables sqlite3 sudo kvm libjs-jquery-tablesorter vlan curl genisoimage socat python-mox python-paste python-migrate python-gflags python-greenlet python-libvirt python-libxml2 python-routes python-netaddr python-numpy python-pastedeploy python-eventlet python-cheetah python-carrot python-tempita python-sqlalchemy python-suds python-lockfile python-m2crypto python-boto python-kombu python-feedparser python-iso8601 python-qpid nbd-client lvm2 open-iscsi open-iscsi-utils genisoimage sysfsutils sg3-utils tgt lvm2 python-numpy python-beautifulsoup python-dateutil python-paste python-pastedeploy python-anyjson python-routes python-xattr python-sqlalchemy python-webob python-kombu pylint pep8 python-eventlet python-nose python-sphinx python-mox python-kombu python-coverage python-cherrypy3 python-migrate nodejs python-netaddr
2013-07-15 14:08:04 ++ is_ubuntu
2013-07-15 14:08:04 ++ [[ -z deb ]]
2013-07-15 14:08:04 ++ '[' deb = deb ']'
2013-07-15 14:08:04 ++ [[ '' = \T\r\u\e ]]
2013-07-15 14:08:04 ++ apt_get update
2013-07-15 14:08:04 ++ [[ False = \T\r\u\e ]]
2013-07-15 14:08:04 ++ [[ -z update ]]
2013-07-15 14:08:04 ++ local sudo=sudo
2013-07-15 14:08:04 +++ id -u
2013-07-15 14:08:04 ++ [[ 1000 = \0 ]]
2013-07-15 14:08:04 ++ sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes update
2013-07-15 14:08:04 Get:1 http://ap-northeast-1.ec2.archive.ubuntu.com precise Release.gpg [198 B]
2013-07-15 14:08:04 Get:2 http://ap-northeast-1.ec2.archive.ubuntu.com precise-updates Release.gpg [198 B]
2013-07-15 14:08:04 Hit http://ap-northeast-1.ec2.archive.ubuntu.com precise Release
2013-07-15 14:08:04 Hit http://ap-northeast-1.ec2.archive.ubuntu.com precise-updates Release
2013-07-15 14:08:04 Get:3 http://ap-northeast-1.ec2.archive.ubuntu.com precise/main Sources [934 kB]
2013-07-15 14:08:04 Get:4 http://ap-northeast-1.ec2.archive.ubuntu.com precise/universe Sources [5019 kB]
2013-07-15 14:08:04 Get:5 http://security.ubuntu.com precise-security Release.gpg [198 B]
2013-07-15 14:08:04 Get:6 http://security.ubuntu.com precise-security Release [49.6 kB]
2013-07-15 14:08:04 Hit http://ap-northeast-1.ec2.archive.ubuntu.com precise/main amd64 Packages
2013-07-15 14:08:04 Get:7 http://ap-northeast-1.ec2.archive.ubuntu.com precise/universe amd64 Packages [4786 kB]
2013-07-15 14:08:04 Get:8 http://ap-northeast-1.ec2.archive.ubuntu.com precise/main i386 Packages [1274 kB]
2013-07-15 14:08:04 Get:9 http://ap-northeast-1.ec2.archive.ubuntu.com precise/universe i386 Packages [4796 kB]
2013-07-15 14:08:04 Get:10 http://security.ubuntu.com precise-security/main Sources [83.5 kB]
2013-07-15 14:08:04 Get:11 http://ap-northeast-1.ec2.archive.ubuntu.com precise/main TranslationIndex [3706 B]
2013-07-15 14:08:04 Get:12 http://ap-northeast-1.ec2.archive.ubuntu.com precise/universe TranslationIndex [2922 B]
2013-07-15 14:08:04 Get:13 http://ap-northeast-1.ec2.archive.ubuntu.com precise-updates/main Sources [400 kB]
2013-07-15 14:08:04 Hit http://ap-northeast-1.ec2.archive.ubuntu.com precise-updates/universe Sources
2013-07-15 14:08:04 Get:14 http://ap-northeast-1.ec2.archive.ubuntu.com precise-updates/main amd64 Packages [650 kB]
2013-07-15 14:08:04 Get:15 http://ap-northeast-1.ec2.archive.ubuntu.com precise-updates/universe amd64 Packages [209 kB]
2013-07-15 14:08:04 Get:16 http://security.ubuntu.com precise-security/universe Sources [26.7 kB]
2013-07-15 14:08:04 Get:17 http://ap-northeast-1.ec2.archive.ubuntu.com precise-updates/main i386 Packages [670 kB]
2013-07-15 14:08:04 Hit http://ap-northeast-1.ec2.archive.ubuntu.com precise-updates/universe i386 Packages
2013-07-15 14:08:04 Get:18 http://ap-northeast-1.ec2.archive.ubuntu.com precise-updates/main TranslationIndex [3564 B]
2013-07-15 14:08:04 Get:19 http://ap-northeast-1.ec2.archive.ubuntu.com precise-updates/universe TranslationIndex [2850 B]
2013-07-15 14:08:04 Hit http://ap-northeast-1.ec2.archive.ubuntu.com precise/main Translation-en
2013-07-15 14:08:04 Hit http://ap-northeast-1.ec2.archive.ubuntu.com precise/universe Translation-en
2013-07-15 14:08:04 Get:20 http://security.ubuntu.com precise-security/main amd64 Packages [296 kB]
2013-07-15 14:08:04 Hit http://ap-northeast-1.ec2.archive.ubuntu.com precise-updates/main Translation-en
2013-07-15 14:08:04 Hit http://ap-northeast-1.ec2.archive.ubuntu.com precise-updates/universe Translation-en
2013-07-15 14:08:04 Get:21 http://security.ubuntu.com precise-security/universe amd64 Packages [77.4 kB]
2013-07-15 14:08:04 Get:22 http://security.ubuntu.com precise-security/main i386 Packages [311 kB]
2013-07-15 14:08:07 Get:23 http://security.ubuntu.com precise-security/universe i386 Packages [80.2 kB]
2013-07-15 14:08:07 Get:24 http://security.ubuntu.com precise-security/main TranslationIndex [74 B]
2013-07-15 14:08:08 Get:25 http://security.ubuntu.com precise-security/universe TranslationIndex [73 B]
2013-07-15 14:08:09 Hit http://security.ubuntu.com precise-security/main Translation-en
2013-07-15 14:08:09 Hit http://security.ubuntu.com precise-security/universe Translation-en
2013-07-15 14:08:10 Fetched 19.7 MB in 11s (1750 kB/s)
2013-07-15 14:08:15 Reading package lists...
2013-07-15 14:08:16 ++ NO_UPDATE_REPOS=True
2013-07-15 14:08:16 ++ apt_get install bridge-utils pep8 pylint python-pip screen unzip wget psmisc git lsof openssh-server openssl vim-nox locate python-virtualenv python-unittest2 iputils-ping wget curl tcpdump euca2ools tar python-cmd2 python-netaddr gcc libxml2-dev python-dev python-eventlet python-routes python-greenlet python-sqlalchemy python-wsgiref python-pastedeploy python-xattr python-iso8601 python-setuptools python-dev python-lxml python-pastescript python-pastedeploy python-paste sqlite3 python-pysqlite2 python-sqlalchemy python-mysqldb python-webob python-greenlet python-routes libldap2-dev libsasl2-dev python-dateutil dnsmasq-base dnsmasq-utils kpartx parted python-mysqldb python-xattr python-lxml gawk iptables ebtables sqlite3 sudo kvm libjs-jquery-tablesorter vlan curl genisoimage socat python-mox python-paste python-migrate python-gflags python-greenlet python-libvirt python-libxml2 python-routes python-netaddr python-numpy python-pastedeploy python-eventlet python-cheetah python-carrot python-tempita python-sqlalchemy python-suds python-lockfile python-m2crypto python-boto python-kombu python-feedparser python-iso8601 python-qpid nbd-client lvm2 open-iscsi open-iscsi-utils genisoimage sysfsutils sg3-utils tgt lvm2 python-numpy python-beautifulsoup python-dateutil python-paste python-pastedeploy python-anyjson python-routes python-xattr python-sqlalchemy python-webob python-kombu pylint pep8 python-eventlet python-nose python-sphinx python-mox python-kombu python-coverage python-cherrypy3 python-migrate nodejs python-netaddr
2013-07-15 14:08:16 ++ [[ False = \T\r\u\e ]]
2013-07-15 14:08:16 ++ [[ -z install bridge-utils pep8 pylint python-pip screen unzip wget psmisc git lsof openssh-server openssl vim-nox locate python-virtualenv python-unittest2 iputils-ping wget curl tcpdump euca2ools tar python-cmd2 python-netaddr gcc libxml2-dev python-dev python-eventlet python-routes python-greenlet python-sqlalchemy python-wsgiref python-pastedeploy python-xattr python-iso8601 python-setuptools python-dev python-lxml python-pastescript python-pastedeploy python-paste sqlite3 python-pysqlite2 python-sqlalchemy python-mysqldb python-webob python-greenlet python-routes libldap2-dev libsasl2-dev python-dateutil dnsmasq-base dnsmasq-utils kpartx parted python-mysqldb python-xattr python-lxml gawk iptables ebtables sqlite3 sudo kvm libjs-jquery-tablesorter vlan curl genisoimage socat python-mox python-paste python-migrate python-gflags python-greenlet python-libvirt python-libxml2 python-routes python-netaddr python-numpy python-pastedeploy python-eventlet python-cheetah python-carrot python-tempita python-sqlalchemy python-suds python-lockfile python-m2crypto python-boto python-kombu python-feedparser python-iso8601 python-qpid nbd-client lvm2 open-iscsi open-iscsi-utils genisoimage sysfsutils sg3-utils tgt lvm2 python-numpy python-beautifulsoup python-dateutil python-paste python-pastedeploy python-anyjson python-routes python-xattr python-sqlalchemy python-webob python-kombu pylint pep8 python-eventlet python-nose python-sphinx python-mox python-kombu python-coverage python-cherrypy3 python-migrate nodejs python-netaddr ]]
2013-07-15 14:08:16 ++ local sudo=sudo
2013-07-15 14:08:16 +++ id -u
2013-07-15 14:08:16 ++ [[ 1000 = \0 ]]
2013-07-15 14:08:16 ++ sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install bridge-utils pep8 pylint python-pip screen unzip wget psmisc git lsof openssh-server openssl vim-nox locate python-virtualenv python-unittest2 iputils-ping wget curl tcpdump euca2ools tar python-cmd2 python-netaddr gcc libxml2-dev python-dev python-eventlet python-routes python-greenlet python-sqlalchemy python-wsgiref python-pastedeploy python-xattr python-iso8601 python-setuptools python-dev python-lxml python-pastescript python-pastedeploy python-paste sqlite3 python-pysqlite2 python-sqlalchemy python-mysqldb python-webob python-greenlet python-routes libldap2-dev libsasl2-dev python-dateutil dnsmasq-base dnsmasq-utils kpartx parted python-mysqldb python-xattr python-lxml gawk iptables ebtables sqlite3 sudo kvm libjs-jquery-tablesorter vlan curl genisoimage socat python-mox python-paste python-migrate python-gflags python-greenlet python-libvirt python-libxml2 python-routes python-netaddr python-numpy python-pastedeploy python-eventlet python-cheetah python-carrot python-tempita python-sqlalchemy python-suds python-lockfile python-m2crypto python-boto python-kombu python-feedparser python-iso8601 python-qpid nbd-client lvm2 open-iscsi open-iscsi-utils genisoimage sysfsutils sg3-utils tgt lvm2 python-numpy python-beautifulsoup python-dateutil python-paste python-pastedeploy python-anyjson python-routes python-xattr python-sqlalchemy python-webob python-kombu pylint pep8 python-eventlet python-nose python-sphinx python-mox python-kombu python-coverage python-cherrypy3 python-migrate nodejs python-netaddr
2013-07-15 14:08:16 Reading package lists...
2013-07-15 14:08:16 Building dependency tree...
2013-07-15 14:08:16 Reading state information...
2013-07-15 14:08:16 ebtables is already the newest version.
2013-07-15 14:08:16 gawk is already the newest version.
2013-07-15 14:08:16 gcc is already the newest version.
2013-07-15 14:08:16 genisoimage is already the newest version.
2013-07-15 14:08:16 git is already the newest version.
2013-07-15 14:08:16 iputils-ping is already the newest version.
2013-07-15 14:08:16 kpartx is already the newest version.
2013-07-15 14:08:16 lsof is already the newest version.
2013-07-15 14:08:16 nbd-client is already the newest version.
2013-07-15 14:08:16 pep8 is already the newest version.
2013-07-15 14:08:16 pylint is already the newest version.
2013-07-15 14:08:16 python-anyjson is already the newest version.
2013-07-15 14:08:16 python-beautifulsoup is already the newest version.
2013-07-15 14:08:16 python-boto is already the newest version.
2013-07-15 14:08:16 python-carrot is already the newest version.
2013-07-15 14:08:16 python-cheetah is already the newest version.
2013-07-15 14:08:16 python-coverage is already the newest version.
2013-07-15 14:08:16 python-dateutil is already the newest version.
2013-07-15 14:08:16 python-gflags is already the newest version.
2013-07-15 14:08:16 python-iso8601 is already the newest version.
2013-07-15 14:08:16 python-kombu is already the newest version.
2013-07-15 14:08:16 python-lockfile is already the newest version.
2013-07-15 14:08:16 python-lxml is already the newest version.
2013-07-15 14:08:16 python-m2crypto is already the newest version.
2013-07-15 14:08:16 python-migrate is already the newest version.
2013-07-15 14:08:16 python-mox is already the newest version.
2013-07-15 14:08:16 python-netaddr is already the newest version.
2013-07-15 14:08:16 python-nose is already the newest version.
2013-07-15 14:08:16 python-numpy is already the newest version.
2013-07-15 14:08:16 python-paste is already the newest version.
2013-07-15 14:08:16 python-pastedeploy is already the newest version.
2013-07-15 14:08:16 python-pastescript is already the newest version.
2013-07-15 14:08:16 python-routes is already the newest version.
2013-07-15 14:08:16 python-setuptools is already the newest version.
2013-07-15 14:08:16 python-suds is already the newest version.
2013-07-15 14:08:16 python-tempita is already the newest version.
2013-07-15 14:08:16 python-unittest2 is already the newest version.
2013-07-15 14:08:16 python-xattr is already the newest version.
2013-07-15 14:08:16 screen is already the newest version.
2013-07-15 14:08:16 sg3-utils is already the newest version.
2013-07-15 14:08:16 tar is already the newest version.
2013-07-15 14:08:16 tcpdump is already the newest version.
2013-07-15 14:08:16 tgt is already the newest version.
2013-07-15 14:08:16 unzip is already the newest version.
2013-07-15 14:08:16 vlan is already the newest version.
2013-07-15 14:08:16 wget is already the newest version.
2013-07-15 14:08:16 libjs-jquery-tablesorter is already the newest version.
2013-07-15 14:08:16 locate is already the newest version.
2013-07-15 14:08:16 nodejs is already the newest version.
2013-07-15 14:08:16 python-cherrypy3 is already the newest version.
2013-07-15 14:08:16 python-cmd2 is already the newest version.
2013-07-15 14:08:16 python-pip is already the newest version.
2013-07-15 14:08:16 python-pysqlite2 is already the newest version.
2013-07-15 14:08:16 python-qpid is already the newest version.
2013-07-15 14:08:16 python-virtualenv is already the newest version.
2013-07-15 14:08:16 socat is already the newest version.
2013-07-15 14:08:16 sysfsutils is already the newest version.
2013-07-15 14:08:16 bridge-utils is already the newest version.
2013-07-15 14:08:16 curl is already the newest version.
2013-07-15 14:08:16 dnsmasq-base is already the newest version.
2013-07-15 14:08:16 dnsmasq-utils is already the newest version.
2013-07-15 14:08:16 euca2ools is already the newest version.
2013-07-15 14:08:16 iptables is already the newest version.
2013-07-15 14:08:16 kvm is already the newest version.
2013-07-15 14:08:16 libldap2-dev is already the newest version.
2013-07-15 14:08:16 libsasl2-dev is already the newest version.
2013-07-15 14:08:16 lvm2 is already the newest version.
2013-07-15 14:08:16 open-iscsi is already the newest version.
2013-07-15 14:08:16 open-iscsi-utils is already the newest version.
2013-07-15 14:08:16 openssh-server is already the newest version.
2013-07-15 14:08:17 openssl is already the newest version.
2013-07-15 14:08:17 parted is already the newest version.
2013-07-15 14:08:17 psmisc is already the newest version.
2013-07-15 14:08:17 python is already the newest version.
2013-07-15 14:08:17 python-dev is already the newest version.
2013-07-15 14:08:17 python-eventlet is already the newest version.
2013-07-15 14:08:17 python-feedparser is already the newest version.
2013-07-15 14:08:17 python-greenlet is already the newest version.
2013-07-15 14:08:17 python-libvirt is already the newest version.
2013-07-15 14:08:17 python-mysqldb is already the newest version.
2013-07-15 14:08:17 python-sphinx is already the newest version.
2013-07-15 14:08:17 python-sqlalchemy is already the newest version.
2013-07-15 14:08:17 python-webob is already the newest version.
2013-07-15 14:08:17 sqlite3 is already the newest version.
2013-07-15 14:08:17 sudo is already the newest version.
2013-07-15 14:08:17 vim-nox is already the newest version.
2013-07-15 14:08:17 The following extra packages will be installed:
2013-07-15 14:08:17   libxml2
2013-07-15 14:08:17 The following packages will be upgraded:
2013-07-15 14:08:17   libxml2 libxml2-dev python-libxml2
2013-07-15 14:08:17 3 upgraded, 0 newly installed, 0 to remove and 40 not upgraded.
2013-07-15 14:08:17 Need to get 1664 kB of archives.
2013-07-15 14:08:17 After this operation, 2048 B of additional disk space will be used.
2013-07-15 14:08:17 Get:1 http://security.ubuntu.com/ubuntu/ precise-security/main libxml2-dev amd64 2.7.8.dfsg-5.1ubuntu4.5 [804 kB]
2013-07-15 14:08:19 Get:2 http://security.ubuntu.com/ubuntu/ precise-security/main libxml2 amd64 2.7.8.dfsg-5.1ubuntu4.5 [674 kB]
2013-07-15 14:08:20 Get:3 http://security.ubuntu.com/ubuntu/ precise-security/main python-libxml2 amd64 2.7.8.dfsg-5.1ubuntu4.5 [186 kB]
2013-07-15 14:08:20 perl: warning: Setting locale failed.
2013-07-15 14:08:20 perl: warning: Please check that your locale settings:
2013-07-15 14:08:20 	LANGUAGE = (unset),
2013-07-15 14:08:20 	LC_ALL = (unset),
2013-07-15 14:08:20 	LC_TIME = "ja_JP.UTF-8",
2013-07-15 14:08:20 	LC_MONETARY = "ja_JP.UTF-8",
2013-07-15 14:08:20 	LC_ADDRESS = "ja_JP.UTF-8",
2013-07-15 14:08:20 	LC_TELEPHONE = "ja_JP.UTF-8",
2013-07-15 14:08:20 	LC_NAME = "ja_JP.UTF-8",
2013-07-15 14:08:20 	LC_MEASUREMENT = "ja_JP.UTF-8",
2013-07-15 14:08:20 	LC_IDENTIFICATION = "ja_JP.UTF-8",
2013-07-15 14:08:20 	LC_NUMERIC = "ja_JP.UTF-8",
2013-07-15 14:08:20 	LC_PAPER = "ja_JP.UTF-8",
2013-07-15 14:08:20 	LANG = "en_US.UTF-8"
2013-07-15 14:08:20     are supported and installed on your system.
2013-07-15 14:08:20 perl: warning: Falling back to the standard locale ("C").
2013-07-15 14:08:21 locale: Cannot set LC_ALL to default locale: No such file or directory
2013-07-15 14:08:21 Fetched 1664 kB in 3s (459 kB/s)
2013-07-15 14:08:22 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 67829 files and directories currently installed.)
2013-07-15 14:08:22 Preparing to replace libxml2-dev 2.7.8.dfsg-5.1ubuntu4.4 (using .../libxml2-dev_2.7.8.dfsg-5.1ubuntu4.5_amd64.deb) ...
2013-07-15 14:08:22 Unpacking replacement libxml2-dev ...
2013-07-15 14:08:23 Preparing to replace libxml2 2.7.8.dfsg-5.1ubuntu4.4 (using .../libxml2_2.7.8.dfsg-5.1ubuntu4.5_amd64.deb) ...
2013-07-15 14:08:23 Unpacking replacement libxml2 ...
2013-07-15 14:08:23 Preparing to replace python-libxml2 2.7.8.dfsg-5.1ubuntu4.4 (using .../python-libxml2_2.7.8.dfsg-5.1ubuntu4.5_amd64.deb) ...
2013-07-15 14:08:23 Unpacking replacement python-libxml2 ...
2013-07-15 14:08:23 Processing triggers for man-db ...
2013-07-15 14:08:23 locale: Cannot set LC_ALL to default locale: No such file or directory
2013-07-15 14:08:29 Setting up libxml2 (2.7.8.dfsg-5.1ubuntu4.5) ...
2013-07-15 14:08:29 Setting up libxml2-dev (2.7.8.dfsg-5.1ubuntu4.5) ...
2013-07-15 14:08:29 Setting up python-libxml2 (2.7.8.dfsg-5.1ubuntu4.5) ...
2013-07-15 14:08:29 Processing triggers for libc-bin ...
2013-07-15 14:08:29 ldconfig deferred processing now taking place
2013-07-15 14:08:31 ++ [[ -n True ]]
2013-07-15 14:08:31 ++ [[ True != \F\a\l\s\e ]]
2013-07-15 14:08:31 ++ is_ubuntu
2013-07-15 14:08:31 ++ [[ -z deb ]]
2013-07-15 14:08:31 ++ '[' deb = deb ']'
2013-07-15 14:08:31 ++ install_package rsyslog-relp
2013-07-15 14:08:31 ++ is_ubuntu
2013-07-15 14:08:31 ++ [[ -z deb ]]
2013-07-15 14:08:31 ++ '[' deb = deb ']'
2013-07-15 14:08:31 ++ [[ True = \T\r\u\e ]]
2013-07-15 14:08:31 ++ NO_UPDATE_REPOS=True
2013-07-15 14:08:31 ++ apt_get install rsyslog-relp
2013-07-15 14:08:31 ++ [[ False = \T\r\u\e ]]
2013-07-15 14:08:31 ++ [[ -z install rsyslog-relp ]]
2013-07-15 14:08:31 ++ local sudo=sudo
2013-07-15 14:08:31 +++ id -u
2013-07-15 14:08:31 ++ [[ 1000 = \0 ]]
2013-07-15 14:08:31 ++ sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install rsyslog-relp
2013-07-15 14:08:31 Reading package lists...
2013-07-15 14:08:31 Building dependency tree...
2013-07-15 14:08:31 Reading state information...
2013-07-15 14:08:31 rsyslog-relp is already the newest version.
2013-07-15 14:08:31 0 upgraded, 0 newly installed, 0 to remove and 40 not upgraded.
2013-07-15 14:08:31 ++ date +%s
2013-07-15 14:08:31 ++ date
2013-07-15 14:08:31 + install_rpc_backend
2013-07-15 14:08:31 + is_service_enabled rabbit
2013-07-15 14:08:31 + services=rabbit
2013-07-15 14:08:31 + for service in '${services}'
2013-07-15 14:08:31 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,rabbit, ]]
2013-07-15 14:08:31 + return 0
2013-07-15 14:08:31 ++ mktemp
2013-07-15 14:08:31 + tfile=/tmp/tmp.4AoIbWINx6
2013-07-15 14:08:31 + install_package rabbitmq-server
2013-07-15 14:08:32 + cat /tmp/tmp.4AoIbWINx6
2013-07-15 14:08:32 + is_ubuntu
2013-07-15 14:08:32 + [[ -z deb ]]
2013-07-15 14:08:32 + '[' deb = deb ']'
2013-07-15 14:08:32 + [[ True = \T\r\u\e ]]
2013-07-15 14:08:32 + NO_UPDATE_REPOS=True
2013-07-15 14:08:32 + apt_get install rabbitmq-server
2013-07-15 14:08:32 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:32 + [[ -z install rabbitmq-server ]]
2013-07-15 14:08:32 + local sudo=sudo
2013-07-15 14:08:32 ++ id -u
2013-07-15 14:08:32 + [[ 1000 = \0 ]]
2013-07-15 14:08:32 + sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install rabbitmq-server
2013-07-15 14:08:32 Reading package lists...
2013-07-15 14:08:32 Building dependency tree...
2013-07-15 14:08:32 Reading state information...
2013-07-15 14:08:32 rabbitmq-server is already the newest version.
2013-07-15 14:08:32 0 upgraded, 0 newly installed, 0 to remove and 40 not upgraded.
2013-07-15 14:08:32 + rm -f /tmp/tmp.4AoIbWINx6
2013-07-15 14:08:32 + is_service_enabled mysql postgresql
2013-07-15 14:08:32 + services='mysql postgresql'
2013-07-15 14:08:32 + for service in '${services}'
2013-07-15 14:08:32 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,mysql, ]]
2013-07-15 14:08:32 + return 0
2013-07-15 14:08:32 + install_database
2013-07-15 14:08:32 + install_database_mysql
2013-07-15 14:08:32 + is_ubuntu
2013-07-15 14:08:32 + [[ -z deb ]]
2013-07-15 14:08:32 + '[' deb = deb ']'
2013-07-15 14:08:32 + cat
2013-07-15 14:08:32 + sudo debconf-set-selections
2013-07-15 14:08:32 perl: warning: Setting locale failed.
2013-07-15 14:08:32 perl: warning: Please check that your locale settings:
2013-07-15 14:08:32 	LANGUAGE = (unset),
2013-07-15 14:08:32 	LC_ALL = (unset),
2013-07-15 14:08:32 	LC_PAPER = "ja_JP.UTF-8",
2013-07-15 14:08:32 	LC_ADDRESS = "ja_JP.UTF-8",
2013-07-15 14:08:32 	LC_MONETARY = "ja_JP.UTF-8",
2013-07-15 14:08:32 	LC_NUMERIC = "ja_JP.UTF-8",
2013-07-15 14:08:32 	LC_TELEPHONE = "ja_JP.UTF-8",
2013-07-15 14:08:32 	LC_IDENTIFICATION = "ja_JP.UTF-8",
2013-07-15 14:08:32 	LC_MEASUREMENT = "ja_JP.UTF-8",
2013-07-15 14:08:32 	LC_TIME = "ja_JP.UTF-8",
2013-07-15 14:08:32 	LC_NAME = "ja_JP.UTF-8",
2013-07-15 14:08:32 	LANG = "en_US.UTF-8"
2013-07-15 14:08:32     are supported and installed on your system.
2013-07-15 14:08:32 perl: warning: Falling back to the standard locale ("C").
2013-07-15 14:08:32 locale: Cannot set LC_ALL to default locale: No such file or directory
2013-07-15 14:08:32 + [[ ! -e /home/ubuntu/.my.cnf ]]
2013-07-15 14:08:32 + is_ubuntu
2013-07-15 14:08:32 + [[ -z deb ]]
2013-07-15 14:08:32 + '[' deb = deb ']'
2013-07-15 14:08:32 + install_package mysql-server
2013-07-15 14:08:32 + is_ubuntu
2013-07-15 14:08:32 + [[ -z deb ]]
2013-07-15 14:08:32 + '[' deb = deb ']'
2013-07-15 14:08:32 + [[ True = \T\r\u\e ]]
2013-07-15 14:08:32 + NO_UPDATE_REPOS=True
2013-07-15 14:08:32 + apt_get install mysql-server
2013-07-15 14:08:32 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:32 + [[ -z install mysql-server ]]
2013-07-15 14:08:32 + local sudo=sudo
2013-07-15 14:08:32 ++ id -u
2013-07-15 14:08:32 + [[ 1000 = \0 ]]
2013-07-15 14:08:32 + sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install mysql-server
2013-07-15 14:08:32 Reading package lists...
2013-07-15 14:08:33 Building dependency tree...
2013-07-15 14:08:33 Reading state information...
2013-07-15 14:08:33 mysql-server is already the newest version.
2013-07-15 14:08:33 0 upgraded, 0 newly installed, 0 to remove and 40 not upgraded.
2013-07-15 14:08:33 + is_service_enabled q-agt
2013-07-15 14:08:33 + services=q-agt
2013-07-15 14:08:33 + for service in '${services}'
2013-07-15 14:08:33 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,q-agt, ]]
2013-07-15 14:08:33 + [[ q-agt == \n\o\v\a ]]
2013-07-15 14:08:33 + [[ q-agt == \c\i\n\d\e\r ]]
2013-07-15 14:08:33 + [[ q-agt == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:08:33 + [[ q-agt == \g\l\a\n\c\e ]]
2013-07-15 14:08:33 + [[ q-agt == \q\u\a\n\t\u\m ]]
2013-07-15 14:08:33 + [[ q-agt == \s\w\i\f\t ]]
2013-07-15 14:08:33 + [[ q-agt == s-* ]]
2013-07-15 14:08:33 + return 1
2013-07-15 14:08:33 + TRACK_DEPENDS=False
2013-07-15 14:08:33 + [[ False = True ]]
2013-07-15 14:08:33 + echo_summary 'Installing OpenStack project source'
2013-07-15 14:08:33 + [[ -t 3 ]]
2013-07-15 14:08:33 + [[ True != \T\r\u\e ]]
2013-07-15 14:08:33 + echo -e Installing OpenStack project source
2013-07-15 14:08:33 + install_keystoneclient
2013-07-15 14:08:33 + git_clone https://github.com/openstack/python-keystoneclient.git /opt/stack/python-keystoneclient master
2013-07-15 14:08:33 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:33 + GIT_REMOTE=https://github.com/openstack/python-keystoneclient.git
2013-07-15 14:08:33 + GIT_DEST=/opt/stack/python-keystoneclient
2013-07-15 14:08:33 + GIT_REF=master
2013-07-15 14:08:33 Installing OpenStack project source
2013-07-15 14:08:33 + echo master
2013-07-15 14:08:33 + egrep -q '^refs'
2013-07-15 14:08:33 + [[ ! -d /opt/stack/python-keystoneclient ]]
2013-07-15 14:08:33 + [[ '' == \y\e\s ]]
2013-07-15 14:08:33 + setup_develop /opt/stack/python-keystoneclient
2013-07-15 14:08:33 + [[ False = True ]]
2013-07-15 14:08:33 + SUDO_CMD=sudo
2013-07-15 14:08:33 + cd /opt/stack/python-keystoneclient
2013-07-15 14:08:33 + python setup.py egg_info
2013-07-15 14:08:35 running egg_info
2013-07-15 14:08:35 writing requirements to python_keystoneclient.egg-info/requires.txt
2013-07-15 14:08:35 writing python_keystoneclient.egg-info/PKG-INFO
2013-07-15 14:08:35 writing top-level names to python_keystoneclient.egg-info/top_level.txt
2013-07-15 14:08:35 writing dependency_links to python_keystoneclient.egg-info/dependency_links.txt
2013-07-15 14:08:35 writing entry points to python_keystoneclient.egg-info/entry_points.txt
2013-07-15 14:08:35 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:35 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:35 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:35 writing manifest file 'python_keystoneclient.egg-info/SOURCES.txt'
2013-07-15 14:08:35 ++ awk '/^.+/ {print "-f " $1}' python_keystoneclient.egg-info/dependency_links.txt
2013-07-15 14:08:35 + raw_links=
2013-07-15 14:08:35 ++ xargs
2013-07-15 14:08:35 ++ echo
2013-07-15 14:08:35 + depend_links=
2013-07-15 14:08:35 ++ '[' '!' -r python_keystoneclient.egg-info/requires.txt ']'
2013-07-15 14:08:35 ++ echo '-r *-info/requires.txt'
2013-07-15 14:08:35 + require_file='-r *-info/requires.txt'
2013-07-15 14:08:35 + pip_install -r python_keystoneclient.egg-info/requires.txt
2013-07-15 14:08:35 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:35 + [[ -z -r python_keystoneclient.egg-info/requires.txt ]]
2013-07-15 14:08:35 + [[ -z deb ]]
2013-07-15 14:08:35 + [[ False = True ]]
2013-07-15 14:08:35 + SUDO_PIP=sudo
2013-07-15 14:08:35 ++ get_pip_command
2013-07-15 14:08:35 ++ is_fedora
2013-07-15 14:08:35 ++ [[ -z Ubuntu ]]
2013-07-15 14:08:35 ++ '[' Ubuntu = Fedora ']'
2013-07-15 14:08:35 ++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:08:35 ++ '[' Ubuntu = CentOS ']'
2013-07-15 14:08:35 ++ which pip
2013-07-15 14:08:35 + CMD_PIP=/usr/bin/pip
2013-07-15 14:08:35 + [[ '' != \F\a\l\s\e ]]
2013-07-15 14:08:35 + PIP_MIRROR_OPT=--use-mirrors
2013-07-15 14:08:35 + sudo PIP_DOWNLOAD_CACHE=/var/cache/pip HTTP_PROXY= HTTPS_PROXY= NO_PROXY= /usr/bin/pip install --use-mirrors -r python_keystoneclient.egg-info/requires.txt
2013-07-15 14:08:35 Requirement already satisfied (use --upgrade to upgrade): d2to1>=0.2.10,<0.3 in /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg (from -r python_keystoneclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:35 Requirement already satisfied (use --upgrade to upgrade): pbr>=0.5,<0.6 in /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg (from -r python_keystoneclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:35 Requirement already satisfied (use --upgrade to upgrade): iso8601>=0.1.4 in /usr/lib/python2.7/dist-packages (from -r python_keystoneclient.egg-info/requires.txt (line 3))
2013-07-15 14:08:35 Requirement already satisfied (use --upgrade to upgrade): prettytable>=0.6,<0.8 in /usr/local/lib/python2.7/dist-packages (from -r python_keystoneclient.egg-info/requires.txt (line 4))
2013-07-15 14:08:35 Requirement already satisfied (use --upgrade to upgrade): requests>=0.8.8 in /usr/local/lib/python2.7/dist-packages (from -r python_keystoneclient.egg-info/requires.txt (line 5))
2013-07-15 14:08:35 Requirement already satisfied (use --upgrade to upgrade): simplejson in /usr/lib/python2.7/dist-packages (from -r python_keystoneclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:35 Requirement already satisfied (use --upgrade to upgrade): six in /usr/local/lib/python2.7/dist-packages (from -r python_keystoneclient.egg-info/requires.txt (line 7))
2013-07-15 14:08:35 Requirement already satisfied (use --upgrade to upgrade): oslo.config>=1.1.0 in /usr/local/lib/python2.7/dist-packages (from -r python_keystoneclient.egg-info/requires.txt (line 8))
2013-07-15 14:08:35 Requirement already satisfied (use --upgrade to upgrade): distribute in /usr/lib/python2.7/dist-packages (from d2to1>=0.2.10,<0.3->-r python_keystoneclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:35 Requirement already satisfied (use --upgrade to upgrade): setuptools-git>=0.4 in /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg (from pbr>=0.5,<0.6->-r python_keystoneclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:35 Cleaning up...
2013-07-15 14:08:35 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-15 14:08:36 running develop
2013-07-15 14:08:36 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-15 14:08:36 /usr/bin/python -E -c pass
2013-07-15 14:08:36 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-15 14:08:36 running egg_info
2013-07-15 14:08:36 writing requirements to python_keystoneclient.egg-info/requires.txt
2013-07-15 14:08:36 writing python_keystoneclient.egg-info/PKG-INFO
2013-07-15 14:08:36 writing top-level names to python_keystoneclient.egg-info/top_level.txt
2013-07-15 14:08:36 writing dependency_links to python_keystoneclient.egg-info/dependency_links.txt
2013-07-15 14:08:36 writing entry points to python_keystoneclient.egg-info/entry_points.txt
2013-07-15 14:08:36 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:36 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:36 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:36 writing manifest file 'python_keystoneclient.egg-info/SOURCES.txt'
2013-07-15 14:08:36 running build_ext
2013-07-15 14:08:36 Creating /usr/local/lib/python2.7/dist-packages/python-keystoneclient.egg-link (link to .)
2013-07-15 14:08:36 Removing python-keystoneclient 0.2.5 from easy-install.pth file
2013-07-15 14:08:36 python-keystoneclient 0.3.1.11.gf2ad113 is already the active version in easy-install.pth
2013-07-15 14:08:36 Installing keystone script to /usr/local/bin
2013-07-15 14:08:36 
2013-07-15 14:08:36 Installed /opt/stack/python-keystoneclient
2013-07-15 14:08:36 Processing dependencies for python-keystoneclient==0.3.1.11.gf2ad113
2013-07-15 14:08:36 Searching for oslo.config==1.1.1
2013-07-15 14:08:36 Best match: oslo.config 1.1.1
2013-07-15 14:08:36 Adding oslo.config 1.1.1 to easy-install.pth file
2013-07-15 14:08:36 
2013-07-15 14:08:36 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:36 Searching for six==1.3.0
2013-07-15 14:08:36 Best match: six 1.3.0
2013-07-15 14:08:36 six 1.3.0 is already the active version in easy-install.pth
2013-07-15 14:08:36 
2013-07-15 14:08:36 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:36 Searching for simplejson==2.3.2
2013-07-15 14:08:36 Best match: simplejson 2.3.2
2013-07-15 14:08:36 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-15 14:08:36 
2013-07-15 14:08:36 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:36 Searching for requests==1.2.3
2013-07-15 14:08:36 Best match: requests 1.2.3
2013-07-15 14:08:37 requests 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:08:37 
2013-07-15 14:08:37 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:37 Searching for prettytable==0.7.2
2013-07-15 14:08:37 Best match: prettytable 0.7.2
2013-07-15 14:08:37 prettytable 0.7.2 is already the active version in easy-install.pth
2013-07-15 14:08:37 
2013-07-15 14:08:37 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:37 Searching for iso8601==0.1.4
2013-07-15 14:08:37 Best match: iso8601 0.1.4
2013-07-15 14:08:37 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-15 14:08:37 
2013-07-15 14:08:37 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:37 Searching for pbr==0.5.18
2013-07-15 14:08:37 Best match: pbr 0.5.18
2013-07-15 14:08:37 Processing pbr-0.5.18-py2.7.egg
2013-07-15 14:08:37 Removing pbr 0.5.18 from easy-install.pth file
2013-07-15 14:08:37 pbr 0.5.18 is already the active version in easy-install.pth
2013-07-15 14:08:37 
2013-07-15 14:08:37 Using /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg
2013-07-15 14:08:37 Searching for d2to1==0.2.10
2013-07-15 14:08:37 Best match: d2to1 0.2.10
2013-07-15 14:08:37 Processing d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:37 Removing d2to1 0.2.10 from easy-install.pth file
2013-07-15 14:08:37 d2to1 0.2.10 is already the active version in easy-install.pth
2013-07-15 14:08:37 
2013-07-15 14:08:37 Using /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:37 Searching for setuptools-git==1.0
2013-07-15 14:08:37 Best match: setuptools-git 1.0
2013-07-15 14:08:37 Processing setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:37 Removing setuptools-git 1.0 from easy-install.pth file
2013-07-15 14:08:37 setuptools-git 1.0 is already the active version in easy-install.pth
2013-07-15 14:08:37 
2013-07-15 14:08:37 Using /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:37 Searching for distribute==0.6.24dev-r0
2013-07-15 14:08:37 Best match: distribute 0.6.24dev-r0
2013-07-15 14:08:37 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-15 14:08:37 Installing easy_install script to /usr/local/bin
2013-07-15 14:08:37 Installing easy_install-2.7 script to /usr/local/bin
2013-07-15 14:08:37 
2013-07-15 14:08:37 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:37 Finished processing dependencies for python-keystoneclient==0.3.1.11.gf2ad113
2013-07-15 14:08:37 + install_glanceclient
2013-07-15 14:08:37 + git_clone https://github.com/openstack/python-glanceclient.git /opt/stack/python-glanceclient master
2013-07-15 14:08:37 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:37 + GIT_REMOTE=https://github.com/openstack/python-glanceclient.git
2013-07-15 14:08:37 + GIT_DEST=/opt/stack/python-glanceclient
2013-07-15 14:08:37 + GIT_REF=master
2013-07-15 14:08:37 + echo master
2013-07-15 14:08:37 + egrep -q '^refs'
2013-07-15 14:08:37 + [[ ! -d /opt/stack/python-glanceclient ]]
2013-07-15 14:08:37 + [[ '' == \y\e\s ]]
2013-07-15 14:08:37 + setup_develop /opt/stack/python-glanceclient
2013-07-15 14:08:37 + [[ False = True ]]
2013-07-15 14:08:37 + SUDO_CMD=sudo
2013-07-15 14:08:37 + cd /opt/stack/python-glanceclient
2013-07-15 14:08:37 + python setup.py egg_info
2013-07-15 14:08:37 running egg_info
2013-07-15 14:08:37 writing requirements to python_glanceclient.egg-info/requires.txt
2013-07-15 14:08:37 writing python_glanceclient.egg-info/PKG-INFO
2013-07-15 14:08:37 writing top-level names to python_glanceclient.egg-info/top_level.txt
2013-07-15 14:08:37 writing dependency_links to python_glanceclient.egg-info/dependency_links.txt
2013-07-15 14:08:37 writing entry points to python_glanceclient.egg-info/entry_points.txt
2013-07-15 14:08:37 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:37 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:37 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:37 writing manifest file 'python_glanceclient.egg-info/SOURCES.txt'
2013-07-15 14:08:37 ++ awk '/^.+/ {print "-f " $1}' python_glanceclient.egg-info/dependency_links.txt
2013-07-15 14:08:37 + raw_links=
2013-07-15 14:08:37 ++ xargs
2013-07-15 14:08:37 ++ echo
2013-07-15 14:08:37 + depend_links=
2013-07-15 14:08:37 ++ '[' '!' -r python_glanceclient.egg-info/requires.txt ']'
2013-07-15 14:08:37 ++ echo '-r *-info/requires.txt'
2013-07-15 14:08:37 + require_file='-r *-info/requires.txt'
2013-07-15 14:08:37 + pip_install -r python_glanceclient.egg-info/requires.txt
2013-07-15 14:08:37 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:37 + [[ -z -r python_glanceclient.egg-info/requires.txt ]]
2013-07-15 14:08:37 + [[ -z deb ]]
2013-07-15 14:08:37 + [[ False = True ]]
2013-07-15 14:08:37 + SUDO_PIP=sudo
2013-07-15 14:08:37 ++ get_pip_command
2013-07-15 14:08:37 ++ is_fedora
2013-07-15 14:08:37 ++ [[ -z Ubuntu ]]
2013-07-15 14:08:37 ++ '[' Ubuntu = Fedora ']'
2013-07-15 14:08:37 ++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:08:37 ++ '[' Ubuntu = CentOS ']'
2013-07-15 14:08:37 ++ which pip
2013-07-15 14:08:37 + CMD_PIP=/usr/bin/pip
2013-07-15 14:08:37 + [[ '' != \F\a\l\s\e ]]
2013-07-15 14:08:37 + PIP_MIRROR_OPT=--use-mirrors
2013-07-15 14:08:37 + sudo PIP_DOWNLOAD_CACHE=/var/cache/pip HTTP_PROXY= HTTPS_PROXY= NO_PROXY= /usr/bin/pip install --use-mirrors -r python_glanceclient.egg-info/requires.txt
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): d2to1>=0.2.10,<0.3 in /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg (from -r python_glanceclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): pbr>=0.5,<0.6 in /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg (from -r python_glanceclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): prettytable>=0.6,<0.8 in /usr/local/lib/python2.7/dist-packages (from -r python_glanceclient.egg-info/requires.txt (line 3))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): python-keystoneclient>=0.1.2,<1 in /opt/stack/python-keystoneclient (from -r python_glanceclient.egg-info/requires.txt (line 4))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): pyOpenSSL in /usr/lib/python2.7/dist-packages (from -r python_glanceclient.egg-info/requires.txt (line 5))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): warlock>=0.7.0,<2 in /usr/local/lib/python2.7/dist-packages (from -r python_glanceclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): distribute in /usr/lib/python2.7/dist-packages (from d2to1>=0.2.10,<0.3->-r python_glanceclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): setuptools-git>=0.4 in /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg (from pbr>=0.5,<0.6->-r python_glanceclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): iso8601>=0.1.4 in /usr/lib/python2.7/dist-packages (from python-keystoneclient>=0.1.2,<1->-r python_glanceclient.egg-info/requires.txt (line 4))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): requests>=0.8.8 in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.1.2,<1->-r python_glanceclient.egg-info/requires.txt (line 4))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): simplejson in /usr/lib/python2.7/dist-packages (from python-keystoneclient>=0.1.2,<1->-r python_glanceclient.egg-info/requires.txt (line 4))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): six in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.1.2,<1->-r python_glanceclient.egg-info/requires.txt (line 4))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): oslo.config>=1.1.0 in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.1.2,<1->-r python_glanceclient.egg-info/requires.txt (line 4))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): jsonschema>=0.7,<3 in /usr/local/lib/python2.7/dist-packages (from warlock>=0.7.0,<2->-r python_glanceclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): jsonpatch>=0.10,<2 in /usr/local/lib/python2.7/dist-packages (from warlock>=0.7.0,<2->-r python_glanceclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:38 Requirement already satisfied (use --upgrade to upgrade): jsonpointer>=1.0 in /usr/local/lib/python2.7/dist-packages (from jsonpatch>=0.10,<2->warlock>=0.7.0,<2->-r python_glanceclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:38 Cleaning up...
2013-07-15 14:08:38 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-15 14:08:38 running develop
2013-07-15 14:08:38 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-15 14:08:38 /usr/bin/python -E -c pass
2013-07-15 14:08:38 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-15 14:08:38 running egg_info
2013-07-15 14:08:38 writing requirements to python_glanceclient.egg-info/requires.txt
2013-07-15 14:08:38 writing python_glanceclient.egg-info/PKG-INFO
2013-07-15 14:08:38 writing top-level names to python_glanceclient.egg-info/top_level.txt
2013-07-15 14:08:38 writing dependency_links to python_glanceclient.egg-info/dependency_links.txt
2013-07-15 14:08:38 writing entry points to python_glanceclient.egg-info/entry_points.txt
2013-07-15 14:08:38 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:38 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:38 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:38 writing manifest file 'python_glanceclient.egg-info/SOURCES.txt'
2013-07-15 14:08:38 running build_ext
2013-07-15 14:08:38 Creating /usr/local/lib/python2.7/dist-packages/python-glanceclient.egg-link (link to .)
2013-07-15 14:08:38 python-glanceclient 0.9.0.48.g8427208 is already the active version in easy-install.pth
2013-07-15 14:08:38 Installing glance script to /usr/local/bin
2013-07-15 14:08:38 
2013-07-15 14:08:38 Installed /opt/stack/python-glanceclient
2013-07-15 14:08:38 Processing dependencies for python-glanceclient==0.9.0.48.g8427208
2013-07-15 14:08:38 Searching for warlock==1.0.1
2013-07-15 14:08:38 Best match: warlock 1.0.1
2013-07-15 14:08:38 Adding warlock 1.0.1 to easy-install.pth file
2013-07-15 14:08:38 
2013-07-15 14:08:38 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:38 Searching for pyOpenSSL==0.12
2013-07-15 14:08:38 Best match: pyOpenSSL 0.12
2013-07-15 14:08:38 Adding pyOpenSSL 0.12 to easy-install.pth file
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:39 Searching for python-keystoneclient==0.3.1.11.gf2ad113
2013-07-15 14:08:39 Best match: python-keystoneclient 0.3.1.11.gf2ad113
2013-07-15 14:08:39 python-keystoneclient 0.3.1.11.gf2ad113 is already the active version in easy-install.pth
2013-07-15 14:08:39 Installing keystone script to /usr/local/bin
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /opt/stack/python-keystoneclient
2013-07-15 14:08:39 Searching for prettytable==0.7.2
2013-07-15 14:08:39 Best match: prettytable 0.7.2
2013-07-15 14:08:39 prettytable 0.7.2 is already the active version in easy-install.pth
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:39 Searching for pbr==0.5.18
2013-07-15 14:08:39 Best match: pbr 0.5.18
2013-07-15 14:08:39 Processing pbr-0.5.18-py2.7.egg
2013-07-15 14:08:39 pbr 0.5.18 is already the active version in easy-install.pth
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg
2013-07-15 14:08:39 Searching for d2to1==0.2.10
2013-07-15 14:08:39 Best match: d2to1 0.2.10
2013-07-15 14:08:39 Processing d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:39 d2to1 0.2.10 is already the active version in easy-install.pth
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:39 Searching for jsonpatch==1.1
2013-07-15 14:08:39 Best match: jsonpatch 1.1
2013-07-15 14:08:39 jsonpatch 1.1 is already the active version in easy-install.pth
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:39 Searching for jsonschema==2.0.0
2013-07-15 14:08:39 Best match: jsonschema 2.0.0
2013-07-15 14:08:39 jsonschema 2.0.0 is already the active version in easy-install.pth
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:39 Searching for oslo.config==1.1.1
2013-07-15 14:08:39 Best match: oslo.config 1.1.1
2013-07-15 14:08:39 oslo.config 1.1.1 is already the active version in easy-install.pth
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:39 Searching for six==1.3.0
2013-07-15 14:08:39 Best match: six 1.3.0
2013-07-15 14:08:39 six 1.3.0 is already the active version in easy-install.pth
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:39 Searching for simplejson==2.3.2
2013-07-15 14:08:39 Best match: simplejson 2.3.2
2013-07-15 14:08:39 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:39 Searching for requests==1.2.3
2013-07-15 14:08:39 Best match: requests 1.2.3
2013-07-15 14:08:39 requests 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:39 Searching for iso8601==0.1.4
2013-07-15 14:08:39 Best match: iso8601 0.1.4
2013-07-15 14:08:39 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:39 Searching for setuptools-git==1.0
2013-07-15 14:08:39 Best match: setuptools-git 1.0
2013-07-15 14:08:39 Processing setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:39 setuptools-git 1.0 is already the active version in easy-install.pth
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:39 Searching for distribute==0.6.24dev-r0
2013-07-15 14:08:39 Best match: distribute 0.6.24dev-r0
2013-07-15 14:08:39 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-15 14:08:39 Installing easy_install script to /usr/local/bin
2013-07-15 14:08:39 Installing easy_install-2.7 script to /usr/local/bin
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:39 Searching for jsonpointer==1.0
2013-07-15 14:08:39 Best match: jsonpointer 1.0
2013-07-15 14:08:39 jsonpointer 1.0 is already the active version in easy-install.pth
2013-07-15 14:08:39 
2013-07-15 14:08:39 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:39 Finished processing dependencies for python-glanceclient==0.9.0.48.g8427208
2013-07-15 14:08:39 + install_cinderclient
2013-07-15 14:08:39 + git_clone https://github.com/openstack/python-cinderclient.git /opt/stack/python-cinderclient master
2013-07-15 14:08:39 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:39 + GIT_REMOTE=https://github.com/openstack/python-cinderclient.git
2013-07-15 14:08:39 + GIT_DEST=/opt/stack/python-cinderclient
2013-07-15 14:08:39 + GIT_REF=master
2013-07-15 14:08:39 + egrep -q '^refs'
2013-07-15 14:08:39 + echo master
2013-07-15 14:08:39 + [[ ! -d /opt/stack/python-cinderclient ]]
2013-07-15 14:08:39 + [[ '' == \y\e\s ]]
2013-07-15 14:08:39 + setup_develop /opt/stack/python-cinderclient
2013-07-15 14:08:39 + [[ False = True ]]
2013-07-15 14:08:39 + SUDO_CMD=sudo
2013-07-15 14:08:39 + cd /opt/stack/python-cinderclient
2013-07-15 14:08:39 + python setup.py egg_info
2013-07-15 14:08:39 running egg_info
2013-07-15 14:08:39 writing requirements to python_cinderclient.egg-info/requires.txt
2013-07-15 14:08:39 writing python_cinderclient.egg-info/PKG-INFO
2013-07-15 14:08:39 writing top-level names to python_cinderclient.egg-info/top_level.txt
2013-07-15 14:08:39 writing dependency_links to python_cinderclient.egg-info/dependency_links.txt
2013-07-15 14:08:39 writing entry points to python_cinderclient.egg-info/entry_points.txt
2013-07-15 14:08:39 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:39 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:39 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:39 writing manifest file 'python_cinderclient.egg-info/SOURCES.txt'
2013-07-15 14:08:39 ++ awk '/^.+/ {print "-f " $1}' python_cinderclient.egg-info/dependency_links.txt
2013-07-15 14:08:39 + raw_links=
2013-07-15 14:08:39 ++ echo
2013-07-15 14:08:39 ++ xargs
2013-07-15 14:08:39 + depend_links=
2013-07-15 14:08:39 ++ '[' '!' -r python_cinderclient.egg-info/requires.txt ']'
2013-07-15 14:08:39 ++ echo '-r *-info/requires.txt'
2013-07-15 14:08:39 + require_file='-r *-info/requires.txt'
2013-07-15 14:08:39 + pip_install -r python_cinderclient.egg-info/requires.txt
2013-07-15 14:08:39 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:39 + [[ -z -r python_cinderclient.egg-info/requires.txt ]]
2013-07-15 14:08:39 + [[ -z deb ]]
2013-07-15 14:08:39 + [[ False = True ]]
2013-07-15 14:08:39 + SUDO_PIP=sudo
2013-07-15 14:08:39 ++ get_pip_command
2013-07-15 14:08:39 ++ is_fedora
2013-07-15 14:08:39 ++ [[ -z Ubuntu ]]
2013-07-15 14:08:39 ++ '[' Ubuntu = Fedora ']'
2013-07-15 14:08:39 ++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:08:39 ++ '[' Ubuntu = CentOS ']'
2013-07-15 14:08:39 ++ which pip
2013-07-15 14:08:39 + CMD_PIP=/usr/bin/pip
2013-07-15 14:08:39 + [[ '' != \F\a\l\s\e ]]
2013-07-15 14:08:39 + PIP_MIRROR_OPT=--use-mirrors
2013-07-15 14:08:39 + sudo PIP_DOWNLOAD_CACHE=/var/cache/pip HTTP_PROXY= HTTPS_PROXY= NO_PROXY= /usr/bin/pip install --use-mirrors -r python_cinderclient.egg-info/requires.txt
2013-07-15 14:08:40 Requirement already satisfied (use --upgrade to upgrade): d2to1>=0.2.10,<0.3 in /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg (from -r python_cinderclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:40 Requirement already satisfied (use --upgrade to upgrade): pbr>=0.5,<0.6 in /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg (from -r python_cinderclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:40 Requirement already satisfied (use --upgrade to upgrade): prettytable>=0.6,<0.8 in /usr/local/lib/python2.7/dist-packages (from -r python_cinderclient.egg-info/requires.txt (line 3))
2013-07-15 14:08:40 Requirement already satisfied (use --upgrade to upgrade): requests>=0.8 in /usr/local/lib/python2.7/dist-packages (from -r python_cinderclient.egg-info/requires.txt (line 4))
2013-07-15 14:08:40 Requirement already satisfied (use --upgrade to upgrade): simplejson>=2.0.9 in /usr/lib/python2.7/dist-packages (from -r python_cinderclient.egg-info/requires.txt (line 5))
2013-07-15 14:08:40 Requirement already satisfied (use --upgrade to upgrade): six in /usr/local/lib/python2.7/dist-packages (from -r python_cinderclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:40 Requirement already satisfied (use --upgrade to upgrade): distribute in /usr/lib/python2.7/dist-packages (from d2to1>=0.2.10,<0.3->-r python_cinderclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:40 Requirement already satisfied (use --upgrade to upgrade): setuptools-git>=0.4 in /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg (from pbr>=0.5,<0.6->-r python_cinderclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:40 Cleaning up...
2013-07-15 14:08:40 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-15 14:08:40 running develop
2013-07-15 14:08:40 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-15 14:08:40 /usr/bin/python -E -c pass
2013-07-15 14:08:40 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-15 14:08:40 running egg_info
2013-07-15 14:08:40 writing requirements to python_cinderclient.egg-info/requires.txt
2013-07-15 14:08:40 writing python_cinderclient.egg-info/PKG-INFO
2013-07-15 14:08:40 writing top-level names to python_cinderclient.egg-info/top_level.txt
2013-07-15 14:08:40 writing dependency_links to python_cinderclient.egg-info/dependency_links.txt
2013-07-15 14:08:40 writing entry points to python_cinderclient.egg-info/entry_points.txt
2013-07-15 14:08:40 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:40 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:40 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:40 writing manifest file 'python_cinderclient.egg-info/SOURCES.txt'
2013-07-15 14:08:40 running build_ext
2013-07-15 14:08:40 Creating /usr/local/lib/python2.7/dist-packages/python-cinderclient.egg-link (link to .)
2013-07-15 14:08:40 python-cinderclient 1.0.4.61.gaef613f is already the active version in easy-install.pth
2013-07-15 14:08:40 Installing cinder script to /usr/local/bin
2013-07-15 14:08:40 
2013-07-15 14:08:40 Installed /opt/stack/python-cinderclient
2013-07-15 14:08:40 Processing dependencies for python-cinderclient==1.0.4.61.gaef613f
2013-07-15 14:08:40 Searching for six==1.3.0
2013-07-15 14:08:41 Best match: six 1.3.0
2013-07-15 14:08:41 six 1.3.0 is already the active version in easy-install.pth
2013-07-15 14:08:41 
2013-07-15 14:08:41 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:41 Searching for simplejson==2.3.2
2013-07-15 14:08:41 Best match: simplejson 2.3.2
2013-07-15 14:08:41 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-15 14:08:41 
2013-07-15 14:08:41 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:41 Searching for requests==1.2.3
2013-07-15 14:08:41 Best match: requests 1.2.3
2013-07-15 14:08:41 requests 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:08:41 
2013-07-15 14:08:41 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:41 Searching for prettytable==0.7.2
2013-07-15 14:08:41 Best match: prettytable 0.7.2
2013-07-15 14:08:41 prettytable 0.7.2 is already the active version in easy-install.pth
2013-07-15 14:08:41 
2013-07-15 14:08:41 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:41 Searching for pbr==0.5.18
2013-07-15 14:08:41 Best match: pbr 0.5.18
2013-07-15 14:08:41 Processing pbr-0.5.18-py2.7.egg
2013-07-15 14:08:41 Removing pbr 0.5.18 from easy-install.pth file
2013-07-15 14:08:41 pbr 0.5.18 is already the active version in easy-install.pth
2013-07-15 14:08:41 
2013-07-15 14:08:41 Using /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg
2013-07-15 14:08:41 Searching for d2to1==0.2.10
2013-07-15 14:08:41 Best match: d2to1 0.2.10
2013-07-15 14:08:41 Processing d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:41 Removing d2to1 0.2.10 from easy-install.pth file
2013-07-15 14:08:41 d2to1 0.2.10 is already the active version in easy-install.pth
2013-07-15 14:08:41 
2013-07-15 14:08:41 Using /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:41 Searching for setuptools-git==1.0
2013-07-15 14:08:41 Best match: setuptools-git 1.0
2013-07-15 14:08:41 Processing setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:41 Removing setuptools-git 1.0 from easy-install.pth file
2013-07-15 14:08:41 setuptools-git 1.0 is already the active version in easy-install.pth
2013-07-15 14:08:41 
2013-07-15 14:08:41 Using /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:41 Searching for distribute==0.6.24dev-r0
2013-07-15 14:08:41 Best match: distribute 0.6.24dev-r0
2013-07-15 14:08:41 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-15 14:08:41 Installing easy_install script to /usr/local/bin
2013-07-15 14:08:41 Installing easy_install-2.7 script to /usr/local/bin
2013-07-15 14:08:41 
2013-07-15 14:08:41 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:41 Finished processing dependencies for python-cinderclient==1.0.4.61.gaef613f
2013-07-15 14:08:41 + install_novaclient
2013-07-15 14:08:41 + git_clone https://github.com/openstack/python-novaclient.git /opt/stack/python-novaclient master
2013-07-15 14:08:41 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:41 + GIT_REMOTE=https://github.com/openstack/python-novaclient.git
2013-07-15 14:08:41 + GIT_DEST=/opt/stack/python-novaclient
2013-07-15 14:08:41 + GIT_REF=master
2013-07-15 14:08:41 + egrep -q '^refs'
2013-07-15 14:08:41 + echo master
2013-07-15 14:08:41 + [[ ! -d /opt/stack/python-novaclient ]]
2013-07-15 14:08:41 + [[ '' == \y\e\s ]]
2013-07-15 14:08:41 + setup_develop /opt/stack/python-novaclient
2013-07-15 14:08:41 + [[ False = True ]]
2013-07-15 14:08:41 + SUDO_CMD=sudo
2013-07-15 14:08:41 + cd /opt/stack/python-novaclient
2013-07-15 14:08:41 + python setup.py egg_info
2013-07-15 14:08:41 running egg_info
2013-07-15 14:08:41 writing requirements to python_novaclient.egg-info/requires.txt
2013-07-15 14:08:41 writing python_novaclient.egg-info/PKG-INFO
2013-07-15 14:08:41 writing top-level names to python_novaclient.egg-info/top_level.txt
2013-07-15 14:08:41 writing dependency_links to python_novaclient.egg-info/dependency_links.txt
2013-07-15 14:08:41 writing entry points to python_novaclient.egg-info/entry_points.txt
2013-07-15 14:08:41 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:41 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:41 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:41 writing manifest file 'python_novaclient.egg-info/SOURCES.txt'
2013-07-15 14:08:41 ++ awk '/^.+/ {print "-f " $1}' python_novaclient.egg-info/dependency_links.txt
2013-07-15 14:08:41 + raw_links=
2013-07-15 14:08:41 ++ echo
2013-07-15 14:08:41 ++ xargs
2013-07-15 14:08:41 + depend_links=
2013-07-15 14:08:41 ++ '[' '!' -r python_novaclient.egg-info/requires.txt ']'
2013-07-15 14:08:41 ++ echo '-r *-info/requires.txt'
2013-07-15 14:08:41 + require_file='-r *-info/requires.txt'
2013-07-15 14:08:41 + pip_install -r python_novaclient.egg-info/requires.txt
2013-07-15 14:08:41 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:41 + [[ -z -r python_novaclient.egg-info/requires.txt ]]
2013-07-15 14:08:41 + [[ -z deb ]]
2013-07-15 14:08:41 + [[ False = True ]]
2013-07-15 14:08:41 + SUDO_PIP=sudo
2013-07-15 14:08:41 ++ get_pip_command
2013-07-15 14:08:41 ++ is_fedora
2013-07-15 14:08:41 ++ [[ -z Ubuntu ]]
2013-07-15 14:08:41 ++ '[' Ubuntu = Fedora ']'
2013-07-15 14:08:41 ++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:08:42 ++ '[' Ubuntu = CentOS ']'
2013-07-15 14:08:42 ++ which pip
2013-07-15 14:08:42 + CMD_PIP=/usr/bin/pip
2013-07-15 14:08:42 + [[ '' != \F\a\l\s\e ]]
2013-07-15 14:08:42 + PIP_MIRROR_OPT=--use-mirrors
2013-07-15 14:08:42 + sudo PIP_DOWNLOAD_CACHE=/var/cache/pip HTTP_PROXY= HTTPS_PROXY= NO_PROXY= /usr/bin/pip install --use-mirrors -r python_novaclient.egg-info/requires.txt
2013-07-15 14:08:42 Requirement already satisfied (use --upgrade to upgrade): d2to1>=0.2.10,<0.3 in /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg (from -r python_novaclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:42 Requirement already satisfied (use --upgrade to upgrade): pbr>=0.5,<0.6 in /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg (from -r python_novaclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:42 Requirement already satisfied (use --upgrade to upgrade): iso8601>=0.1.4 in /usr/lib/python2.7/dist-packages (from -r python_novaclient.egg-info/requires.txt (line 3))
2013-07-15 14:08:42 Requirement already satisfied (use --upgrade to upgrade): prettytable>=0.6,<0.8 in /usr/local/lib/python2.7/dist-packages (from -r python_novaclient.egg-info/requires.txt (line 4))
2013-07-15 14:08:42 Requirement already satisfied (use --upgrade to upgrade): requests>=0.8 in /usr/local/lib/python2.7/dist-packages (from -r python_novaclient.egg-info/requires.txt (line 5))
2013-07-15 14:08:42 Requirement already satisfied (use --upgrade to upgrade): simplejson in /usr/lib/python2.7/dist-packages (from -r python_novaclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:42 Requirement already satisfied (use --upgrade to upgrade): six in /usr/local/lib/python2.7/dist-packages (from -r python_novaclient.egg-info/requires.txt (line 7))
2013-07-15 14:08:42 Requirement already satisfied (use --upgrade to upgrade): distribute in /usr/lib/python2.7/dist-packages (from d2to1>=0.2.10,<0.3->-r python_novaclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:42 Requirement already satisfied (use --upgrade to upgrade): setuptools-git>=0.4 in /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg (from pbr>=0.5,<0.6->-r python_novaclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:42 Cleaning up...
2013-07-15 14:08:42 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-15 14:08:42 running develop
2013-07-15 14:08:42 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-15 14:08:42 /usr/bin/python -E -c pass
2013-07-15 14:08:42 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-15 14:08:42 running egg_info
2013-07-15 14:08:42 writing requirements to python_novaclient.egg-info/requires.txt
2013-07-15 14:08:42 writing python_novaclient.egg-info/PKG-INFO
2013-07-15 14:08:42 writing top-level names to python_novaclient.egg-info/top_level.txt
2013-07-15 14:08:43 writing dependency_links to python_novaclient.egg-info/dependency_links.txt
2013-07-15 14:08:43 writing entry points to python_novaclient.egg-info/entry_points.txt
2013-07-15 14:08:43 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:43 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:43 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:43 writing manifest file 'python_novaclient.egg-info/SOURCES.txt'
2013-07-15 14:08:43 running build_ext
2013-07-15 14:08:43 Creating /usr/local/lib/python2.7/dist-packages/python-novaclient.egg-link (link to .)
2013-07-15 14:08:43 python-novaclient 2.13.0.110.ga45c49b is already the active version in easy-install.pth
2013-07-15 14:08:43 Installing nova script to /usr/local/bin
2013-07-15 14:08:43 
2013-07-15 14:08:43 Installed /opt/stack/python-novaclient
2013-07-15 14:08:43 Processing dependencies for python-novaclient==2.13.0.110.ga45c49b
2013-07-15 14:08:43 Searching for six==1.3.0
2013-07-15 14:08:43 Best match: six 1.3.0
2013-07-15 14:08:43 Adding six 1.3.0 to easy-install.pth file
2013-07-15 14:08:43 
2013-07-15 14:08:43 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:43 Searching for simplejson==2.3.2
2013-07-15 14:08:43 Best match: simplejson 2.3.2
2013-07-15 14:08:43 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-15 14:08:43 
2013-07-15 14:08:43 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:43 Searching for requests==1.2.3
2013-07-15 14:08:43 Best match: requests 1.2.3
2013-07-15 14:08:43 requests 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:08:43 
2013-07-15 14:08:43 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:43 Searching for prettytable==0.7.2
2013-07-15 14:08:43 Best match: prettytable 0.7.2
2013-07-15 14:08:43 prettytable 0.7.2 is already the active version in easy-install.pth
2013-07-15 14:08:43 
2013-07-15 14:08:43 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:43 Searching for iso8601==0.1.4
2013-07-15 14:08:43 Best match: iso8601 0.1.4
2013-07-15 14:08:43 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-15 14:08:43 
2013-07-15 14:08:43 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:43 Searching for pbr==0.5.18
2013-07-15 14:08:43 Best match: pbr 0.5.18
2013-07-15 14:08:43 Processing pbr-0.5.18-py2.7.egg
2013-07-15 14:08:43 pbr 0.5.18 is already the active version in easy-install.pth
2013-07-15 14:08:43 
2013-07-15 14:08:43 Using /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg
2013-07-15 14:08:43 Searching for d2to1==0.2.10
2013-07-15 14:08:43 Best match: d2to1 0.2.10
2013-07-15 14:08:43 Processing d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:43 d2to1 0.2.10 is already the active version in easy-install.pth
2013-07-15 14:08:43 
2013-07-15 14:08:43 Using /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:43 Searching for setuptools-git==1.0
2013-07-15 14:08:43 Best match: setuptools-git 1.0
2013-07-15 14:08:43 Processing setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:43 setuptools-git 1.0 is already the active version in easy-install.pth
2013-07-15 14:08:43 
2013-07-15 14:08:43 Using /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:43 Searching for distribute==0.6.24dev-r0
2013-07-15 14:08:43 Best match: distribute 0.6.24dev-r0
2013-07-15 14:08:43 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-15 14:08:43 Installing easy_install script to /usr/local/bin
2013-07-15 14:08:43 Installing easy_install-2.7 script to /usr/local/bin
2013-07-15 14:08:43 
2013-07-15 14:08:43 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:43 Finished processing dependencies for python-novaclient==2.13.0.110.ga45c49b
2013-07-15 14:08:43 + is_service_enabled swift glance
2013-07-15 14:08:43 + services='swift glance'
2013-07-15 14:08:43 + for service in '${services}'
2013-07-15 14:08:43 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,swift, ]]
2013-07-15 14:08:43 + [[ swift == \n\o\v\a ]]
2013-07-15 14:08:43 + [[ swift == \c\i\n\d\e\r ]]
2013-07-15 14:08:43 + [[ swift == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:08:43 + [[ swift == \g\l\a\n\c\e ]]
2013-07-15 14:08:43 + [[ swift == \q\u\a\n\t\u\m ]]
2013-07-15 14:08:43 + [[ swift == \s\w\i\f\t ]]
2013-07-15 14:08:43 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ s- ]]
2013-07-15 14:08:43 + [[ swift == s-* ]]
2013-07-15 14:08:43 + for service in '${services}'
2013-07-15 14:08:43 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,glance, ]]
2013-07-15 14:08:43 + [[ glance == \n\o\v\a ]]
2013-07-15 14:08:43 + [[ glance == \c\i\n\d\e\r ]]
2013-07-15 14:08:43 + [[ glance == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:08:43 + [[ glance == \g\l\a\n\c\e ]]
2013-07-15 14:08:43 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ g- ]]
2013-07-15 14:08:43 + return 0
2013-07-15 14:08:43 + install_swiftclient
2013-07-15 14:08:43 + git_clone https://github.com/openstack/python-swiftclient.git /opt/stack/python-swiftclient master
2013-07-15 14:08:43 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:43 + GIT_REMOTE=https://github.com/openstack/python-swiftclient.git
2013-07-15 14:08:43 + GIT_DEST=/opt/stack/python-swiftclient
2013-07-15 14:08:43 + GIT_REF=master
2013-07-15 14:08:43 + echo master
2013-07-15 14:08:43 + egrep -q '^refs'
2013-07-15 14:08:43 + [[ ! -d /opt/stack/python-swiftclient ]]
2013-07-15 14:08:43 + [[ '' == \y\e\s ]]
2013-07-15 14:08:43 + setup_develop /opt/stack/python-swiftclient
2013-07-15 14:08:43 + [[ False = True ]]
2013-07-15 14:08:43 + SUDO_CMD=sudo
2013-07-15 14:08:43 + cd /opt/stack/python-swiftclient
2013-07-15 14:08:43 + python setup.py egg_info
2013-07-15 14:08:43 running egg_info
2013-07-15 14:08:43 writing requirements to python_swiftclient.egg-info/requires.txt
2013-07-15 14:08:43 writing python_swiftclient.egg-info/PKG-INFO
2013-07-15 14:08:43 writing top-level names to python_swiftclient.egg-info/top_level.txt
2013-07-15 14:08:43 writing dependency_links to python_swiftclient.egg-info/dependency_links.txt
2013-07-15 14:08:43 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:43 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:43 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:43 warning: no files found matching '*' under directory 'tools'
2013-07-15 14:08:43 writing manifest file 'python_swiftclient.egg-info/SOURCES.txt'
2013-07-15 14:08:43 ++ awk '/^.+/ {print "-f " $1}' python_swiftclient.egg-info/dependency_links.txt
2013-07-15 14:08:43 + raw_links=
2013-07-15 14:08:43 ++ xargs
2013-07-15 14:08:43 ++ echo
2013-07-15 14:08:43 + depend_links=
2013-07-15 14:08:43 ++ '[' '!' -r python_swiftclient.egg-info/requires.txt ']'
2013-07-15 14:08:43 ++ echo '-r *-info/requires.txt'
2013-07-15 14:08:43 + require_file='-r *-info/requires.txt'
2013-07-15 14:08:43 + pip_install -r python_swiftclient.egg-info/requires.txt
2013-07-15 14:08:43 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:44 + [[ -z -r python_swiftclient.egg-info/requires.txt ]]
2013-07-15 14:08:44 + [[ -z deb ]]
2013-07-15 14:08:44 + [[ False = True ]]
2013-07-15 14:08:44 + SUDO_PIP=sudo
2013-07-15 14:08:44 ++ get_pip_command
2013-07-15 14:08:44 ++ is_fedora
2013-07-15 14:08:44 ++ [[ -z Ubuntu ]]
2013-07-15 14:08:44 ++ '[' Ubuntu = Fedora ']'
2013-07-15 14:08:44 ++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:08:44 ++ '[' Ubuntu = CentOS ']'
2013-07-15 14:08:44 ++ which pip
2013-07-15 14:08:44 + CMD_PIP=/usr/bin/pip
2013-07-15 14:08:44 + [[ '' != \F\a\l\s\e ]]
2013-07-15 14:08:44 + PIP_MIRROR_OPT=--use-mirrors
2013-07-15 14:08:44 + sudo PIP_DOWNLOAD_CACHE=/var/cache/pip HTTP_PROXY= HTTPS_PROXY= NO_PROXY= /usr/bin/pip install --use-mirrors -r python_swiftclient.egg-info/requires.txt
2013-07-15 14:08:44 Requirement already satisfied (use --upgrade to upgrade): d2to1>=0.2.10,<0.3 in /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg (from -r python_swiftclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:44 Requirement already satisfied (use --upgrade to upgrade): pbr>=0.5,<0.6 in /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg (from -r python_swiftclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:44 Requirement already satisfied (use --upgrade to upgrade): simplejson>=2.0.9 in /usr/lib/python2.7/dist-packages (from -r python_swiftclient.egg-info/requires.txt (line 3))
2013-07-15 14:08:44 Requirement already satisfied (use --upgrade to upgrade): distribute in /usr/lib/python2.7/dist-packages (from d2to1>=0.2.10,<0.3->-r python_swiftclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:44 Requirement already satisfied (use --upgrade to upgrade): setuptools-git>=0.4 in /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg (from pbr>=0.5,<0.6->-r python_swiftclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:44 Cleaning up...
2013-07-15 14:08:44 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-15 14:08:44 running develop
2013-07-15 14:08:44 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-15 14:08:44 /usr/bin/python -E -c pass
2013-07-15 14:08:44 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-15 14:08:45 running egg_info
2013-07-15 14:08:45 writing requirements to python_swiftclient.egg-info/requires.txt
2013-07-15 14:08:45 writing python_swiftclient.egg-info/PKG-INFO
2013-07-15 14:08:45 writing top-level names to python_swiftclient.egg-info/top_level.txt
2013-07-15 14:08:45 writing dependency_links to python_swiftclient.egg-info/dependency_links.txt
2013-07-15 14:08:45 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:45 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:45 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:45 warning: no files found matching '*' under directory 'tools'
2013-07-15 14:08:45 writing manifest file 'python_swiftclient.egg-info/SOURCES.txt'
2013-07-15 14:08:45 running build_ext
2013-07-15 14:08:45 Creating /usr/local/lib/python2.7/dist-packages/python-swiftclient.egg-link (link to .)
2013-07-15 14:08:45 python-swiftclient 1.5.0.7.g07d13b5 is already the active version in easy-install.pth
2013-07-15 14:08:45 Installing swift script to /usr/local/bin
2013-07-15 14:08:45 
2013-07-15 14:08:45 Installed /opt/stack/python-swiftclient
2013-07-15 14:08:45 Processing dependencies for python-swiftclient==1.5.0.7.g07d13b5
2013-07-15 14:08:45 Searching for simplejson==2.3.2
2013-07-15 14:08:45 Best match: simplejson 2.3.2
2013-07-15 14:08:45 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-15 14:08:45 
2013-07-15 14:08:45 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:45 Searching for pbr==0.5.18
2013-07-15 14:08:45 Best match: pbr 0.5.18
2013-07-15 14:08:45 Processing pbr-0.5.18-py2.7.egg
2013-07-15 14:08:45 Removing pbr 0.5.18 from easy-install.pth file
2013-07-15 14:08:45 pbr 0.5.18 is already the active version in easy-install.pth
2013-07-15 14:08:45 
2013-07-15 14:08:45 Using /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg
2013-07-15 14:08:45 Searching for d2to1==0.2.10
2013-07-15 14:08:45 Best match: d2to1 0.2.10
2013-07-15 14:08:45 Processing d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:45 Removing d2to1 0.2.10 from easy-install.pth file
2013-07-15 14:08:45 d2to1 0.2.10 is already the active version in easy-install.pth
2013-07-15 14:08:45 
2013-07-15 14:08:45 Using /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:45 Searching for setuptools-git==1.0
2013-07-15 14:08:45 Best match: setuptools-git 1.0
2013-07-15 14:08:45 Processing setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:45 Removing setuptools-git 1.0 from easy-install.pth file
2013-07-15 14:08:45 setuptools-git 1.0 is already the active version in easy-install.pth
2013-07-15 14:08:45 
2013-07-15 14:08:45 Using /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:45 Searching for distribute==0.6.24dev-r0
2013-07-15 14:08:45 Best match: distribute 0.6.24dev-r0
2013-07-15 14:08:45 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-15 14:08:45 Installing easy_install script to /usr/local/bin
2013-07-15 14:08:45 Installing easy_install-2.7 script to /usr/local/bin
2013-07-15 14:08:45 
2013-07-15 14:08:45 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:45 Finished processing dependencies for python-swiftclient==1.5.0.7.g07d13b5
2013-07-15 14:08:45 + is_service_enabled quantum nova
2013-07-15 14:08:45 + services='quantum nova'
2013-07-15 14:08:45 + for service in '${services}'
2013-07-15 14:08:45 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-15 14:08:45 + [[ quantum == \n\o\v\a ]]
2013-07-15 14:08:45 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-15 14:08:45 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:08:45 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-15 14:08:45 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-15 14:08:45 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-15 14:08:45 + [[ quantum == \s\w\i\f\t ]]
2013-07-15 14:08:45 + [[ quantum == s-* ]]
2013-07-15 14:08:45 + for service in '${services}'
2013-07-15 14:08:45 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-15 14:08:45 + [[ nova == \n\o\v\a ]]
2013-07-15 14:08:45 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-15 14:08:45 + return 0
2013-07-15 14:08:45 + install_quantumclient
2013-07-15 14:08:45 + git_clone https://github.com/openstack/python-neutronclient.git /opt/stack/python-neutronclient master
2013-07-15 14:08:45 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:45 + GIT_REMOTE=https://github.com/openstack/python-neutronclient.git
2013-07-15 14:08:45 + GIT_DEST=/opt/stack/python-neutronclient
2013-07-15 14:08:45 + GIT_REF=master
2013-07-15 14:08:45 + egrep -q '^refs'
2013-07-15 14:08:45 + echo master
2013-07-15 14:08:45 + [[ ! -d /opt/stack/python-neutronclient ]]
2013-07-15 14:08:45 + [[ '' == \y\e\s ]]
2013-07-15 14:08:45 + setup_develop /opt/stack/python-neutronclient
2013-07-15 14:08:45 + [[ False = True ]]
2013-07-15 14:08:45 + SUDO_CMD=sudo
2013-07-15 14:08:45 + cd /opt/stack/python-neutronclient
2013-07-15 14:08:45 + python setup.py egg_info
2013-07-15 14:08:45 running egg_info
2013-07-15 14:08:45 writing requirements to python_neutronclient.egg-info/requires.txt
2013-07-15 14:08:45 writing python_neutronclient.egg-info/PKG-INFO
2013-07-15 14:08:45 writing top-level names to python_neutronclient.egg-info/top_level.txt
2013-07-15 14:08:45 writing dependency_links to python_neutronclient.egg-info/dependency_links.txt
2013-07-15 14:08:45 writing entry points to python_neutronclient.egg-info/entry_points.txt
2013-07-15 14:08:45 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:45 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:45 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:45 writing manifest file 'python_neutronclient.egg-info/SOURCES.txt'
2013-07-15 14:08:45 ++ awk '/^.+/ {print "-f " $1}' python_neutronclient.egg-info/dependency_links.txt
2013-07-15 14:08:45 + raw_links=
2013-07-15 14:08:45 ++ echo
2013-07-15 14:08:46 ++ xargs
2013-07-15 14:08:46 + depend_links=
2013-07-15 14:08:46 ++ '[' '!' -r python_neutronclient.egg-info/requires.txt ']'
2013-07-15 14:08:46 ++ echo '-r *-info/requires.txt'
2013-07-15 14:08:46 + require_file='-r *-info/requires.txt'
2013-07-15 14:08:46 + pip_install -r python_neutronclient.egg-info/requires.txt
2013-07-15 14:08:46 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:46 + [[ -z -r python_neutronclient.egg-info/requires.txt ]]
2013-07-15 14:08:46 + [[ -z deb ]]
2013-07-15 14:08:46 + [[ False = True ]]
2013-07-15 14:08:46 + SUDO_PIP=sudo
2013-07-15 14:08:46 ++ get_pip_command
2013-07-15 14:08:46 ++ is_fedora
2013-07-15 14:08:46 ++ [[ -z Ubuntu ]]
2013-07-15 14:08:46 ++ '[' Ubuntu = Fedora ']'
2013-07-15 14:08:46 ++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:08:46 ++ '[' Ubuntu = CentOS ']'
2013-07-15 14:08:46 ++ which pip
2013-07-15 14:08:46 + CMD_PIP=/usr/bin/pip
2013-07-15 14:08:46 + [[ '' != \F\a\l\s\e ]]
2013-07-15 14:08:46 + PIP_MIRROR_OPT=--use-mirrors
2013-07-15 14:08:46 + sudo PIP_DOWNLOAD_CACHE=/var/cache/pip HTTP_PROXY= HTTPS_PROXY= NO_PROXY= /usr/bin/pip install --use-mirrors -r python_neutronclient.egg-info/requires.txt
2013-07-15 14:08:46 Requirement already satisfied (use --upgrade to upgrade): d2to1>=0.2.10,<0.3 in /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg (from -r python_neutronclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:46 Requirement already satisfied (use --upgrade to upgrade): pbr>=0.5.16,<0.6 in /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg (from -r python_neutronclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:46 Requirement already satisfied (use --upgrade to upgrade): cliff>=1.4 in /usr/local/lib/python2.7/dist-packages (from -r python_neutronclient.egg-info/requires.txt (line 3))
2013-07-15 14:08:46 Requirement already satisfied (use --upgrade to upgrade): httplib2 in /usr/lib/python2.7/dist-packages (from -r python_neutronclient.egg-info/requires.txt (line 4))
2013-07-15 14:08:46 Requirement already satisfied (use --upgrade to upgrade): iso8601 in /usr/lib/python2.7/dist-packages (from -r python_neutronclient.egg-info/requires.txt (line 5))
2013-07-15 14:08:46 Requirement already satisfied (use --upgrade to upgrade): prettytable>=0.6,<0.8 in /usr/local/lib/python2.7/dist-packages (from -r python_neutronclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:46 Requirement already satisfied (use --upgrade to upgrade): pyparsing>=1.5.6,<2.0 in /usr/local/lib/python2.7/dist-packages (from -r python_neutronclient.egg-info/requires.txt (line 7))
2013-07-15 14:08:46 Requirement already satisfied (use --upgrade to upgrade): simplejson in /usr/lib/python2.7/dist-packages (from -r python_neutronclient.egg-info/requires.txt (line 8))
2013-07-15 14:08:46 Requirement already satisfied (use --upgrade to upgrade): distribute in /usr/lib/python2.7/dist-packages (from d2to1>=0.2.10,<0.3->-r python_neutronclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:46 Requirement already satisfied (use --upgrade to upgrade): setuptools-git>=0.4 in /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg (from pbr>=0.5.16,<0.6->-r python_neutronclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:46 Requirement already satisfied (use --upgrade to upgrade): cmd2>=0.6.4 in /usr/local/lib/python2.7/dist-packages (from cliff>=1.4->-r python_neutronclient.egg-info/requires.txt (line 3))
2013-07-15 14:08:46 Cleaning up...
2013-07-15 14:08:46 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-15 14:08:46 running develop
2013-07-15 14:08:46 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-15 14:08:47 /usr/bin/python -E -c pass
2013-07-15 14:08:47 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-15 14:08:47 running egg_info
2013-07-15 14:08:47 writing requirements to python_neutronclient.egg-info/requires.txt
2013-07-15 14:08:47 writing python_neutronclient.egg-info/PKG-INFO
2013-07-15 14:08:47 writing top-level names to python_neutronclient.egg-info/top_level.txt
2013-07-15 14:08:47 writing dependency_links to python_neutronclient.egg-info/dependency_links.txt
2013-07-15 14:08:47 writing entry points to python_neutronclient.egg-info/entry_points.txt
2013-07-15 14:08:47 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:47 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:47 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:47 writing manifest file 'python_neutronclient.egg-info/SOURCES.txt'
2013-07-15 14:08:47 running build_ext
2013-07-15 14:08:47 Creating /usr/local/lib/python2.7/dist-packages/python-neutronclient.egg-link (link to .)
2013-07-15 14:08:47 python-neutronclient 2.2.4.8.g2fade1b is already the active version in easy-install.pth
2013-07-15 14:08:47 Installing neutron script to /usr/local/bin
2013-07-15 14:08:47 
2013-07-15 14:08:47 Installed /opt/stack/python-neutronclient
2013-07-15 14:08:47 Processing dependencies for python-neutronclient==2.2.4.8.g2fade1b
2013-07-15 14:08:47 Searching for simplejson==2.3.2
2013-07-15 14:08:47 Best match: simplejson 2.3.2
2013-07-15 14:08:47 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-15 14:08:47 
2013-07-15 14:08:47 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:47 Searching for pyparsing==1.5.7
2013-07-15 14:08:47 Best match: pyparsing 1.5.7
2013-07-15 14:08:47 Adding pyparsing 1.5.7 to easy-install.pth file
2013-07-15 14:08:47 
2013-07-15 14:08:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:47 Searching for prettytable==0.7.2
2013-07-15 14:08:47 Best match: prettytable 0.7.2
2013-07-15 14:08:47 prettytable 0.7.2 is already the active version in easy-install.pth
2013-07-15 14:08:47 
2013-07-15 14:08:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:47 Searching for iso8601==0.1.4
2013-07-15 14:08:47 Best match: iso8601 0.1.4
2013-07-15 14:08:47 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-15 14:08:47 
2013-07-15 14:08:47 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:47 Searching for httplib2==0.7.2
2013-07-15 14:08:47 Best match: httplib2 0.7.2
2013-07-15 14:08:47 Adding httplib2 0.7.2 to easy-install.pth file
2013-07-15 14:08:47 
2013-07-15 14:08:47 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:47 Searching for cliff==1.4
2013-07-15 14:08:47 Best match: cliff 1.4
2013-07-15 14:08:47 cliff 1.4 is already the active version in easy-install.pth
2013-07-15 14:08:47 
2013-07-15 14:08:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:47 Searching for pbr==0.5.18
2013-07-15 14:08:47 Best match: pbr 0.5.18
2013-07-15 14:08:47 Processing pbr-0.5.18-py2.7.egg
2013-07-15 14:08:47 pbr 0.5.18 is already the active version in easy-install.pth
2013-07-15 14:08:47 
2013-07-15 14:08:47 Using /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg
2013-07-15 14:08:47 Searching for d2to1==0.2.10
2013-07-15 14:08:47 Best match: d2to1 0.2.10
2013-07-15 14:08:47 Processing d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:47 d2to1 0.2.10 is already the active version in easy-install.pth
2013-07-15 14:08:47 
2013-07-15 14:08:47 Using /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:47 Searching for cmd2==0.6.5.1
2013-07-15 14:08:47 Best match: cmd2 0.6.5.1
2013-07-15 14:08:47 cmd2 0.6.5.1 is already the active version in easy-install.pth
2013-07-15 14:08:47 
2013-07-15 14:08:47 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:47 Searching for setuptools-git==1.0
2013-07-15 14:08:47 Best match: setuptools-git 1.0
2013-07-15 14:08:47 Processing setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:47 setuptools-git 1.0 is already the active version in easy-install.pth
2013-07-15 14:08:47 
2013-07-15 14:08:47 Using /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:47 Searching for distribute==0.6.24dev-r0
2013-07-15 14:08:47 Best match: distribute 0.6.24dev-r0
2013-07-15 14:08:47 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-15 14:08:47 Installing easy_install script to /usr/local/bin
2013-07-15 14:08:47 Installing easy_install-2.7 script to /usr/local/bin
2013-07-15 14:08:47 
2013-07-15 14:08:47 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:47 Finished processing dependencies for python-neutronclient==2.2.4.8.g2fade1b
2013-07-15 14:08:47 + git_clone https://github.com/openstack/python-openstackclient.git /opt/stack/python-openstackclient master
2013-07-15 14:08:47 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:47 + GIT_REMOTE=https://github.com/openstack/python-openstackclient.git
2013-07-15 14:08:47 + GIT_DEST=/opt/stack/python-openstackclient
2013-07-15 14:08:47 + GIT_REF=master
2013-07-15 14:08:47 + egrep -q '^refs'
2013-07-15 14:08:47 + echo master
2013-07-15 14:08:47 + [[ ! -d /opt/stack/python-openstackclient ]]
2013-07-15 14:08:47 + [[ '' == \y\e\s ]]
2013-07-15 14:08:47 + setup_develop /opt/stack/python-openstackclient
2013-07-15 14:08:47 + [[ False = True ]]
2013-07-15 14:08:47 + SUDO_CMD=sudo
2013-07-15 14:08:47 + cd /opt/stack/python-openstackclient
2013-07-15 14:08:47 + python setup.py egg_info
2013-07-15 14:08:47 running egg_info
2013-07-15 14:08:47 writing requirements to python_openstackclient.egg-info/requires.txt
2013-07-15 14:08:47 writing python_openstackclient.egg-info/PKG-INFO
2013-07-15 14:08:47 writing top-level names to python_openstackclient.egg-info/top_level.txt
2013-07-15 14:08:47 writing dependency_links to python_openstackclient.egg-info/dependency_links.txt
2013-07-15 14:08:47 writing entry points to python_openstackclient.egg-info/entry_points.txt
2013-07-15 14:08:48 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:48 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:48 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:48 warning: no files found matching '*' under directory 'tests'
2013-07-15 14:08:48 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-15 14:08:48 writing manifest file 'python_openstackclient.egg-info/SOURCES.txt'
2013-07-15 14:08:48 ++ awk '/^.+/ {print "-f " $1}' python_openstackclient.egg-info/dependency_links.txt
2013-07-15 14:08:48 + raw_links=
2013-07-15 14:08:48 ++ echo
2013-07-15 14:08:48 ++ xargs
2013-07-15 14:08:48 + depend_links=
2013-07-15 14:08:48 ++ '[' '!' -r python_openstackclient.egg-info/requires.txt ']'
2013-07-15 14:08:48 ++ echo '-r *-info/requires.txt'
2013-07-15 14:08:48 + require_file='-r *-info/requires.txt'
2013-07-15 14:08:48 + pip_install -r python_openstackclient.egg-info/requires.txt
2013-07-15 14:08:48 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:48 + [[ -z -r python_openstackclient.egg-info/requires.txt ]]
2013-07-15 14:08:48 + [[ -z deb ]]
2013-07-15 14:08:48 + [[ False = True ]]
2013-07-15 14:08:48 + SUDO_PIP=sudo
2013-07-15 14:08:48 ++ get_pip_command
2013-07-15 14:08:48 ++ is_fedora
2013-07-15 14:08:48 ++ [[ -z Ubuntu ]]
2013-07-15 14:08:48 ++ '[' Ubuntu = Fedora ']'
2013-07-15 14:08:48 ++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:08:48 ++ '[' Ubuntu = CentOS ']'
2013-07-15 14:08:48 ++ which pip
2013-07-15 14:08:48 + CMD_PIP=/usr/bin/pip
2013-07-15 14:08:48 + [[ '' != \F\a\l\s\e ]]
2013-07-15 14:08:48 + PIP_MIRROR_OPT=--use-mirrors
2013-07-15 14:08:48 + sudo PIP_DOWNLOAD_CACHE=/var/cache/pip HTTP_PROXY= HTTPS_PROXY= NO_PROXY= /usr/bin/pip install --use-mirrors -r python_openstackclient.egg-info/requires.txt
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): d2to1>=0.2.10,<0.3 in /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg (from -r python_openstackclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): pbr>=0.5,<0.6 in /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg (from -r python_openstackclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): cliff in /usr/local/lib/python2.7/dist-packages (from -r python_openstackclient.egg-info/requires.txt (line 3))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): keyring in /usr/lib/python2.7/dist-packages (from -r python_openstackclient.egg-info/requires.txt (line 4))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): pycrypto in /usr/lib/python2.7/dist-packages (from -r python_openstackclient.egg-info/requires.txt (line 5))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): python-glanceclient>=0.9.0,<2 in /opt/stack/python-glanceclient (from -r python_openstackclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): python-keystoneclient>=0.2,<1.0 in /opt/stack/python-keystoneclient (from -r python_openstackclient.egg-info/requires.txt (line 7))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): python-novaclient>=2 in /opt/stack/python-novaclient (from -r python_openstackclient.egg-info/requires.txt (line 8))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): python-cinderclient>=1 in /opt/stack/python-cinderclient (from -r python_openstackclient.egg-info/requires.txt (line 9))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): distribute in /usr/lib/python2.7/dist-packages (from d2to1>=0.2.10,<0.3->-r python_openstackclient.egg-info/requires.txt (line 1))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): setuptools-git>=0.4 in /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg (from pbr>=0.5,<0.6->-r python_openstackclient.egg-info/requires.txt (line 2))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): PrettyTable>=0.6,<0.8 in /usr/local/lib/python2.7/dist-packages (from cliff->-r python_openstackclient.egg-info/requires.txt (line 3))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): cmd2>=0.6.4 in /usr/local/lib/python2.7/dist-packages (from cliff->-r python_openstackclient.egg-info/requires.txt (line 3))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): pyparsing==1.5.7 in /usr/local/lib/python2.7/dist-packages (from cliff->-r python_openstackclient.egg-info/requires.txt (line 3))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): pyOpenSSL in /usr/lib/python2.7/dist-packages (from python-glanceclient>=0.9.0,<2->-r python_openstackclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): warlock>=0.7.0,<2 in /usr/local/lib/python2.7/dist-packages (from python-glanceclient>=0.9.0,<2->-r python_openstackclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): iso8601>=0.1.4 in /usr/lib/python2.7/dist-packages (from python-keystoneclient>=0.2,<1.0->-r python_openstackclient.egg-info/requires.txt (line 7))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): requests>=0.8.8 in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.2,<1.0->-r python_openstackclient.egg-info/requires.txt (line 7))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): simplejson in /usr/lib/python2.7/dist-packages (from python-keystoneclient>=0.2,<1.0->-r python_openstackclient.egg-info/requires.txt (line 7))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): six in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.2,<1.0->-r python_openstackclient.egg-info/requires.txt (line 7))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): oslo.config>=1.1.0 in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.2,<1.0->-r python_openstackclient.egg-info/requires.txt (line 7))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): jsonschema>=0.7,<3 in /usr/local/lib/python2.7/dist-packages (from warlock>=0.7.0,<2->python-glanceclient>=0.9.0,<2->-r python_openstackclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): jsonpatch>=0.10,<2 in /usr/local/lib/python2.7/dist-packages (from warlock>=0.7.0,<2->python-glanceclient>=0.9.0,<2->-r python_openstackclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:48 Requirement already satisfied (use --upgrade to upgrade): jsonpointer>=1.0 in /usr/local/lib/python2.7/dist-packages (from jsonpatch>=0.10,<2->warlock>=0.7.0,<2->python-glanceclient>=0.9.0,<2->-r python_openstackclient.egg-info/requires.txt (line 6))
2013-07-15 14:08:48 Cleaning up...
2013-07-15 14:08:48 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-15 14:08:49 running develop
2013-07-15 14:08:49 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-15 14:08:49 /usr/bin/python -E -c pass
2013-07-15 14:08:49 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-15 14:08:49 running egg_info
2013-07-15 14:08:49 writing requirements to python_openstackclient.egg-info/requires.txt
2013-07-15 14:08:49 writing python_openstackclient.egg-info/PKG-INFO
2013-07-15 14:08:49 writing top-level names to python_openstackclient.egg-info/top_level.txt
2013-07-15 14:08:49 writing dependency_links to python_openstackclient.egg-info/dependency_links.txt
2013-07-15 14:08:49 writing entry points to python_openstackclient.egg-info/entry_points.txt
2013-07-15 14:08:49 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:49 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:49 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:49 warning: no files found matching '*' under directory 'tests'
2013-07-15 14:08:49 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-15 14:08:49 writing manifest file 'python_openstackclient.egg-info/SOURCES.txt'
2013-07-15 14:08:49 running build_ext
2013-07-15 14:08:49 Creating /usr/local/lib/python2.7/dist-packages/python-openstackclient.egg-link (link to .)
2013-07-15 14:08:49 python-openstackclient 1a0d5cc is already the active version in easy-install.pth
2013-07-15 14:08:49 Installing openstack script to /usr/local/bin
2013-07-15 14:08:49 
2013-07-15 14:08:49 Installed /opt/stack/python-openstackclient
2013-07-15 14:08:49 Processing dependencies for python-openstackclient==1a0d5cc
2013-07-15 14:08:49 Searching for python-cinderclient==1.0.4.61.gaef613f
2013-07-15 14:08:49 Best match: python-cinderclient 1.0.4.61.gaef613f
2013-07-15 14:08:49 python-cinderclient 1.0.4.61.gaef613f is already the active version in easy-install.pth
2013-07-15 14:08:49 Installing cinder script to /usr/local/bin
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /opt/stack/python-cinderclient
2013-07-15 14:08:49 Searching for python-novaclient==2.13.0.110.ga45c49b
2013-07-15 14:08:49 Best match: python-novaclient 2.13.0.110.ga45c49b
2013-07-15 14:08:49 python-novaclient 2.13.0.110.ga45c49b is already the active version in easy-install.pth
2013-07-15 14:08:49 Installing nova script to /usr/local/bin
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /opt/stack/python-novaclient
2013-07-15 14:08:49 Searching for python-keystoneclient==0.3.1.11.gf2ad113
2013-07-15 14:08:49 Best match: python-keystoneclient 0.3.1.11.gf2ad113
2013-07-15 14:08:49 Removing python-keystoneclient 0.2.5 from easy-install.pth file
2013-07-15 14:08:49 python-keystoneclient 0.3.1.11.gf2ad113 is already the active version in easy-install.pth
2013-07-15 14:08:49 Installing keystone script to /usr/local/bin
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /opt/stack/python-keystoneclient
2013-07-15 14:08:49 Searching for python-glanceclient==0.9.0.48.g8427208
2013-07-15 14:08:49 Best match: python-glanceclient 0.9.0.48.g8427208
2013-07-15 14:08:49 python-glanceclient 0.9.0.48.g8427208 is already the active version in easy-install.pth
2013-07-15 14:08:49 Installing glance script to /usr/local/bin
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /opt/stack/python-glanceclient
2013-07-15 14:08:49 Searching for pycrypto==2.4.1
2013-07-15 14:08:49 Best match: pycrypto 2.4.1
2013-07-15 14:08:49 Adding pycrypto 2.4.1 to easy-install.pth file
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for keyring==0.9.2
2013-07-15 14:08:49 Best match: keyring 0.9.2
2013-07-15 14:08:49 Adding keyring 0.9.2 to easy-install.pth file
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for cliff==1.4
2013-07-15 14:08:49 Best match: cliff 1.4
2013-07-15 14:08:49 Adding cliff 1.4 to easy-install.pth file
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for pbr==0.5.18
2013-07-15 14:08:49 Best match: pbr 0.5.18
2013-07-15 14:08:49 Processing pbr-0.5.18-py2.7.egg
2013-07-15 14:08:49 Removing pbr 0.5.18 from easy-install.pth file
2013-07-15 14:08:49 pbr 0.5.18 is already the active version in easy-install.pth
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg
2013-07-15 14:08:49 Searching for d2to1==0.2.10
2013-07-15 14:08:49 Best match: d2to1 0.2.10
2013-07-15 14:08:49 Processing d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:49 Removing d2to1 0.2.10 from easy-install.pth file
2013-07-15 14:08:49 d2to1 0.2.10 is already the active version in easy-install.pth
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg
2013-07-15 14:08:49 Searching for six==1.3.0
2013-07-15 14:08:49 Best match: six 1.3.0
2013-07-15 14:08:49 Adding six 1.3.0 to easy-install.pth file
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for simplejson==2.3.2
2013-07-15 14:08:49 Best match: simplejson 2.3.2
2013-07-15 14:08:49 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for requests==1.2.3
2013-07-15 14:08:49 Best match: requests 1.2.3
2013-07-15 14:08:49 requests 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for prettytable==0.7.2
2013-07-15 14:08:49 Best match: prettytable 0.7.2
2013-07-15 14:08:49 prettytable 0.7.2 is already the active version in easy-install.pth
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for iso8601==0.1.4
2013-07-15 14:08:49 Best match: iso8601 0.1.4
2013-07-15 14:08:49 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for oslo.config==1.1.1
2013-07-15 14:08:49 Best match: oslo.config 1.1.1
2013-07-15 14:08:49 oslo.config 1.1.1 is already the active version in easy-install.pth
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for warlock==1.0.1
2013-07-15 14:08:49 Best match: warlock 1.0.1
2013-07-15 14:08:49 warlock 1.0.1 is already the active version in easy-install.pth
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for pyOpenSSL==0.12
2013-07-15 14:08:49 Best match: pyOpenSSL 0.12
2013-07-15 14:08:49 Adding pyOpenSSL 0.12 to easy-install.pth file
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for pyparsing==1.5.7
2013-07-15 14:08:49 Best match: pyparsing 1.5.7
2013-07-15 14:08:49 pyparsing 1.5.7 is already the active version in easy-install.pth
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for cmd2==0.6.5.1
2013-07-15 14:08:49 Best match: cmd2 0.6.5.1
2013-07-15 14:08:49 cmd2 0.6.5.1 is already the active version in easy-install.pth
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for setuptools-git==1.0
2013-07-15 14:08:49 Best match: setuptools-git 1.0
2013-07-15 14:08:49 Processing setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:49 Removing setuptools-git 1.0 from easy-install.pth file
2013-07-15 14:08:49 setuptools-git 1.0 is already the active version in easy-install.pth
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg
2013-07-15 14:08:49 Searching for distribute==0.6.24dev-r0
2013-07-15 14:08:49 Best match: distribute 0.6.24dev-r0
2013-07-15 14:08:49 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-15 14:08:49 Installing easy_install script to /usr/local/bin
2013-07-15 14:08:49 Installing easy_install-2.7 script to /usr/local/bin
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:08:49 Searching for jsonpatch==1.1
2013-07-15 14:08:49 Best match: jsonpatch 1.1
2013-07-15 14:08:49 Adding jsonpatch 1.1 to easy-install.pth file
2013-07-15 14:08:49 
2013-07-15 14:08:49 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:50 Searching for jsonschema==2.0.0
2013-07-15 14:08:50 Best match: jsonschema 2.0.0
2013-07-15 14:08:50 jsonschema 2.0.0 is already the active version in easy-install.pth
2013-07-15 14:08:50 
2013-07-15 14:08:50 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:50 Searching for jsonpointer==1.0
2013-07-15 14:08:50 Best match: jsonpointer 1.0
2013-07-15 14:08:50 jsonpointer 1.0 is already the active version in easy-install.pth
2013-07-15 14:08:50 
2013-07-15 14:08:50 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:50 Finished processing dependencies for python-openstackclient==1a0d5cc
2013-07-15 14:08:50 + is_service_enabled key
2013-07-15 14:08:50 + services=key
2013-07-15 14:08:50 + for service in '${services}'
2013-07-15 14:08:50 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,key, ]]
2013-07-15 14:08:50 + return 0
2013-07-15 14:08:50 + install_keystone
2013-07-15 14:08:50 + is_service_enabled ldap
2013-07-15 14:08:50 + services=ldap
2013-07-15 14:08:50 + for service in '${services}'
2013-07-15 14:08:50 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,ldap, ]]
2013-07-15 14:08:50 + [[ ldap == \n\o\v\a ]]
2013-07-15 14:08:50 + [[ ldap == \c\i\n\d\e\r ]]
2013-07-15 14:08:50 + [[ ldap == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:08:50 + [[ ldap == \g\l\a\n\c\e ]]
2013-07-15 14:08:50 + [[ ldap == \q\u\a\n\t\u\m ]]
2013-07-15 14:08:50 + [[ ldap == \s\w\i\f\t ]]
2013-07-15 14:08:50 + [[ ldap == s-* ]]
2013-07-15 14:08:50 + return 1
2013-07-15 14:08:50 + git_clone https://github.com/openstack/keystone.git /opt/stack/keystone stable/grizzly
2013-07-15 14:08:50 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:50 + GIT_REMOTE=https://github.com/openstack/keystone.git
2013-07-15 14:08:50 + GIT_DEST=/opt/stack/keystone
2013-07-15 14:08:50 + GIT_REF=stable/grizzly
2013-07-15 14:08:50 + egrep -q '^refs'
2013-07-15 14:08:50 + echo stable/grizzly
2013-07-15 14:08:50 + [[ ! -d /opt/stack/keystone ]]
2013-07-15 14:08:50 + [[ '' == \y\e\s ]]
2013-07-15 14:08:50 + setup_develop /opt/stack/keystone
2013-07-15 14:08:50 + [[ False = True ]]
2013-07-15 14:08:50 + SUDO_CMD=sudo
2013-07-15 14:08:50 + cd /opt/stack/keystone
2013-07-15 14:08:50 + python setup.py egg_info
2013-07-15 14:08:50 running egg_info
2013-07-15 14:08:50 writing requirements to keystone.egg-info/requires.txt
2013-07-15 14:08:50 writing keystone.egg-info/PKG-INFO
2013-07-15 14:08:50 writing top-level names to keystone.egg-info/top_level.txt
2013-07-15 14:08:50 writing dependency_links to keystone.egg-info/dependency_links.txt
2013-07-15 14:08:50 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:50 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:50 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:50 warning: no files found matching 'run_tests.py'
2013-07-15 14:08:50 warning: no files found matching '*.json' under directory 'keystone'
2013-07-15 14:08:50 warning: no files found matching '*.xml' under directory 'keystone'
2013-07-15 14:08:50 warning: no files found matching '*.pem' under directory 'keystone'
2013-07-15 14:08:50 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-15 14:08:50 warning: no previously-included files matching '*.log' found anywhere in distribution
2013-07-15 14:08:50 warning: no previously-included files matching '*.db' found anywhere in distribution
2013-07-15 14:08:50 warning: no previously-included files matching '*.swp' found anywhere in distribution
2013-07-15 14:08:50 writing manifest file 'keystone.egg-info/SOURCES.txt'
2013-07-15 14:08:50 ++ awk '/^.+/ {print "-f " $1}' keystone.egg-info/dependency_links.txt
2013-07-15 14:08:50 + raw_links=
2013-07-15 14:08:50 ++ xargs
2013-07-15 14:08:50 ++ echo
2013-07-15 14:08:50 + depend_links=
2013-07-15 14:08:50 ++ '[' '!' -r keystone.egg-info/requires.txt ']'
2013-07-15 14:08:50 ++ echo '-r *-info/requires.txt'
2013-07-15 14:08:50 + require_file='-r *-info/requires.txt'
2013-07-15 14:08:50 + pip_install -r keystone.egg-info/requires.txt
2013-07-15 14:08:50 + [[ False = \T\r\u\e ]]
2013-07-15 14:08:50 + [[ -z -r keystone.egg-info/requires.txt ]]
2013-07-15 14:08:50 + [[ -z deb ]]
2013-07-15 14:08:50 + [[ False = True ]]
2013-07-15 14:08:50 + SUDO_PIP=sudo
2013-07-15 14:08:50 ++ get_pip_command
2013-07-15 14:08:50 ++ is_fedora
2013-07-15 14:08:50 ++ [[ -z Ubuntu ]]
2013-07-15 14:08:50 ++ '[' Ubuntu = Fedora ']'
2013-07-15 14:08:50 ++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:08:50 ++ '[' Ubuntu = CentOS ']'
2013-07-15 14:08:50 ++ which pip
2013-07-15 14:08:50 + CMD_PIP=/usr/bin/pip
2013-07-15 14:08:50 + [[ '' != \F\a\l\s\e ]]
2013-07-15 14:08:50 + PIP_MIRROR_OPT=--use-mirrors
2013-07-15 14:08:50 + sudo PIP_DOWNLOAD_CACHE=/var/cache/pip HTTP_PROXY= HTTPS_PROXY= NO_PROXY= /usr/bin/pip install --use-mirrors -r keystone.egg-info/requires.txt
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): pam>=0.1.4 in /usr/lib/python2.7/dist-packages (from -r keystone.egg-info/requires.txt (line 1))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): WebOb==1.2.3 in /usr/local/lib/python2.7/dist-packages (from -r keystone.egg-info/requires.txt (line 2))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): eventlet in /usr/local/lib/python2.7/dist-packages (from -r keystone.egg-info/requires.txt (line 3))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): greenlet in /usr/lib/python2.7/dist-packages (from -r keystone.egg-info/requires.txt (line 4))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): PasteDeploy in /usr/lib/python2.7/dist-packages (from -r keystone.egg-info/requires.txt (line 5))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): paste in /usr/lib/python2.7/dist-packages (from -r keystone.egg-info/requires.txt (line 6))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): routes in /usr/lib/python2.7/dist-packages (from -r keystone.egg-info/requires.txt (line 7))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): sqlalchemy>=0.7.8,<=0.7.9 in /usr/local/lib/python2.7/dist-packages (from -r keystone.egg-info/requires.txt (line 8))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): sqlalchemy-migrate>=0.7.2 in /usr/lib/python2.7/dist-packages (from -r keystone.egg-info/requires.txt (line 9))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): passlib in /usr/local/lib/python2.7/dist-packages (from -r keystone.egg-info/requires.txt (line 10))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): lxml in /usr/lib/python2.7/dist-packages (from -r keystone.egg-info/requires.txt (line 11))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): iso8601>=0.1.4 in /usr/lib/python2.7/dist-packages (from -r keystone.egg-info/requires.txt (line 12))
2013-07-15 14:08:58 Downloading/unpacking python-keystoneclient>=0.2.1,<0.3 (from -r keystone.egg-info/requires.txt (line 13))
2013-07-15 14:08:58   Storing download in cache at /var/cache/pip/http%3A%2F%2Fa.pypi.python.org%2Fpackages%2Fsource%2Fp%2Fpython-keystoneclient%2Fpython-keystoneclient-0.2.5.tar.gz
2013-07-15 14:08:58   Running setup.py egg_info for package python-keystoneclient
2013-07-15 14:08:58     
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): oslo.config>=1.1.0 in /usr/local/lib/python2.7/dist-packages (from -r keystone.egg-info/requires.txt (line 14))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): decorator in /usr/lib/python2.7/dist-packages (from sqlalchemy-migrate>=0.7.2->-r keystone.egg-info/requires.txt (line 9))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): Tempita>=0.4 in /usr/lib/python2.7/dist-packages (from sqlalchemy-migrate>=0.7.2->-r keystone.egg-info/requires.txt (line 9))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): d2to1>=0.2.10,<0.3 in /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg (from python-keystoneclient>=0.2.1,<0.3->-r keystone.egg-info/requires.txt (line 13))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): pbr>=0.5,<0.6 in /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg (from python-keystoneclient>=0.2.1,<0.3->-r keystone.egg-info/requires.txt (line 13))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): prettytable>=0.6,<0.8 in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.1,<0.3->-r keystone.egg-info/requires.txt (line 13))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): requests>=0.8.8 in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.1,<0.3->-r keystone.egg-info/requires.txt (line 13))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): simplejson in /usr/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.1,<0.3->-r keystone.egg-info/requires.txt (line 13))
2013-07-15 14:08:58 Requirement already satisfied (use --upgrade to upgrade): six in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.1,<0.3->-r keystone.egg-info/requires.txt (line 13))
2013-07-15 14:08:59 Requirement already satisfied (use --upgrade to upgrade): distribute in /usr/lib/python2.7/dist-packages (from d2to1>=0.2.10,<0.3->python-keystoneclient>=0.2.1,<0.3->-r keystone.egg-info/requires.txt (line 13))
2013-07-15 14:08:59 Requirement already satisfied (use --upgrade to upgrade): setuptools-git>=0.4 in /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg (from pbr>=0.5,<0.6->python-keystoneclient>=0.2.1,<0.3->-r keystone.egg-info/requires.txt (line 13))
2013-07-15 14:08:59 Installing collected packages: python-keystoneclient
2013-07-15 14:08:59   Found existing installation: python-keystoneclient 0.3.1.11.gf2ad113
2013-07-15 14:08:59     Uninstalling python-keystoneclient:
2013-07-15 14:08:59       Successfully uninstalled python-keystoneclient
2013-07-15 14:08:59   Running setup.py install for python-keystoneclient
2013-07-15 14:08:59     
2013-07-15 14:08:59     Installing keystone script to /usr/local/bin
2013-07-15 14:08:59 Successfully installed python-keystoneclient
2013-07-15 14:08:59 Cleaning up...
2013-07-15 14:08:59 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-15 14:08:59 running develop
2013-07-15 14:08:59 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-15 14:08:59 /usr/bin/python -E -c pass
2013-07-15 14:08:59 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-15 14:08:59 running egg_info
2013-07-15 14:08:59 writing requirements to keystone.egg-info/requires.txt
2013-07-15 14:08:59 writing keystone.egg-info/PKG-INFO
2013-07-15 14:08:59 writing top-level names to keystone.egg-info/top_level.txt
2013-07-15 14:08:59 writing dependency_links to keystone.egg-info/dependency_links.txt
2013-07-15 14:08:59 reading manifest template 'MANIFEST.in'
2013-07-15 14:08:59 warning: no files found matching 'AUTHORS'
2013-07-15 14:08:59 warning: no files found matching 'ChangeLog'
2013-07-15 14:08:59 warning: no files found matching 'run_tests.py'
2013-07-15 14:08:59 warning: no files found matching '*.json' under directory 'keystone'
2013-07-15 14:08:59 warning: no files found matching '*.xml' under directory 'keystone'
2013-07-15 14:08:59 warning: no files found matching '*.pem' under directory 'keystone'
2013-07-15 14:08:59 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-15 14:08:59 warning: no previously-included files matching '*.log' found anywhere in distribution
2013-07-15 14:08:59 warning: no previously-included files matching '*.db' found anywhere in distribution
2013-07-15 14:08:59 warning: no previously-included files matching '*.swp' found anywhere in distribution
2013-07-15 14:08:59 writing manifest file 'keystone.egg-info/SOURCES.txt'
2013-07-15 14:08:59 running build_ext
2013-07-15 14:08:59 Creating /usr/local/lib/python2.7/dist-packages/keystone.egg-link (link to .)
2013-07-15 14:08:59 keystone 2013.1.3.a8.g76a94c6 is already the active version in easy-install.pth
2013-07-15 14:08:59 Installing keystone-all script to /usr/local/bin
2013-07-15 14:08:59 Installing keystone-manage script to /usr/local/bin
2013-07-15 14:08:59 
2013-07-15 14:08:59 Installed /opt/stack/keystone
2013-07-15 14:08:59 Processing dependencies for keystone==2013.1.3.a8.g76a94c6
2013-07-15 14:08:59 Searching for oslo.config==1.1.1
2013-07-15 14:08:59 Best match: oslo.config 1.1.1
2013-07-15 14:08:59 oslo.config 1.1.1 is already the active version in easy-install.pth
2013-07-15 14:08:59 
2013-07-15 14:08:59 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:59 Searching for python-keystoneclient==0.2.5
2013-07-15 14:08:59 Best match: python-keystoneclient 0.2.5
2013-07-15 14:08:59 Removing python-keystoneclient 0.3.1.11.gf2ad113 from easy-install.pth file
2013-07-15 14:08:59 python-keystoneclient 0.2.5 is already the active version in easy-install.pth
2013-07-15 14:08:59 Installing keystone script to /usr/local/bin
2013-07-15 14:08:59 
2013-07-15 14:08:59 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:08:59 Searching for iso8601==0.1.4
2013-07-15 14:08:59 Best match: iso8601 0.1.4
2013-07-15 14:08:59 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-15 14:08:59 
2013-07-15 14:09:00 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for lxml==2.3.2
2013-07-15 14:09:00 Best match: lxml 2.3.2
2013-07-15 14:09:00 Adding lxml 2.3.2 to easy-install.pth file
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for passlib==1.6.1
2013-07-15 14:09:00 Best match: passlib 1.6.1
2013-07-15 14:09:00 passlib 1.6.1 is already the active version in easy-install.pth
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for sqlalchemy-migrate==0.7.2
2013-07-15 14:09:00 Best match: sqlalchemy-migrate 0.7.2
2013-07-15 14:09:00 Adding sqlalchemy-migrate 0.7.2 to easy-install.pth file
2013-07-15 14:09:00 Installing migrate script to /usr/local/bin
2013-07-15 14:09:00 Installing migrate-repository script to /usr/local/bin
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for SQLAlchemy==0.7.9
2013-07-15 14:09:00 Best match: SQLAlchemy 0.7.9
2013-07-15 14:09:00 SQLAlchemy 0.7.9 is already the active version in easy-install.pth
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for Routes==1.12.3
2013-07-15 14:09:00 Best match: Routes 1.12.3
2013-07-15 14:09:00 Adding Routes 1.12.3 to easy-install.pth file
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for Paste==1.7.5.1
2013-07-15 14:09:00 Best match: Paste 1.7.5.1
2013-07-15 14:09:00 Adding Paste 1.7.5.1 to easy-install.pth file
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for PasteDeploy==1.5.0
2013-07-15 14:09:00 Best match: PasteDeploy 1.5.0
2013-07-15 14:09:00 Adding PasteDeploy 1.5.0 to easy-install.pth file
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for greenlet==0.3.1
2013-07-15 14:09:00 Best match: greenlet 0.3.1
2013-07-15 14:09:00 Adding greenlet 0.3.1 to easy-install.pth file
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for eventlet==0.13.0
2013-07-15 14:09:00 Best match: eventlet 0.13.0
2013-07-15 14:09:00 eventlet 0.13.0 is already the active version in easy-install.pth
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for WebOb==1.2.3
2013-07-15 14:09:00 Best match: WebOb 1.2.3
2013-07-15 14:09:00 WebOb 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for PAM==0.4.2
2013-07-15 14:09:00 Best match: PAM 0.4.2
2013-07-15 14:09:00 Adding PAM 0.4.2 to easy-install.pth file
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for six==1.3.0
2013-07-15 14:09:00 Best match: six 1.3.0
2013-07-15 14:09:00 six 1.3.0 is already the active version in easy-install.pth
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for simplejson==2.3.2
2013-07-15 14:09:00 Best match: simplejson 2.3.2
2013-07-15 14:09:00 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for requests==1.2.3
2013-07-15 14:09:00 Best match: requests 1.2.3
2013-07-15 14:09:00 requests 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for prettytable==0.7.2
2013-07-15 14:09:00 Best match: prettytable 0.7.2
2013-07-15 14:09:00 prettytable 0.7.2 is already the active version in easy-install.pth
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for pbr==0.5.18
2013-07-15 14:09:00 Best match: pbr 0.5.18
2013-07-15 14:09:00 Processing pbr-0.5.18-py2.7.egg
2013-07-15 14:09:00 Removing pbr 0.5.18 from easy-install.pth file
2013-07-15 14:09:00 pbr 0.5.18 is already the active version in easy-install.pth
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg
2013-07-15 14:09:00 Searching for d2to1==0.2.10
2013-07-15 14:09:00 Best match: d2to1 0.2.10
2013-07-15 14:09:00 Processing d2to1-0.2.10-py2.7.egg
2013-07-15 14:09:00 Removing d2to1 0.2.10 from easy-install.pth file
2013-07-15 14:09:00 d2to1 0.2.10 is already the active version in easy-install.pth
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg
2013-07-15 14:09:00 Searching for Tempita==0.5.1
2013-07-15 14:09:00 Best match: Tempita 0.5.1
2013-07-15 14:09:00 Adding Tempita 0.5.1 to easy-install.pth file
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for decorator==3.3.2
2013-07-15 14:09:00 Best match: decorator 3.3.2
2013-07-15 14:09:00 Adding decorator 3.3.2 to easy-install.pth file
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:00 Searching for setuptools-git==1.0
2013-07-15 14:09:00 Best match: setuptools-git 1.0
2013-07-15 14:09:00 Processing setuptools_git-1.0-py2.7.egg
2013-07-15 14:09:00 Removing setuptools-git 1.0 from easy-install.pth file
2013-07-15 14:09:00 setuptools-git 1.0 is already the active version in easy-install.pth
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg
2013-07-15 14:09:00 Searching for distribute==0.6.24dev-r0
2013-07-15 14:09:00 Best match: distribute 0.6.24dev-r0
2013-07-15 14:09:00 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-15 14:09:00 Installing easy_install script to /usr/local/bin
2013-07-15 14:09:00 Installing easy_install-2.7 script to /usr/local/bin
2013-07-15 14:09:00 
2013-07-15 14:09:00 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:00 Finished processing dependencies for keystone==2013.1.3.a8.g76a94c6
2013-07-15 14:09:00 + configure_keystone
2013-07-15 14:09:00 + [[ ! -d /etc/keystone ]]
2013-07-15 14:09:00 + sudo chown ubuntu /etc/keystone
2013-07-15 14:09:00 + [[ /etc/keystone != \/\o\p\t\/\s\t\a\c\k\/\k\e\y\s\t\o\n\e\/\e\t\c ]]
2013-07-15 14:09:00 + cp -p /opt/stack/keystone/etc/keystone.conf.sample /etc/keystone/keystone.conf
2013-07-15 14:09:00 + cp -p /opt/stack/keystone/etc/policy.json /etc/keystone
2013-07-15 14:09:00 + [[ -f /opt/stack/keystone/etc/keystone-paste.ini ]]
2013-07-15 14:09:00 + [[ -f /etc/keystone/keystone-paste.ini ]]
2013-07-15 14:09:00 + KEYSTONE_PASTE_INI=/etc/keystone/keystone.conf
2013-07-15 14:09:00 + is_service_enabled ldap
2013-07-15 14:09:00 + services=ldap
2013-07-15 14:09:00 + for service in '${services}'
2013-07-15 14:09:00 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,ldap, ]]
2013-07-15 14:09:00 + [[ ldap == \n\o\v\a ]]
2013-07-15 14:09:00 + [[ ldap == \c\i\n\d\e\r ]]
2013-07-15 14:09:00 + [[ ldap == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:00 + [[ ldap == \g\l\a\n\c\e ]]
2013-07-15 14:09:00 + [[ ldap == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:00 + [[ ldap == \s\w\i\f\t ]]
2013-07-15 14:09:00 + [[ ldap == s-* ]]
2013-07-15 14:09:00 + return 1
2013-07-15 14:09:00 + [[ '' == \l\d\a\p ]]
2013-07-15 14:09:00 + is_service_enabled tls-proxy
2013-07-15 14:09:00 + services=tls-proxy
2013-07-15 14:09:00 + for service in '${services}'
2013-07-15 14:09:00 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-15 14:09:00 + [[ tls-proxy == \n\o\v\a ]]
2013-07-15 14:09:00 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:09:00 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:00 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:09:00 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:00 + [[ tls-proxy == \s\w\i\f\t ]]
2013-07-15 14:09:00 + [[ tls-proxy == s-* ]]
2013-07-15 14:09:00 + return 1
2013-07-15 14:09:00 + iniset /etc/keystone/keystone.conf DEFAULT admin_token admin
2013-07-15 14:09:00 + local file=/etc/keystone/keystone.conf
2013-07-15 14:09:00 + local section=DEFAULT
2013-07-15 14:09:00 + local option=admin_token
2013-07-15 14:09:00 + local value=admin
2013-07-15 14:09:00 + grep -q '^\[DEFAULT\]' /etc/keystone/keystone.conf
2013-07-15 14:09:00 + ini_has_option /etc/keystone/keystone.conf DEFAULT admin_token
2013-07-15 14:09:00 + local file=/etc/keystone/keystone.conf
2013-07-15 14:09:00 + local section=DEFAULT
2013-07-15 14:09:00 + local option=admin_token
2013-07-15 14:09:00 + local line
2013-07-15 14:09:00 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^admin_token[ \t]*=/ p; }' /etc/keystone/keystone.conf
2013-07-15 14:09:00 + line=
2013-07-15 14:09:00 + '[' -n '' ']'
2013-07-15 14:09:00 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:00 admin_token = admin
2013-07-15 14:09:00 ' /etc/keystone/keystone.conf
2013-07-15 14:09:00 + iniset /etc/keystone/keystone.conf signing token_format PKI
2013-07-15 14:09:00 + local file=/etc/keystone/keystone.conf
2013-07-15 14:09:00 + local section=signing
2013-07-15 14:09:00 + local option=token_format
2013-07-15 14:09:00 + local value=PKI
2013-07-15 14:09:00 + grep -q '^\[signing\]' /etc/keystone/keystone.conf
2013-07-15 14:09:00 + ini_has_option /etc/keystone/keystone.conf signing token_format
2013-07-15 14:09:00 + local file=/etc/keystone/keystone.conf
2013-07-15 14:09:00 + local section=signing
2013-07-15 14:09:00 + local option=token_format
2013-07-15 14:09:00 + local line
2013-07-15 14:09:00 ++ sed -ne '/^\[signing\]/,/^\[.*\]/ { /^token_format[ \t]*=/ p; }' /etc/keystone/keystone.conf
2013-07-15 14:09:00 + line=
2013-07-15 14:09:00 + '[' -n '' ']'
2013-07-15 14:09:00 + sed -i -e '/^\[signing\]/ a\
2013-07-15 14:09:00 token_format = PKI
2013-07-15 14:09:01 ' /etc/keystone/keystone.conf
2013-07-15 14:09:01 ++ database_connection_url keystone
2013-07-15 14:09:01 ++ local var=keystone
2013-07-15 14:09:01 ++ local db=
2013-07-15 14:09:01 ++ database_connection_url_mysql keystone
2013-07-15 14:09:01 ++ local db=keystone
2013-07-15 14:09:01 ++ echo 'mysql://root:admin@localhost/keystone?charset=utf8'
2013-07-15 14:09:01 + iniset /etc/keystone/keystone.conf sql connection 'mysql://root:admin@localhost/keystone?charset=utf8'
2013-07-15 14:09:01 + local file=/etc/keystone/keystone.conf
2013-07-15 14:09:01 + local section=sql
2013-07-15 14:09:01 + local option=connection
2013-07-15 14:09:01 + local 'value=mysql://root:admin@localhost/keystone?charset=utf8'
2013-07-15 14:09:01 + grep -q '^\[sql\]' /etc/keystone/keystone.conf
2013-07-15 14:09:01 + ini_has_option /etc/keystone/keystone.conf sql connection
2013-07-15 14:09:01 + local file=/etc/keystone/keystone.conf
2013-07-15 14:09:01 + local section=sql
2013-07-15 14:09:01 + local option=connection
2013-07-15 14:09:01 + local line
2013-07-15 14:09:01 ++ sed -ne '/^\[sql\]/,/^\[.*\]/ { /^connection[ \t]*=/ p; }' /etc/keystone/keystone.conf
2013-07-15 14:09:01 + line=
2013-07-15 14:09:01 + '[' -n '' ']'
2013-07-15 14:09:01 + sed -i -e '/^\[sql\]/ a\
2013-07-15 14:09:01 connection = mysql://root:admin@localhost/keystone?charset=utf8
2013-07-15 14:09:01 ' /etc/keystone/keystone.conf
2013-07-15 14:09:01 + iniset /etc/keystone/keystone.conf ec2 driver keystone.contrib.ec2.backends.sql.Ec2
2013-07-15 14:09:01 + local file=/etc/keystone/keystone.conf
2013-07-15 14:09:01 + local section=ec2
2013-07-15 14:09:01 + local option=driver
2013-07-15 14:09:01 + local value=keystone.contrib.ec2.backends.sql.Ec2
2013-07-15 14:09:01 + grep -q '^\[ec2\]' /etc/keystone/keystone.conf
2013-07-15 14:09:01 + ini_has_option /etc/keystone/keystone.conf ec2 driver
2013-07-15 14:09:01 + local file=/etc/keystone/keystone.conf
2013-07-15 14:09:01 + local section=ec2
2013-07-15 14:09:01 + local option=driver
2013-07-15 14:09:01 + local line
2013-07-15 14:09:01 ++ sed -ne '/^\[ec2\]/,/^\[.*\]/ { /^driver[ \t]*=/ p; }' /etc/keystone/keystone.conf
2013-07-15 14:09:01 + line=
2013-07-15 14:09:01 + '[' -n '' ']'
2013-07-15 14:09:01 + sed -i -e '/^\[ec2\]/ a\
2013-07-15 14:09:01 driver = keystone.contrib.ec2.backends.sql.Ec2
2013-07-15 14:09:01 ' /etc/keystone/keystone.conf
2013-07-15 14:09:01 + [[ sql = \s\q\l ]]
2013-07-15 14:09:01 + iniset /etc/keystone/keystone.conf token driver keystone.token.backends.sql.Token
2013-07-15 14:09:01 + local file=/etc/keystone/keystone.conf
2013-07-15 14:09:01 + local section=token
2013-07-15 14:09:01 + local option=driver
2013-07-15 14:09:01 + local value=keystone.token.backends.sql.Token
2013-07-15 14:09:01 + grep -q '^\[token\]' /etc/keystone/keystone.conf
2013-07-15 14:09:01 + ini_has_option /etc/keystone/keystone.conf token driver
2013-07-15 14:09:01 + local file=/etc/keystone/keystone.conf
2013-07-15 14:09:01 + local section=token
2013-07-15 14:09:01 + local option=driver
2013-07-15 14:09:01 + local line
2013-07-15 14:09:01 ++ sed -ne '/^\[token\]/,/^\[.*\]/ { /^driver[ \t]*=/ p; }' /etc/keystone/keystone.conf
2013-07-15 14:09:01 + line=
2013-07-15 14:09:01 + '[' -n '' ']'
2013-07-15 14:09:01 + sed -i -e '/^\[token\]/ a\
2013-07-15 14:09:01 driver = keystone.token.backends.sql.Token
2013-07-15 14:09:01 ' /etc/keystone/keystone.conf
2013-07-15 14:09:01 + [[ sql = \s\q\l ]]
2013-07-15 14:09:01 + iniset /etc/keystone/keystone.conf catalog driver keystone.catalog.backends.sql.Catalog
2013-07-15 14:09:01 + local file=/etc/keystone/keystone.conf
2013-07-15 14:09:01 + local section=catalog
2013-07-15 14:09:01 + local option=driver
2013-07-15 14:09:01 + local value=keystone.catalog.backends.sql.Catalog
2013-07-15 14:09:01 + grep -q '^\[catalog\]' /etc/keystone/keystone.conf
2013-07-15 14:09:01 + ini_has_option /etc/keystone/keystone.conf catalog driver
2013-07-15 14:09:01 + local file=/etc/keystone/keystone.conf
2013-07-15 14:09:01 + local section=catalog
2013-07-15 14:09:01 + local option=driver
2013-07-15 14:09:01 + local line
2013-07-15 14:09:01 ++ sed -ne '/^\[catalog\]/,/^\[.*\]/ { /^driver[ \t]*=/ p; }' /etc/keystone/keystone.conf
2013-07-15 14:09:01 + line=
2013-07-15 14:09:01 + '[' -n '' ']'
2013-07-15 14:09:01 + sed -i -e '/^\[catalog\]/ a\
2013-07-15 14:09:01 driver = keystone.catalog.backends.sql.Catalog
2013-07-15 14:09:01 ' /etc/keystone/keystone.conf
2013-07-15 14:09:01 + inicomment /etc/keystone/keystone.conf catalog template_file
2013-07-15 14:09:01 + local file=/etc/keystone/keystone.conf
2013-07-15 14:09:01 + local section=catalog
2013-07-15 14:09:01 + local option=template_file
2013-07-15 14:09:01 + sed -i -e '/^\[catalog\]/,/^\[.*\]/ s|^\(template_file[ \t]*=.*$\)|#\1|' /etc/keystone/keystone.conf
2013-07-15 14:09:01 + LOGGING_ROOT=devel
2013-07-15 14:09:01 + '[' True '!=' False ']'
2013-07-15 14:09:01 + LOGGING_ROOT=devel,production
2013-07-15 14:09:01 + KEYSTONE_LOG_CONFIG='--log-config /etc/keystone/logging.conf'
2013-07-15 14:09:01 + cp /opt/stack/keystone/etc/logging.conf.sample /etc/keystone/logging.conf
2013-07-15 14:09:01 + iniset /etc/keystone/logging.conf logger_root level DEBUG
2013-07-15 14:09:01 + local file=/etc/keystone/logging.conf
2013-07-15 14:09:01 + local section=logger_root
2013-07-15 14:09:01 + local option=level
2013-07-15 14:09:01 + local value=DEBUG
2013-07-15 14:09:01 + grep -q '^\[logger_root\]' /etc/keystone/logging.conf
2013-07-15 14:09:01 + ini_has_option /etc/keystone/logging.conf logger_root level
2013-07-15 14:09:01 + local file=/etc/keystone/logging.conf
2013-07-15 14:09:01 + local section=logger_root
2013-07-15 14:09:01 + local option=level
2013-07-15 14:09:01 + local line
2013-07-15 14:09:01 ++ sed -ne '/^\[logger_root\]/,/^\[.*\]/ { /^level[ \t]*=/ p; }' /etc/keystone/logging.conf
2013-07-15 14:09:01 + line=level=WARNING
2013-07-15 14:09:01 + '[' -n level=WARNING ']'
2013-07-15 14:09:01 + sed -i -e '/^\[logger_root\]/,/^\[.*\]/ s|^\(level[ \t]*=[ \t]*\).*$|\1DEBUG|' /etc/keystone/logging.conf
2013-07-15 14:09:01 + iniset /etc/keystone/logging.conf logger_root handlers devel,production
2013-07-15 14:09:01 + local file=/etc/keystone/logging.conf
2013-07-15 14:09:01 + local section=logger_root
2013-07-15 14:09:01 + local option=handlers
2013-07-15 14:09:01 + local value=devel,production
2013-07-15 14:09:01 + grep -q '^\[logger_root\]' /etc/keystone/logging.conf
2013-07-15 14:09:01 + ini_has_option /etc/keystone/logging.conf logger_root handlers
2013-07-15 14:09:01 + local file=/etc/keystone/logging.conf
2013-07-15 14:09:01 + local section=logger_root
2013-07-15 14:09:01 + local option=handlers
2013-07-15 14:09:01 + local line
2013-07-15 14:09:01 ++ sed -ne '/^\[logger_root\]/,/^\[.*\]/ { /^handlers[ \t]*=/ p; }' /etc/keystone/logging.conf
2013-07-15 14:09:01 + line=handlers=file
2013-07-15 14:09:01 + '[' -n handlers=file ']'
2013-07-15 14:09:01 + sed -i -e '/^\[logger_root\]/,/^\[.*\]/ s|^\(handlers[ \t]*=[ \t]*\).*$|\1devel,production|' /etc/keystone/logging.conf
2013-07-15 14:09:01 + is_service_enabled s-proxy
2013-07-15 14:09:01 + services=s-proxy
2013-07-15 14:09:01 + for service in '${services}'
2013-07-15 14:09:01 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,s-proxy, ]]
2013-07-15 14:09:01 + [[ s-proxy == \n\o\v\a ]]
2013-07-15 14:09:01 + [[ s-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:09:01 + [[ s-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:01 + [[ s-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:09:01 + [[ s-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:01 + [[ s-proxy == \s\w\i\f\t ]]
2013-07-15 14:09:01 + [[ s-proxy == s-* ]]
2013-07-15 14:09:01 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ swift ]]
2013-07-15 14:09:01 + return 1
2013-07-15 14:09:01 + is_service_enabled g-api n-api
2013-07-15 14:09:01 + services='g-api n-api'
2013-07-15 14:09:01 + for service in '${services}'
2013-07-15 14:09:01 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,g-api, ]]
2013-07-15 14:09:01 + return 0
2013-07-15 14:09:01 + install_glance
2013-07-15 14:09:01 + git_clone https://github.com/openstack/glance.git /opt/stack/glance stable/grizzly
2013-07-15 14:09:01 + [[ False = \T\r\u\e ]]
2013-07-15 14:09:01 + GIT_REMOTE=https://github.com/openstack/glance.git
2013-07-15 14:09:01 + GIT_DEST=/opt/stack/glance
2013-07-15 14:09:01 + GIT_REF=stable/grizzly
2013-07-15 14:09:01 + echo stable/grizzly
2013-07-15 14:09:01 + egrep -q '^refs'
2013-07-15 14:09:01 + [[ ! -d /opt/stack/glance ]]
2013-07-15 14:09:01 + [[ '' == \y\e\s ]]
2013-07-15 14:09:01 + setup_develop /opt/stack/glance
2013-07-15 14:09:01 + [[ False = True ]]
2013-07-15 14:09:01 + SUDO_CMD=sudo
2013-07-15 14:09:01 + cd /opt/stack/glance
2013-07-15 14:09:01 + python setup.py egg_info
2013-07-15 14:09:01 running egg_info
2013-07-15 14:09:01 writing requirements to glance.egg-info/requires.txt
2013-07-15 14:09:01 writing glance.egg-info/PKG-INFO
2013-07-15 14:09:01 writing top-level names to glance.egg-info/top_level.txt
2013-07-15 14:09:01 writing dependency_links to glance.egg-info/dependency_links.txt
2013-07-15 14:09:01 reading manifest template 'MANIFEST.in'
2013-07-15 14:09:01 warning: no files found matching 'ChangeLog'
2013-07-15 14:09:01 warning: no files found matching 'builddeb.sh'
2013-07-15 14:09:01 warning: no files found matching 'AUTHORS'
2013-07-15 14:09:01 warning: no files found matching 'run_tests.py'
2013-07-15 14:09:01 warning: no files found matching 'ChangeLog'
2013-07-15 14:09:01 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-15 14:09:01 writing manifest file 'glance.egg-info/SOURCES.txt'
2013-07-15 14:09:01 ++ awk '/^.+/ {print "-f " $1}' glance.egg-info/dependency_links.txt
2013-07-15 14:09:01 + raw_links=
2013-07-15 14:09:01 ++ xargs
2013-07-15 14:09:01 ++ echo
2013-07-15 14:09:01 + depend_links=
2013-07-15 14:09:01 ++ '[' '!' -r glance.egg-info/requires.txt ']'
2013-07-15 14:09:01 ++ echo '-r *-info/requires.txt'
2013-07-15 14:09:01 + require_file='-r *-info/requires.txt'
2013-07-15 14:09:01 + pip_install -r glance.egg-info/requires.txt
2013-07-15 14:09:01 + [[ False = \T\r\u\e ]]
2013-07-15 14:09:01 + [[ -z -r glance.egg-info/requires.txt ]]
2013-07-15 14:09:01 + [[ -z deb ]]
2013-07-15 14:09:01 + [[ False = True ]]
2013-07-15 14:09:01 + SUDO_PIP=sudo
2013-07-15 14:09:01 ++ get_pip_command
2013-07-15 14:09:01 ++ is_fedora
2013-07-15 14:09:02 ++ [[ -z Ubuntu ]]
2013-07-15 14:09:02 ++ '[' Ubuntu = Fedora ']'
2013-07-15 14:09:02 ++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:09:02 ++ '[' Ubuntu = CentOS ']'
2013-07-15 14:09:02 ++ which pip
2013-07-15 14:09:02 + CMD_PIP=/usr/bin/pip
2013-07-15 14:09:02 + [[ '' != \F\a\l\s\e ]]
2013-07-15 14:09:02 + PIP_MIRROR_OPT=--use-mirrors
2013-07-15 14:09:02 + sudo PIP_DOWNLOAD_CACHE=/var/cache/pip HTTP_PROXY= HTTPS_PROXY= NO_PROXY= /usr/bin/pip install --use-mirrors -r glance.egg-info/requires.txt
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): greenlet>=0.3.1 in /usr/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 1))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): SQLAlchemy>=0.7,<=0.7.9 in /usr/local/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 2))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): anyjson in /usr/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 3))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): eventlet>=0.9.12 in /usr/local/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 4))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): PasteDeploy in /usr/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 5))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): routes in /usr/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 6))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): WebOb>=1.2 in /usr/local/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 7))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): wsgiref in /usr/lib/python2.7 (from -r glance.egg-info/requires.txt (line 8))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): boto in /usr/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 9))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): sqlalchemy-migrate>=0.7 in /usr/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 10))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): httplib2 in /usr/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 11))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): kombu in /usr/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 12))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): pycrypto>=2.1.0alpha1 in /usr/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 13))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): iso8601>=0.1.4 in /usr/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 14))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): oslo.config>=1.1.0 in /usr/local/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 15))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): python-swiftclient>=1.2,<2 in /opt/stack/python-swiftclient (from -r glance.egg-info/requires.txt (line 16))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): lxml in /usr/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 17))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): Paste in /usr/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 18))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): passlib in /usr/local/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 19))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): jsonschema in /usr/local/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 20))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): python-keystoneclient>=0.2.0 in /usr/local/lib/python2.7/dist-packages (from -r glance.egg-info/requires.txt (line 21))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): decorator in /usr/lib/python2.7/dist-packages (from sqlalchemy-migrate>=0.7->-r glance.egg-info/requires.txt (line 10))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): Tempita>=0.4 in /usr/lib/python2.7/dist-packages (from sqlalchemy-migrate>=0.7->-r glance.egg-info/requires.txt (line 10))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): amqplib>=1.0 in /usr/lib/python2.7/dist-packages (from kombu->-r glance.egg-info/requires.txt (line 12))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): d2to1>=0.2.10,<0.3 in /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg (from python-swiftclient>=1.2,<2->-r glance.egg-info/requires.txt (line 16))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): pbr>=0.5,<0.6 in /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg (from python-swiftclient>=1.2,<2->-r glance.egg-info/requires.txt (line 16))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): simplejson>=2.0.9 in /usr/lib/python2.7/dist-packages (from python-swiftclient>=1.2,<2->-r glance.egg-info/requires.txt (line 16))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): prettytable>=0.6,<0.8 in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.0->-r glance.egg-info/requires.txt (line 21))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): requests>=0.8.8 in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.0->-r glance.egg-info/requires.txt (line 21))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): six in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.0->-r glance.egg-info/requires.txt (line 21))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): distribute in /usr/lib/python2.7/dist-packages (from d2to1>=0.2.10,<0.3->python-swiftclient>=1.2,<2->-r glance.egg-info/requires.txt (line 16))
2013-07-15 14:09:02 Requirement already satisfied (use --upgrade to upgrade): setuptools-git>=0.4 in /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg (from pbr>=0.5,<0.6->python-swiftclient>=1.2,<2->-r glance.egg-info/requires.txt (line 16))
2013-07-15 14:09:02 Cleaning up...
2013-07-15 14:09:02 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-15 14:09:02 running develop
2013-07-15 14:09:02 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-15 14:09:02 /usr/bin/python -E -c pass
2013-07-15 14:09:02 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-15 14:09:02 running egg_info
2013-07-15 14:09:02 writing requirements to glance.egg-info/requires.txt
2013-07-15 14:09:02 writing glance.egg-info/PKG-INFO
2013-07-15 14:09:02 writing top-level names to glance.egg-info/top_level.txt
2013-07-15 14:09:02 writing dependency_links to glance.egg-info/dependency_links.txt
2013-07-15 14:09:02 reading manifest template 'MANIFEST.in'
2013-07-15 14:09:02 warning: no files found matching 'ChangeLog'
2013-07-15 14:09:02 warning: no files found matching 'builddeb.sh'
2013-07-15 14:09:02 warning: no files found matching 'AUTHORS'
2013-07-15 14:09:02 warning: no files found matching 'run_tests.py'
2013-07-15 14:09:02 warning: no files found matching 'ChangeLog'
2013-07-15 14:09:02 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-15 14:09:02 writing manifest file 'glance.egg-info/SOURCES.txt'
2013-07-15 14:09:02 running build_ext
2013-07-15 14:09:02 Creating /usr/local/lib/python2.7/dist-packages/glance.egg-link (link to .)
2013-07-15 14:09:02 glance 2013.1.3.a3.ga5dda27 is already the active version in easy-install.pth
2013-07-15 14:09:02 Installing glance-api script to /usr/local/bin
2013-07-15 14:09:02 Installing glance-cache-prefetcher script to /usr/local/bin
2013-07-15 14:09:02 Installing glance-cache-pruner script to /usr/local/bin
2013-07-15 14:09:02 Installing glance-cache-manage script to /usr/local/bin
2013-07-15 14:09:02 Installing glance-cache-cleaner script to /usr/local/bin
2013-07-15 14:09:02 Installing glance-control script to /usr/local/bin
2013-07-15 14:09:02 Installing glance-manage script to /usr/local/bin
2013-07-15 14:09:02 Installing glance-registry script to /usr/local/bin
2013-07-15 14:09:02 Installing glance-replicator script to /usr/local/bin
2013-07-15 14:09:02 Installing glance-scrubber script to /usr/local/bin
2013-07-15 14:09:02 
2013-07-15 14:09:02 Installed /opt/stack/glance
2013-07-15 14:09:02 Processing dependencies for glance==2013.1.3.a3.ga5dda27
2013-07-15 14:09:02 Searching for python-keystoneclient==0.3.1.11.gf2ad113
2013-07-15 14:09:02 Best match: python-keystoneclient 0.3.1.11.gf2ad113
2013-07-15 14:09:02 Adding python-keystoneclient 0.3.1.11.gf2ad113 to easy-install.pth file
2013-07-15 14:09:02 Installing keystone script to /usr/local/bin
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /opt/stack/python-keystoneclient
2013-07-15 14:09:02 Searching for jsonschema==2.0.0
2013-07-15 14:09:02 Best match: jsonschema 2.0.0
2013-07-15 14:09:02 Adding jsonschema 2.0.0 to easy-install.pth file
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for passlib==1.6.1
2013-07-15 14:09:02 Best match: passlib 1.6.1
2013-07-15 14:09:02 passlib 1.6.1 is already the active version in easy-install.pth
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for Paste==1.7.5.1
2013-07-15 14:09:02 Best match: Paste 1.7.5.1
2013-07-15 14:09:02 Adding Paste 1.7.5.1 to easy-install.pth file
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for lxml==2.3.2
2013-07-15 14:09:02 Best match: lxml 2.3.2
2013-07-15 14:09:02 Adding lxml 2.3.2 to easy-install.pth file
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for python-swiftclient==1.5.0.7.g07d13b5
2013-07-15 14:09:02 Best match: python-swiftclient 1.5.0.7.g07d13b5
2013-07-15 14:09:02 python-swiftclient 1.5.0.7.g07d13b5 is already the active version in easy-install.pth
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /opt/stack/python-swiftclient
2013-07-15 14:09:02 Searching for oslo.config==1.1.1
2013-07-15 14:09:02 Best match: oslo.config 1.1.1
2013-07-15 14:09:02 oslo.config 1.1.1 is already the active version in easy-install.pth
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for iso8601==0.1.4
2013-07-15 14:09:02 Best match: iso8601 0.1.4
2013-07-15 14:09:02 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for pycrypto==2.4.1
2013-07-15 14:09:02 Best match: pycrypto 2.4.1
2013-07-15 14:09:02 Adding pycrypto 2.4.1 to easy-install.pth file
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for kombu==1.4.3
2013-07-15 14:09:02 Best match: kombu 1.4.3
2013-07-15 14:09:02 Adding kombu 1.4.3 to easy-install.pth file
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for httplib2==0.7.2
2013-07-15 14:09:02 Best match: httplib2 0.7.2
2013-07-15 14:09:02 Adding httplib2 0.7.2 to easy-install.pth file
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for sqlalchemy-migrate==0.7.2
2013-07-15 14:09:02 Best match: sqlalchemy-migrate 0.7.2
2013-07-15 14:09:02 Adding sqlalchemy-migrate 0.7.2 to easy-install.pth file
2013-07-15 14:09:02 Installing migrate script to /usr/local/bin
2013-07-15 14:09:02 Installing migrate-repository script to /usr/local/bin
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for boto==2.2.2
2013-07-15 14:09:02 Best match: boto 2.2.2
2013-07-15 14:09:02 Adding boto 2.2.2 to easy-install.pth file
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for wsgiref==0.1.2
2013-07-15 14:09:02 Best match: wsgiref 0.1.2
2013-07-15 14:09:02 wsgiref 0.1.2 is already the active version in easy-install.pth
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/lib/python2.7
2013-07-15 14:09:02 Searching for WebOb==1.2.3
2013-07-15 14:09:02 Best match: WebOb 1.2.3
2013-07-15 14:09:02 WebOb 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for Routes==1.12.3
2013-07-15 14:09:02 Best match: Routes 1.12.3
2013-07-15 14:09:02 Adding Routes 1.12.3 to easy-install.pth file
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for PasteDeploy==1.5.0
2013-07-15 14:09:02 Best match: PasteDeploy 1.5.0
2013-07-15 14:09:02 Adding PasteDeploy 1.5.0 to easy-install.pth file
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for eventlet==0.13.0
2013-07-15 14:09:02 Best match: eventlet 0.13.0
2013-07-15 14:09:02 eventlet 0.13.0 is already the active version in easy-install.pth
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for anyjson==0.3.1
2013-07-15 14:09:02 Best match: anyjson 0.3.1
2013-07-15 14:09:02 Adding anyjson 0.3.1 to easy-install.pth file
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for SQLAlchemy==0.7.9
2013-07-15 14:09:02 Best match: SQLAlchemy 0.7.9
2013-07-15 14:09:02 SQLAlchemy 0.7.9 is already the active version in easy-install.pth
2013-07-15 14:09:02 
2013-07-15 14:09:02 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:02 Searching for greenlet==0.3.1
2013-07-15 14:09:02 Best match: greenlet 0.3.1
2013-07-15 14:09:03 Adding greenlet 0.3.1 to easy-install.pth file
2013-07-15 14:09:03 
2013-07-15 14:09:03 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:03 Searching for six==1.3.0
2013-07-15 14:09:03 Best match: six 1.3.0
2013-07-15 14:09:03 six 1.3.0 is already the active version in easy-install.pth
2013-07-15 14:09:03 
2013-07-15 14:09:03 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:03 Searching for simplejson==2.3.2
2013-07-15 14:09:03 Best match: simplejson 2.3.2
2013-07-15 14:09:03 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-15 14:09:03 
2013-07-15 14:09:03 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:03 Searching for requests==1.2.3
2013-07-15 14:09:03 Best match: requests 1.2.3
2013-07-15 14:09:03 requests 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:09:03 
2013-07-15 14:09:03 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:03 Searching for prettytable==0.7.2
2013-07-15 14:09:03 Best match: prettytable 0.7.2
2013-07-15 14:09:03 prettytable 0.7.2 is already the active version in easy-install.pth
2013-07-15 14:09:03 
2013-07-15 14:09:03 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:03 Searching for pbr==0.5.18
2013-07-15 14:09:03 Best match: pbr 0.5.18
2013-07-15 14:09:03 Processing pbr-0.5.18-py2.7.egg
2013-07-15 14:09:03 pbr 0.5.18 is already the active version in easy-install.pth
2013-07-15 14:09:03 
2013-07-15 14:09:03 Using /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg
2013-07-15 14:09:03 Searching for d2to1==0.2.10
2013-07-15 14:09:03 Best match: d2to1 0.2.10
2013-07-15 14:09:03 Processing d2to1-0.2.10-py2.7.egg
2013-07-15 14:09:03 d2to1 0.2.10 is already the active version in easy-install.pth
2013-07-15 14:09:03 
2013-07-15 14:09:03 Using /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg
2013-07-15 14:09:03 Searching for amqplib==1.0.0
2013-07-15 14:09:03 Best match: amqplib 1.0.0
2013-07-15 14:09:03 Adding amqplib 1.0.0 to easy-install.pth file
2013-07-15 14:09:03 
2013-07-15 14:09:03 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:03 Searching for Tempita==0.5.1
2013-07-15 14:09:03 Best match: Tempita 0.5.1
2013-07-15 14:09:03 Adding Tempita 0.5.1 to easy-install.pth file
2013-07-15 14:09:03 
2013-07-15 14:09:03 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:03 Searching for decorator==3.3.2
2013-07-15 14:09:03 Best match: decorator 3.3.2
2013-07-15 14:09:03 Adding decorator 3.3.2 to easy-install.pth file
2013-07-15 14:09:03 
2013-07-15 14:09:03 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:03 Searching for setuptools-git==1.0
2013-07-15 14:09:03 Best match: setuptools-git 1.0
2013-07-15 14:09:03 Processing setuptools_git-1.0-py2.7.egg
2013-07-15 14:09:03 setuptools-git 1.0 is already the active version in easy-install.pth
2013-07-15 14:09:03 
2013-07-15 14:09:03 Using /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg
2013-07-15 14:09:03 Searching for distribute==0.6.24dev-r0
2013-07-15 14:09:03 Best match: distribute 0.6.24dev-r0
2013-07-15 14:09:03 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-15 14:09:03 Installing easy_install script to /usr/local/bin
2013-07-15 14:09:03 Installing easy_install-2.7 script to /usr/local/bin
2013-07-15 14:09:03 
2013-07-15 14:09:03 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:03 Finished processing dependencies for glance==2013.1.3.a3.ga5dda27
2013-07-15 14:09:03 + configure_glance
2013-07-15 14:09:03 + [[ ! -d /etc/glance ]]
2013-07-15 14:09:03 + sudo chown ubuntu /etc/glance
2013-07-15 14:09:03 + cp /opt/stack/glance/etc/glance-registry.conf /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + iniset /etc/glance/glance-registry.conf DEFAULT debug True
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=DEFAULT
2013-07-15 14:09:03 + local option=debug
2013-07-15 14:09:03 + local value=True
2013-07-15 14:09:03 + grep -q '^\[DEFAULT\]' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + ini_has_option /etc/glance/glance-registry.conf DEFAULT debug
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=DEFAULT
2013-07-15 14:09:03 + local option=debug
2013-07-15 14:09:03 + local line
2013-07-15 14:09:03 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^debug[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + line=
2013-07-15 14:09:03 + '[' -n '' ']'
2013-07-15 14:09:03 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:03 debug = True
2013-07-15 14:09:03 ' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + inicomment /etc/glance/glance-registry.conf DEFAULT log_file
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=DEFAULT
2013-07-15 14:09:03 + local option=log_file
2013-07-15 14:09:03 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(log_file[ \t]*=.*$\)|#\1|' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 ++ database_connection_url glance
2013-07-15 14:09:03 ++ local var=glance
2013-07-15 14:09:03 ++ local db=
2013-07-15 14:09:03 ++ database_connection_url_mysql glance
2013-07-15 14:09:03 ++ local db=glance
2013-07-15 14:09:03 ++ echo 'mysql://root:admin@localhost/glance?charset=utf8'
2013-07-15 14:09:03 + local 'dburl=mysql://root:admin@localhost/glance?charset=utf8'
2013-07-15 14:09:03 + iniset /etc/glance/glance-registry.conf DEFAULT sql_connection 'mysql://root:admin@localhost/glance?charset=utf8'
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=DEFAULT
2013-07-15 14:09:03 + local option=sql_connection
2013-07-15 14:09:03 + local 'value=mysql://root:admin@localhost/glance?charset=utf8'
2013-07-15 14:09:03 + grep -q '^\[DEFAULT\]' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + ini_has_option /etc/glance/glance-registry.conf DEFAULT sql_connection
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=DEFAULT
2013-07-15 14:09:03 + local option=sql_connection
2013-07-15 14:09:03 + local line
2013-07-15 14:09:03 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^sql_connection[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + line='sql_connection = sqlite:///glance.sqlite'
2013-07-15 14:09:03 + '[' -n 'sql_connection = sqlite:///glance.sqlite' ']'
2013-07-15 14:09:03 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(sql_connection[ \t]*=[ \t]*\).*$|\1mysql://root:admin@localhost/glance?charset=utf8|' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + iniset /etc/glance/glance-registry.conf DEFAULT use_syslog True
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=DEFAULT
2013-07-15 14:09:03 + local option=use_syslog
2013-07-15 14:09:03 + local value=True
2013-07-15 14:09:03 + grep -q '^\[DEFAULT\]' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + ini_has_option /etc/glance/glance-registry.conf DEFAULT use_syslog
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=DEFAULT
2013-07-15 14:09:03 + local option=use_syslog
2013-07-15 14:09:03 + local line
2013-07-15 14:09:03 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^use_syslog[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + line=
2013-07-15 14:09:03 + '[' -n '' ']'
2013-07-15 14:09:03 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:03 use_syslog = True
2013-07-15 14:09:03 ' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + iniset /etc/glance/glance-registry.conf paste_deploy flavor keystone
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=paste_deploy
2013-07-15 14:09:03 + local option=flavor
2013-07-15 14:09:03 + local value=keystone
2013-07-15 14:09:03 + grep -q '^\[paste_deploy\]' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + ini_has_option /etc/glance/glance-registry.conf paste_deploy flavor
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=paste_deploy
2013-07-15 14:09:03 + local option=flavor
2013-07-15 14:09:03 + local line
2013-07-15 14:09:03 ++ sed -ne '/^\[paste_deploy\]/,/^\[.*\]/ { /^flavor[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + line=
2013-07-15 14:09:03 + '[' -n '' ']'
2013-07-15 14:09:03 + sed -i -e '/^\[paste_deploy\]/ a\
2013-07-15 14:09:03 flavor = keystone
2013-07-15 14:09:03 ' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + iniset /etc/glance/glance-registry.conf keystone_authtoken auth_host 54.248.87.124
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=keystone_authtoken
2013-07-15 14:09:03 + local option=auth_host
2013-07-15 14:09:03 + local value=54.248.87.124
2013-07-15 14:09:03 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken auth_host
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=keystone_authtoken
2013-07-15 14:09:03 + local option=auth_host
2013-07-15 14:09:03 + local line
2013-07-15 14:09:03 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_host[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + line='auth_host = 127.0.0.1'
2013-07-15 14:09:03 + '[' -n 'auth_host = 127.0.0.1' ']'
2013-07-15 14:09:03 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(auth_host[ \t]*=[ \t]*\).*$|\154.248.87.124|' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + iniset /etc/glance/glance-registry.conf keystone_authtoken auth_port 35357
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=keystone_authtoken
2013-07-15 14:09:03 + local option=auth_port
2013-07-15 14:09:03 + local value=35357
2013-07-15 14:09:03 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken auth_port
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=keystone_authtoken
2013-07-15 14:09:03 + local option=auth_port
2013-07-15 14:09:03 + local line
2013-07-15 14:09:03 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_port[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + line='auth_port = 35357'
2013-07-15 14:09:03 + '[' -n 'auth_port = 35357' ']'
2013-07-15 14:09:03 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(auth_port[ \t]*=[ \t]*\).*$|\135357|' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + iniset /etc/glance/glance-registry.conf keystone_authtoken auth_protocol http
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=keystone_authtoken
2013-07-15 14:09:03 + local option=auth_protocol
2013-07-15 14:09:03 + local value=http
2013-07-15 14:09:03 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-15 14:09:03 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken auth_protocol
2013-07-15 14:09:03 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:03 + local section=keystone_authtoken
2013-07-15 14:09:03 + local option=auth_protocol
2013-07-15 14:09:03 + local line
2013-07-15 14:09:03 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_protocol[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + line='auth_protocol = http'
2013-07-15 14:09:04 + '[' -n 'auth_protocol = http' ']'
2013-07-15 14:09:04 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(auth_protocol[ \t]*=[ \t]*\).*$|\1http|' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + iniset /etc/glance/glance-registry.conf keystone_authtoken auth_uri http://54.248.87.124:5000/
2013-07-15 14:09:04 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:04 + local section=keystone_authtoken
2013-07-15 14:09:04 + local option=auth_uri
2013-07-15 14:09:04 + local value=http://54.248.87.124:5000/
2013-07-15 14:09:04 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken auth_uri
2013-07-15 14:09:04 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:04 + local section=keystone_authtoken
2013-07-15 14:09:04 + local option=auth_uri
2013-07-15 14:09:04 + local line
2013-07-15 14:09:04 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_uri[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + line=
2013-07-15 14:09:04 + '[' -n '' ']'
2013-07-15 14:09:04 + sed -i -e '/^\[keystone_authtoken\]/ a\
2013-07-15 14:09:04 auth_uri = http://54.248.87.124:5000/
2013-07-15 14:09:04 ' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + iniset /etc/glance/glance-registry.conf keystone_authtoken admin_tenant_name service
2013-07-15 14:09:04 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:04 + local section=keystone_authtoken
2013-07-15 14:09:04 + local option=admin_tenant_name
2013-07-15 14:09:04 + local value=service
2013-07-15 14:09:04 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken admin_tenant_name
2013-07-15 14:09:04 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:04 + local section=keystone_authtoken
2013-07-15 14:09:04 + local option=admin_tenant_name
2013-07-15 14:09:04 + local line
2013-07-15 14:09:04 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^admin_tenant_name[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + line='admin_tenant_name = %SERVICE_TENANT_NAME%'
2013-07-15 14:09:04 + '[' -n 'admin_tenant_name = %SERVICE_TENANT_NAME%' ']'
2013-07-15 14:09:04 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(admin_tenant_name[ \t]*=[ \t]*\).*$|\1service|' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + iniset /etc/glance/glance-registry.conf keystone_authtoken admin_user glance
2013-07-15 14:09:04 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:04 + local section=keystone_authtoken
2013-07-15 14:09:04 + local option=admin_user
2013-07-15 14:09:04 + local value=glance
2013-07-15 14:09:04 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken admin_user
2013-07-15 14:09:04 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:04 + local section=keystone_authtoken
2013-07-15 14:09:04 + local option=admin_user
2013-07-15 14:09:04 + local line
2013-07-15 14:09:04 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^admin_user[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + line='admin_user = %SERVICE_USER%'
2013-07-15 14:09:04 + '[' -n 'admin_user = %SERVICE_USER%' ']'
2013-07-15 14:09:04 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(admin_user[ \t]*=[ \t]*\).*$|\1glance|' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + iniset /etc/glance/glance-registry.conf keystone_authtoken admin_password admin
2013-07-15 14:09:04 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:04 + local section=keystone_authtoken
2013-07-15 14:09:04 + local option=admin_password
2013-07-15 14:09:04 + local value=admin
2013-07-15 14:09:04 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken admin_password
2013-07-15 14:09:04 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:04 + local section=keystone_authtoken
2013-07-15 14:09:04 + local option=admin_password
2013-07-15 14:09:04 + local line
2013-07-15 14:09:04 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + line='admin_password = %SERVICE_PASSWORD%'
2013-07-15 14:09:04 + '[' -n 'admin_password = %SERVICE_PASSWORD%' ']'
2013-07-15 14:09:04 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(admin_password[ \t]*=[ \t]*\).*$|\1admin|' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + iniset /etc/glance/glance-registry.conf keystone_authtoken signing_dir /var/cache/glance/registry
2013-07-15 14:09:04 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:04 + local section=keystone_authtoken
2013-07-15 14:09:04 + local option=signing_dir
2013-07-15 14:09:04 + local value=/var/cache/glance/registry
2013-07-15 14:09:04 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + ini_has_option /etc/glance/glance-registry.conf keystone_authtoken signing_dir
2013-07-15 14:09:04 + local file=/etc/glance/glance-registry.conf
2013-07-15 14:09:04 + local section=keystone_authtoken
2013-07-15 14:09:04 + local option=signing_dir
2013-07-15 14:09:04 + local line
2013-07-15 14:09:04 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^signing_dir[ \t]*=/ p; }' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + line=
2013-07-15 14:09:04 + '[' -n '' ']'
2013-07-15 14:09:04 + sed -i -e '/^\[keystone_authtoken\]/ a\
2013-07-15 14:09:04 signing_dir = /var/cache/glance/registry
2013-07-15 14:09:04 ' /etc/glance/glance-registry.conf
2013-07-15 14:09:04 + cp /opt/stack/glance/etc/glance-api.conf /etc/glance/glance-api.conf
2013-07-15 14:09:04 + iniset /etc/glance/glance-api.conf DEFAULT debug True
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=DEFAULT
2013-07-15 14:09:04 + local option=debug
2013-07-15 14:09:04 + local value=True
2013-07-15 14:09:04 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + ini_has_option /etc/glance/glance-api.conf DEFAULT debug
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=DEFAULT
2013-07-15 14:09:04 + local option=debug
2013-07-15 14:09:04 + local line
2013-07-15 14:09:04 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^debug[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + line=
2013-07-15 14:09:04 + '[' -n '' ']'
2013-07-15 14:09:04 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:04 debug = True
2013-07-15 14:09:04 ' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + inicomment /etc/glance/glance-api.conf DEFAULT log_file
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=DEFAULT
2013-07-15 14:09:04 + local option=log_file
2013-07-15 14:09:04 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(log_file[ \t]*=.*$\)|#\1|' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + iniset /etc/glance/glance-api.conf DEFAULT sql_connection 'mysql://root:admin@localhost/glance?charset=utf8'
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=DEFAULT
2013-07-15 14:09:04 + local option=sql_connection
2013-07-15 14:09:04 + local 'value=mysql://root:admin@localhost/glance?charset=utf8'
2013-07-15 14:09:04 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + ini_has_option /etc/glance/glance-api.conf DEFAULT sql_connection
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=DEFAULT
2013-07-15 14:09:04 + local option=sql_connection
2013-07-15 14:09:04 + local line
2013-07-15 14:09:04 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^sql_connection[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + line='sql_connection = sqlite:///glance.sqlite'
2013-07-15 14:09:04 + '[' -n 'sql_connection = sqlite:///glance.sqlite' ']'
2013-07-15 14:09:04 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(sql_connection[ \t]*=[ \t]*\).*$|\1mysql://root:admin@localhost/glance?charset=utf8|' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + iniset /etc/glance/glance-api.conf DEFAULT use_syslog True
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=DEFAULT
2013-07-15 14:09:04 + local option=use_syslog
2013-07-15 14:09:04 + local value=True
2013-07-15 14:09:04 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + ini_has_option /etc/glance/glance-api.conf DEFAULT use_syslog
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=DEFAULT
2013-07-15 14:09:04 + local option=use_syslog
2013-07-15 14:09:04 + local line
2013-07-15 14:09:04 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^use_syslog[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + line=
2013-07-15 14:09:04 + '[' -n '' ']'
2013-07-15 14:09:04 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:04 use_syslog = True
2013-07-15 14:09:04 ' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + iniset /etc/glance/glance-api.conf DEFAULT filesystem_store_datadir /opt/stack/data/glance/images/
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=DEFAULT
2013-07-15 14:09:04 + local option=filesystem_store_datadir
2013-07-15 14:09:04 + local value=/opt/stack/data/glance/images/
2013-07-15 14:09:04 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + ini_has_option /etc/glance/glance-api.conf DEFAULT filesystem_store_datadir
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=DEFAULT
2013-07-15 14:09:04 + local option=filesystem_store_datadir
2013-07-15 14:09:04 + local line
2013-07-15 14:09:04 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^filesystem_store_datadir[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + line='filesystem_store_datadir = /var/lib/glance/images/'
2013-07-15 14:09:04 + '[' -n 'filesystem_store_datadir = /var/lib/glance/images/' ']'
2013-07-15 14:09:04 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(filesystem_store_datadir[ \t]*=[ \t]*\).*$|\1/opt/stack/data/glance/images/|' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + iniset /etc/glance/glance-api.conf DEFAULT image_cache_dir /opt/stack/data/glance/cache/
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=DEFAULT
2013-07-15 14:09:04 + local option=image_cache_dir
2013-07-15 14:09:04 + local value=/opt/stack/data/glance/cache/
2013-07-15 14:09:04 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + ini_has_option /etc/glance/glance-api.conf DEFAULT image_cache_dir
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=DEFAULT
2013-07-15 14:09:04 + local option=image_cache_dir
2013-07-15 14:09:04 + local line
2013-07-15 14:09:04 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^image_cache_dir[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + line='image_cache_dir = /var/lib/glance/image-cache/'
2013-07-15 14:09:04 + '[' -n 'image_cache_dir = /var/lib/glance/image-cache/' ']'
2013-07-15 14:09:04 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(image_cache_dir[ \t]*=[ \t]*\).*$|\1/opt/stack/data/glance/cache/|' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + iniset /etc/glance/glance-api.conf paste_deploy flavor keystone+cachemanagement
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=paste_deploy
2013-07-15 14:09:04 + local option=flavor
2013-07-15 14:09:04 + local value=keystone+cachemanagement
2013-07-15 14:09:04 + grep -q '^\[paste_deploy\]' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + ini_has_option /etc/glance/glance-api.conf paste_deploy flavor
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=paste_deploy
2013-07-15 14:09:04 + local option=flavor
2013-07-15 14:09:04 + local line
2013-07-15 14:09:04 ++ sed -ne '/^\[paste_deploy\]/,/^\[.*\]/ { /^flavor[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + line=
2013-07-15 14:09:04 + '[' -n '' ']'
2013-07-15 14:09:04 + sed -i -e '/^\[paste_deploy\]/ a\
2013-07-15 14:09:04 flavor = keystone+cachemanagement
2013-07-15 14:09:04 ' /etc/glance/glance-api.conf
2013-07-15 14:09:04 + iniset /etc/glance/glance-api.conf keystone_authtoken auth_host 54.248.87.124
2013-07-15 14:09:04 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:04 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=auth_host
2013-07-15 14:09:05 + local value=54.248.87.124
2013-07-15 14:09:05 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken auth_host
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=auth_host
2013-07-15 14:09:05 + local line
2013-07-15 14:09:05 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_host[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + line='auth_host = 127.0.0.1'
2013-07-15 14:09:05 + '[' -n 'auth_host = 127.0.0.1' ']'
2013-07-15 14:09:05 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(auth_host[ \t]*=[ \t]*\).*$|\154.248.87.124|' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + iniset /etc/glance/glance-api.conf keystone_authtoken auth_port 35357
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=auth_port
2013-07-15 14:09:05 + local value=35357
2013-07-15 14:09:05 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken auth_port
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=auth_port
2013-07-15 14:09:05 + local line
2013-07-15 14:09:05 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_port[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + line='auth_port = 35357'
2013-07-15 14:09:05 + '[' -n 'auth_port = 35357' ']'
2013-07-15 14:09:05 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(auth_port[ \t]*=[ \t]*\).*$|\135357|' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + iniset /etc/glance/glance-api.conf keystone_authtoken auth_protocol http
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=auth_protocol
2013-07-15 14:09:05 + local value=http
2013-07-15 14:09:05 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken auth_protocol
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=auth_protocol
2013-07-15 14:09:05 + local line
2013-07-15 14:09:05 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_protocol[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + line='auth_protocol = http'
2013-07-15 14:09:05 + '[' -n 'auth_protocol = http' ']'
2013-07-15 14:09:05 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(auth_protocol[ \t]*=[ \t]*\).*$|\1http|' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + iniset /etc/glance/glance-api.conf keystone_authtoken auth_uri http://54.248.87.124:5000/
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=auth_uri
2013-07-15 14:09:05 + local value=http://54.248.87.124:5000/
2013-07-15 14:09:05 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken auth_uri
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=auth_uri
2013-07-15 14:09:05 + local line
2013-07-15 14:09:05 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^auth_uri[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + line=
2013-07-15 14:09:05 + '[' -n '' ']'
2013-07-15 14:09:05 + sed -i -e '/^\[keystone_authtoken\]/ a\
2013-07-15 14:09:05 auth_uri = http://54.248.87.124:5000/
2013-07-15 14:09:05 ' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + iniset /etc/glance/glance-api.conf keystone_authtoken admin_tenant_name service
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=admin_tenant_name
2013-07-15 14:09:05 + local value=service
2013-07-15 14:09:05 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken admin_tenant_name
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=admin_tenant_name
2013-07-15 14:09:05 + local line
2013-07-15 14:09:05 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^admin_tenant_name[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + line='admin_tenant_name = %SERVICE_TENANT_NAME%'
2013-07-15 14:09:05 + '[' -n 'admin_tenant_name = %SERVICE_TENANT_NAME%' ']'
2013-07-15 14:09:05 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(admin_tenant_name[ \t]*=[ \t]*\).*$|\1service|' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + iniset /etc/glance/glance-api.conf keystone_authtoken admin_user glance
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=admin_user
2013-07-15 14:09:05 + local value=glance
2013-07-15 14:09:05 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken admin_user
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=admin_user
2013-07-15 14:09:05 + local line
2013-07-15 14:09:05 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^admin_user[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + line='admin_user = %SERVICE_USER%'
2013-07-15 14:09:05 + '[' -n 'admin_user = %SERVICE_USER%' ']'
2013-07-15 14:09:05 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(admin_user[ \t]*=[ \t]*\).*$|\1glance|' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + iniset /etc/glance/glance-api.conf keystone_authtoken admin_password admin
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=admin_password
2013-07-15 14:09:05 + local value=admin
2013-07-15 14:09:05 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken admin_password
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=keystone_authtoken
2013-07-15 14:09:05 + local option=admin_password
2013-07-15 14:09:05 + local line
2013-07-15 14:09:05 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + line='admin_password = %SERVICE_PASSWORD%'
2013-07-15 14:09:05 + '[' -n 'admin_password = %SERVICE_PASSWORD%' ']'
2013-07-15 14:09:05 + sed -i -e '/^\[keystone_authtoken\]/,/^\[.*\]/ s|^\(admin_password[ \t]*=[ \t]*\).*$|\1admin|' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + is_service_enabled qpid
2013-07-15 14:09:05 + services=qpid
2013-07-15 14:09:05 + for service in '${services}'
2013-07-15 14:09:05 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,qpid, ]]
2013-07-15 14:09:05 + [[ qpid == \n\o\v\a ]]
2013-07-15 14:09:05 + [[ qpid == \c\i\n\d\e\r ]]
2013-07-15 14:09:05 + [[ qpid == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:05 + [[ qpid == \g\l\a\n\c\e ]]
2013-07-15 14:09:05 + [[ qpid == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:05 + [[ qpid == \s\w\i\f\t ]]
2013-07-15 14:09:05 + [[ qpid == s-* ]]
2013-07-15 14:09:05 + return 1
2013-07-15 14:09:05 + '[' -n localhost ']'
2013-07-15 14:09:05 + '[' -n admin ']'
2013-07-15 14:09:05 + iniset /etc/glance/glance-api.conf DEFAULT notifier_strategy rabbit
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=DEFAULT
2013-07-15 14:09:05 + local option=notifier_strategy
2013-07-15 14:09:05 + local value=rabbit
2013-07-15 14:09:05 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + ini_has_option /etc/glance/glance-api.conf DEFAULT notifier_strategy
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=DEFAULT
2013-07-15 14:09:05 + local option=notifier_strategy
2013-07-15 14:09:05 + local line
2013-07-15 14:09:05 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^notifier_strategy[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + line='notifier_strategy = noop'
2013-07-15 14:09:05 + '[' -n 'notifier_strategy = noop' ']'
2013-07-15 14:09:05 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(notifier_strategy[ \t]*=[ \t]*\).*$|\1rabbit|' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + iniset_rpc_backend glance /etc/glance/glance-api.conf DEFAULT
2013-07-15 14:09:05 + local package=glance
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=DEFAULT
2013-07-15 14:09:05 + is_service_enabled zeromq
2013-07-15 14:09:05 + services=zeromq
2013-07-15 14:09:05 + for service in '${services}'
2013-07-15 14:09:05 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,zeromq, ]]
2013-07-15 14:09:05 + [[ zeromq == \n\o\v\a ]]
2013-07-15 14:09:05 + [[ zeromq == \c\i\n\d\e\r ]]
2013-07-15 14:09:05 + [[ zeromq == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:05 + [[ zeromq == \g\l\a\n\c\e ]]
2013-07-15 14:09:05 + [[ zeromq == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:05 + [[ zeromq == \s\w\i\f\t ]]
2013-07-15 14:09:05 + [[ zeromq == s-* ]]
2013-07-15 14:09:05 + return 1
2013-07-15 14:09:05 + is_service_enabled qpid
2013-07-15 14:09:05 + services=qpid
2013-07-15 14:09:05 + for service in '${services}'
2013-07-15 14:09:05 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,qpid, ]]
2013-07-15 14:09:05 + [[ qpid == \n\o\v\a ]]
2013-07-15 14:09:05 + [[ qpid == \c\i\n\d\e\r ]]
2013-07-15 14:09:05 + [[ qpid == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:05 + [[ qpid == \g\l\a\n\c\e ]]
2013-07-15 14:09:05 + [[ qpid == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:05 + [[ qpid == \s\w\i\f\t ]]
2013-07-15 14:09:05 + [[ qpid == s-* ]]
2013-07-15 14:09:05 + return 1
2013-07-15 14:09:05 + is_service_enabled rabbit
2013-07-15 14:09:05 + services=rabbit
2013-07-15 14:09:05 + for service in '${services}'
2013-07-15 14:09:05 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,rabbit, ]]
2013-07-15 14:09:05 + return 0
2013-07-15 14:09:05 + iniset /etc/glance/glance-api.conf DEFAULT rpc_backend glance.openstack.common.rpc.impl_kombu
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=DEFAULT
2013-07-15 14:09:05 + local option=rpc_backend
2013-07-15 14:09:05 + local value=glance.openstack.common.rpc.impl_kombu
2013-07-15 14:09:05 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + ini_has_option /etc/glance/glance-api.conf DEFAULT rpc_backend
2013-07-15 14:09:05 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:05 + local section=DEFAULT
2013-07-15 14:09:05 + local option=rpc_backend
2013-07-15 14:09:05 + local line
2013-07-15 14:09:05 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rpc_backend[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + line=
2013-07-15 14:09:05 + '[' -n '' ']'
2013-07-15 14:09:05 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:05 rpc_backend = glance.openstack.common.rpc.impl_kombu
2013-07-15 14:09:05 ' /etc/glance/glance-api.conf
2013-07-15 14:09:05 + iniset /etc/glance/glance-api.conf DEFAULT rabbit_host localhost
2013-07-15 14:09:06 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=rabbit_host
2013-07-15 14:09:06 + local value=localhost
2013-07-15 14:09:06 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-15 14:09:06 + ini_has_option /etc/glance/glance-api.conf DEFAULT rabbit_host
2013-07-15 14:09:06 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=rabbit_host
2013-07-15 14:09:06 + local line
2013-07-15 14:09:06 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rabbit_host[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:06 + line='rabbit_host = localhost'
2013-07-15 14:09:06 + '[' -n 'rabbit_host = localhost' ']'
2013-07-15 14:09:06 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(rabbit_host[ \t]*=[ \t]*\).*$|\1localhost|' /etc/glance/glance-api.conf
2013-07-15 14:09:06 + iniset /etc/glance/glance-api.conf DEFAULT rabbit_password admin
2013-07-15 14:09:06 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=rabbit_password
2013-07-15 14:09:06 + local value=admin
2013-07-15 14:09:06 + grep -q '^\[DEFAULT\]' /etc/glance/glance-api.conf
2013-07-15 14:09:06 + ini_has_option /etc/glance/glance-api.conf DEFAULT rabbit_password
2013-07-15 14:09:06 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=rabbit_password
2013-07-15 14:09:06 + local line
2013-07-15 14:09:06 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rabbit_password[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:06 + line='rabbit_password = guest'
2013-07-15 14:09:06 + '[' -n 'rabbit_password = guest' ']'
2013-07-15 14:09:06 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(rabbit_password[ \t]*=[ \t]*\).*$|\1admin|' /etc/glance/glance-api.conf
2013-07-15 14:09:06 + iniset /etc/glance/glance-api.conf keystone_authtoken signing_dir /var/cache/glance/api
2013-07-15 14:09:06 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:06 + local section=keystone_authtoken
2013-07-15 14:09:06 + local option=signing_dir
2013-07-15 14:09:06 + local value=/var/cache/glance/api
2013-07-15 14:09:06 + grep -q '^\[keystone_authtoken\]' /etc/glance/glance-api.conf
2013-07-15 14:09:06 + ini_has_option /etc/glance/glance-api.conf keystone_authtoken signing_dir
2013-07-15 14:09:06 + local file=/etc/glance/glance-api.conf
2013-07-15 14:09:06 + local section=keystone_authtoken
2013-07-15 14:09:06 + local option=signing_dir
2013-07-15 14:09:06 + local line
2013-07-15 14:09:06 ++ sed -ne '/^\[keystone_authtoken\]/,/^\[.*\]/ { /^signing_dir[ \t]*=/ p; }' /etc/glance/glance-api.conf
2013-07-15 14:09:06 + line=
2013-07-15 14:09:06 + '[' -n '' ']'
2013-07-15 14:09:06 + sed -i -e '/^\[keystone_authtoken\]/ a\
2013-07-15 14:09:06 signing_dir = /var/cache/glance/api
2013-07-15 14:09:06 ' /etc/glance/glance-api.conf
2013-07-15 14:09:06 + is_service_enabled s-proxy
2013-07-15 14:09:06 + services=s-proxy
2013-07-15 14:09:06 + for service in '${services}'
2013-07-15 14:09:06 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,s-proxy, ]]
2013-07-15 14:09:06 + [[ s-proxy == \n\o\v\a ]]
2013-07-15 14:09:06 + [[ s-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:09:06 + [[ s-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:06 + [[ s-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:09:06 + [[ s-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:06 + [[ s-proxy == \s\w\i\f\t ]]
2013-07-15 14:09:06 + [[ s-proxy == s-* ]]
2013-07-15 14:09:06 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ swift ]]
2013-07-15 14:09:06 + return 1
2013-07-15 14:09:06 + cp -p /opt/stack/glance/etc/glance-registry-paste.ini /etc/glance/glance-registry-paste.ini
2013-07-15 14:09:06 + cp -p /opt/stack/glance/etc/glance-api-paste.ini /etc/glance/glance-api-paste.ini
2013-07-15 14:09:06 + cp /opt/stack/glance/etc/glance-cache.conf /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + iniset /etc/glance/glance-cache.conf DEFAULT debug True
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=debug
2013-07-15 14:09:06 + local value=True
2013-07-15 14:09:06 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + ini_has_option /etc/glance/glance-cache.conf DEFAULT debug
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=debug
2013-07-15 14:09:06 + local line
2013-07-15 14:09:06 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^debug[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + line=
2013-07-15 14:09:06 + '[' -n '' ']'
2013-07-15 14:09:06 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:06 debug = True
2013-07-15 14:09:06 ' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + inicomment /etc/glance/glance-cache.conf DEFAULT log_file
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=log_file
2013-07-15 14:09:06 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(log_file[ \t]*=.*$\)|#\1|' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + iniset /etc/glance/glance-cache.conf DEFAULT use_syslog True
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=use_syslog
2013-07-15 14:09:06 + local value=True
2013-07-15 14:09:06 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + ini_has_option /etc/glance/glance-cache.conf DEFAULT use_syslog
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=use_syslog
2013-07-15 14:09:06 + local line
2013-07-15 14:09:06 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^use_syslog[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + line=
2013-07-15 14:09:06 + '[' -n '' ']'
2013-07-15 14:09:06 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:06 use_syslog = True
2013-07-15 14:09:06 ' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + iniset /etc/glance/glance-cache.conf DEFAULT filesystem_store_datadir /opt/stack/data/glance/images/
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=filesystem_store_datadir
2013-07-15 14:09:06 + local value=/opt/stack/data/glance/images/
2013-07-15 14:09:06 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + ini_has_option /etc/glance/glance-cache.conf DEFAULT filesystem_store_datadir
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=filesystem_store_datadir
2013-07-15 14:09:06 + local line
2013-07-15 14:09:06 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^filesystem_store_datadir[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + line='filesystem_store_datadir = /var/lib/glance/images/'
2013-07-15 14:09:06 + '[' -n 'filesystem_store_datadir = /var/lib/glance/images/' ']'
2013-07-15 14:09:06 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(filesystem_store_datadir[ \t]*=[ \t]*\).*$|\1/opt/stack/data/glance/images/|' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + iniset /etc/glance/glance-cache.conf DEFAULT image_cache_dir /opt/stack/data/glance/cache/
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=image_cache_dir
2013-07-15 14:09:06 + local value=/opt/stack/data/glance/cache/
2013-07-15 14:09:06 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + ini_has_option /etc/glance/glance-cache.conf DEFAULT image_cache_dir
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=image_cache_dir
2013-07-15 14:09:06 + local line
2013-07-15 14:09:06 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^image_cache_dir[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + line='image_cache_dir = /var/lib/glance/image-cache/'
2013-07-15 14:09:06 + '[' -n 'image_cache_dir = /var/lib/glance/image-cache/' ']'
2013-07-15 14:09:06 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(image_cache_dir[ \t]*=[ \t]*\).*$|\1/opt/stack/data/glance/cache/|' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + iniuncomment /etc/glance/glance-cache.conf DEFAULT auth_url
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=auth_url
2013-07-15 14:09:06 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|[^ \t]*#[ \t]*\(auth_url[ \t]*=.*$\)|\1|' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + iniset /etc/glance/glance-cache.conf DEFAULT auth_url http://54.248.87.124:35357/v2.0
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=auth_url
2013-07-15 14:09:06 + local value=http://54.248.87.124:35357/v2.0
2013-07-15 14:09:06 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + ini_has_option /etc/glance/glance-cache.conf DEFAULT auth_url
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=auth_url
2013-07-15 14:09:06 + local line
2013-07-15 14:09:06 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^auth_url[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + line='auth_url = http://127.0.0.1:5000/v2.0/'
2013-07-15 14:09:06 + '[' -n 'auth_url = http://127.0.0.1:5000/v2.0/' ']'
2013-07-15 14:09:06 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|^\(auth_url[ \t]*=[ \t]*\).*$|\1http://54.248.87.124:35357/v2.0|' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + iniuncomment /etc/glance/glance-cache.conf DEFAULT auth_tenant_name
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=auth_tenant_name
2013-07-15 14:09:06 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|[^ \t]*#[ \t]*\(auth_tenant_name[ \t]*=.*$\)|\1|' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + iniset /etc/glance/glance-cache.conf DEFAULT admin_tenant_name service
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=admin_tenant_name
2013-07-15 14:09:06 + local value=service
2013-07-15 14:09:06 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + ini_has_option /etc/glance/glance-cache.conf DEFAULT admin_tenant_name
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=admin_tenant_name
2013-07-15 14:09:06 + local line
2013-07-15 14:09:06 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^admin_tenant_name[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + line=
2013-07-15 14:09:06 + '[' -n '' ']'
2013-07-15 14:09:06 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:06 admin_tenant_name = service
2013-07-15 14:09:06 ' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + iniuncomment /etc/glance/glance-cache.conf DEFAULT auth_user
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=auth_user
2013-07-15 14:09:06 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|[^ \t]*#[ \t]*\(auth_user[ \t]*=.*$\)|\1|' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + iniset /etc/glance/glance-cache.conf DEFAULT admin_user glance
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=admin_user
2013-07-15 14:09:06 + local value=glance
2013-07-15 14:09:06 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-15 14:09:06 + ini_has_option /etc/glance/glance-cache.conf DEFAULT admin_user
2013-07-15 14:09:06 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:06 + local section=DEFAULT
2013-07-15 14:09:06 + local option=admin_user
2013-07-15 14:09:06 + local line
2013-07-15 14:09:06 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^admin_user[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-15 14:09:07 + line=
2013-07-15 14:09:07 + '[' -n '' ']'
2013-07-15 14:09:07 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:07 admin_user = glance
2013-07-15 14:09:07 ' /etc/glance/glance-cache.conf
2013-07-15 14:09:07 + iniuncomment /etc/glance/glance-cache.conf DEFAULT auth_password
2013-07-15 14:09:07 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:07 + local section=DEFAULT
2013-07-15 14:09:07 + local option=auth_password
2013-07-15 14:09:07 + sed -i -e '/^\[DEFAULT\]/,/^\[.*\]/ s|[^ \t]*#[ \t]*\(auth_password[ \t]*=.*$\)|\1|' /etc/glance/glance-cache.conf
2013-07-15 14:09:07 + iniset /etc/glance/glance-cache.conf DEFAULT admin_password admin
2013-07-15 14:09:07 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:07 + local section=DEFAULT
2013-07-15 14:09:07 + local option=admin_password
2013-07-15 14:09:07 + local value=admin
2013-07-15 14:09:07 + grep -q '^\[DEFAULT\]' /etc/glance/glance-cache.conf
2013-07-15 14:09:07 + ini_has_option /etc/glance/glance-cache.conf DEFAULT admin_password
2013-07-15 14:09:07 + local file=/etc/glance/glance-cache.conf
2013-07-15 14:09:07 + local section=DEFAULT
2013-07-15 14:09:07 + local option=admin_password
2013-07-15 14:09:07 + local line
2013-07-15 14:09:07 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /etc/glance/glance-cache.conf
2013-07-15 14:09:07 + line=
2013-07-15 14:09:07 + '[' -n '' ']'
2013-07-15 14:09:07 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:07 admin_password = admin
2013-07-15 14:09:07 ' /etc/glance/glance-cache.conf
2013-07-15 14:09:07 + cp -p /opt/stack/glance/etc/policy.json /etc/glance/policy.json
2013-07-15 14:09:07 + is_service_enabled cinder
2013-07-15 14:09:07 + services=cinder
2013-07-15 14:09:07 + for service in '${services}'
2013-07-15 14:09:07 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,cinder, ]]
2013-07-15 14:09:07 + return 0
2013-07-15 14:09:07 + install_cinder
2013-07-15 14:09:07 + git_clone https://github.com/openstack/cinder.git /opt/stack/cinder stable/grizzly
2013-07-15 14:09:07 + [[ False = \T\r\u\e ]]
2013-07-15 14:09:07 + GIT_REMOTE=https://github.com/openstack/cinder.git
2013-07-15 14:09:07 + GIT_DEST=/opt/stack/cinder
2013-07-15 14:09:07 + GIT_REF=stable/grizzly
2013-07-15 14:09:07 + egrep -q '^refs'
2013-07-15 14:09:07 + echo stable/grizzly
2013-07-15 14:09:07 + [[ ! -d /opt/stack/cinder ]]
2013-07-15 14:09:07 + [[ '' == \y\e\s ]]
2013-07-15 14:09:07 + setup_develop /opt/stack/cinder
2013-07-15 14:09:07 + [[ False = True ]]
2013-07-15 14:09:07 + SUDO_CMD=sudo
2013-07-15 14:09:07 + cd /opt/stack/cinder
2013-07-15 14:09:07 + python setup.py egg_info
2013-07-15 14:09:07 running egg_info
2013-07-15 14:09:07 writing requirements to cinder.egg-info/requires.txt
2013-07-15 14:09:07 writing cinder.egg-info/PKG-INFO
2013-07-15 14:09:07 writing top-level names to cinder.egg-info/top_level.txt
2013-07-15 14:09:07 writing dependency_links to cinder.egg-info/dependency_links.txt
2013-07-15 14:09:07 writing entry points to cinder.egg-info/entry_points.txt
2013-07-15 14:09:07 reading manifest template 'MANIFEST.in'
2013-07-15 14:09:07 warning: no files found matching 'AUTHORS'
2013-07-15 14:09:07 warning: no files found matching 'ChangeLog'
2013-07-15 14:09:07 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-15 14:09:07 writing manifest file 'cinder.egg-info/SOURCES.txt'
2013-07-15 14:09:07 ++ awk '/^.+/ {print "-f " $1}' cinder.egg-info/dependency_links.txt
2013-07-15 14:09:07 + raw_links=
2013-07-15 14:09:07 ++ echo
2013-07-15 14:09:07 ++ xargs
2013-07-15 14:09:07 + depend_links=
2013-07-15 14:09:07 ++ '[' '!' -r cinder.egg-info/requires.txt ']'
2013-07-15 14:09:07 ++ echo '-r *-info/requires.txt'
2013-07-15 14:09:07 + require_file='-r *-info/requires.txt'
2013-07-15 14:09:07 + pip_install -r cinder.egg-info/requires.txt
2013-07-15 14:09:07 + [[ False = \T\r\u\e ]]
2013-07-15 14:09:07 + [[ -z -r cinder.egg-info/requires.txt ]]
2013-07-15 14:09:07 + [[ -z deb ]]
2013-07-15 14:09:07 + [[ False = True ]]
2013-07-15 14:09:07 + SUDO_PIP=sudo
2013-07-15 14:09:07 ++ get_pip_command
2013-07-15 14:09:07 ++ is_fedora
2013-07-15 14:09:07 ++ [[ -z Ubuntu ]]
2013-07-15 14:09:07 ++ '[' Ubuntu = Fedora ']'
2013-07-15 14:09:07 ++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:09:07 ++ '[' Ubuntu = CentOS ']'
2013-07-15 14:09:07 ++ which pip
2013-07-15 14:09:07 + CMD_PIP=/usr/bin/pip
2013-07-15 14:09:07 + [[ '' != \F\a\l\s\e ]]
2013-07-15 14:09:07 + PIP_MIRROR_OPT=--use-mirrors
2013-07-15 14:09:07 + sudo PIP_DOWNLOAD_CACHE=/var/cache/pip HTTP_PROXY= HTTPS_PROXY= NO_PROXY= /usr/bin/pip install --use-mirrors -r cinder.egg-info/requires.txt
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): SQLAlchemy>=0.7.3,<=0.7.9 in /usr/local/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 1))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): amqplib>=0.6.1 in /usr/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 2))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): anyjson>=0.2.4 in /usr/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 3))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): eventlet>=0.9.17 in /usr/local/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 4))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): kombu>=1.0.4 in /usr/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 5))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): lockfile>=0.8 in /usr/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 6))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): lxml>=2.3 in /usr/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 7))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): routes>=1.12.3 in /usr/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 8))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): WebOb==1.2.3 in /usr/local/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 9))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): wsgiref>=0.1.2 in /usr/lib/python2.7 (from -r cinder.egg-info/requires.txt (line 10))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): greenlet>=0.3.1 in /usr/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 11))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): PasteDeploy>=1.5.0 in /usr/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 12))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): paste in /usr/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 13))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): sqlalchemy-migrate>=0.7.2 in /usr/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 14))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): stevedore>=0.8.0 in /usr/local/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 15))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): suds>=0.4 in /usr/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 16))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): paramiko in /usr/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 17))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): Babel>=0.9.6 in /usr/local/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 18))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): iso8601>=0.1.4 in /usr/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 19))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): setuptools-git>=0.4 in /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg (from -r cinder.egg-info/requires.txt (line 20))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): python-glanceclient>=0.5.0,<2 in /opt/stack/python-glanceclient (from -r cinder.egg-info/requires.txt (line 21))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): python-keystoneclient>=0.2.0 in /opt/stack/python-keystoneclient (from -r cinder.egg-info/requires.txt (line 22))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): python-swiftclient in /opt/stack/python-swiftclient (from -r cinder.egg-info/requires.txt (line 23))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): oslo.config>=1.1.0 in /usr/local/lib/python2.7/dist-packages (from -r cinder.egg-info/requires.txt (line 24))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): decorator in /usr/lib/python2.7/dist-packages (from sqlalchemy-migrate>=0.7.2->-r cinder.egg-info/requires.txt (line 14))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): Tempita>=0.4 in /usr/lib/python2.7/dist-packages (from sqlalchemy-migrate>=0.7.2->-r cinder.egg-info/requires.txt (line 14))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): d2to1>=0.2.10,<0.3 in /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg (from python-glanceclient>=0.5.0,<2->-r cinder.egg-info/requires.txt (line 21))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): pbr>=0.5,<0.6 in /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg (from python-glanceclient>=0.5.0,<2->-r cinder.egg-info/requires.txt (line 21))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): prettytable>=0.6,<0.8 in /usr/local/lib/python2.7/dist-packages (from python-glanceclient>=0.5.0,<2->-r cinder.egg-info/requires.txt (line 21))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): pyOpenSSL in /usr/lib/python2.7/dist-packages (from python-glanceclient>=0.5.0,<2->-r cinder.egg-info/requires.txt (line 21))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): warlock>=0.7.0,<2 in /usr/local/lib/python2.7/dist-packages (from python-glanceclient>=0.5.0,<2->-r cinder.egg-info/requires.txt (line 21))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): requests>=0.8.8 in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.0->-r cinder.egg-info/requires.txt (line 22))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): simplejson in /usr/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.0->-r cinder.egg-info/requires.txt (line 22))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): six in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.0->-r cinder.egg-info/requires.txt (line 22))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): distribute in /usr/lib/python2.7/dist-packages (from d2to1>=0.2.10,<0.3->python-glanceclient>=0.5.0,<2->-r cinder.egg-info/requires.txt (line 21))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): jsonschema>=0.7,<3 in /usr/local/lib/python2.7/dist-packages (from warlock>=0.7.0,<2->python-glanceclient>=0.5.0,<2->-r cinder.egg-info/requires.txt (line 21))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): jsonpatch>=0.10,<2 in /usr/local/lib/python2.7/dist-packages (from warlock>=0.7.0,<2->python-glanceclient>=0.5.0,<2->-r cinder.egg-info/requires.txt (line 21))
2013-07-15 14:09:07 Requirement already satisfied (use --upgrade to upgrade): jsonpointer>=1.0 in /usr/local/lib/python2.7/dist-packages (from jsonpatch>=0.10,<2->warlock>=0.7.0,<2->python-glanceclient>=0.5.0,<2->-r cinder.egg-info/requires.txt (line 21))
2013-07-15 14:09:07 Cleaning up...
2013-07-15 14:09:07 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-15 14:09:07 running develop
2013-07-15 14:09:07 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-15 14:09:07 /usr/bin/python -E -c pass
2013-07-15 14:09:07 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-15 14:09:07 running egg_info
2013-07-15 14:09:07 writing requirements to cinder.egg-info/requires.txt
2013-07-15 14:09:07 writing cinder.egg-info/PKG-INFO
2013-07-15 14:09:07 writing top-level names to cinder.egg-info/top_level.txt
2013-07-15 14:09:07 writing dependency_links to cinder.egg-info/dependency_links.txt
2013-07-15 14:09:07 writing entry points to cinder.egg-info/entry_points.txt
2013-07-15 14:09:07 reading manifest template 'MANIFEST.in'
2013-07-15 14:09:07 warning: no files found matching 'AUTHORS'
2013-07-15 14:09:07 warning: no files found matching 'ChangeLog'
2013-07-15 14:09:07 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-15 14:09:07 writing manifest file 'cinder.egg-info/SOURCES.txt'
2013-07-15 14:09:07 running build_ext
2013-07-15 14:09:07 Creating /usr/local/lib/python2.7/dist-packages/cinder.egg-link (link to .)
2013-07-15 14:09:07 cinder 2013.1.3.a17.g82c6ffe is already the active version in easy-install.pth
2013-07-15 14:09:07 Installing cinder-all script to /usr/local/bin
2013-07-15 14:09:07 Installing cinder-api script to /usr/local/bin
2013-07-15 14:09:07 Installing cinder-backup script to /usr/local/bin
2013-07-15 14:09:07 Installing cinder-clear-rabbit-queues script to /usr/local/bin
2013-07-15 14:09:07 Installing cinder-manage script to /usr/local/bin
2013-07-15 14:09:07 Installing cinder-rootwrap script to /usr/local/bin
2013-07-15 14:09:07 Installing cinder-scheduler script to /usr/local/bin
2013-07-15 14:09:07 Installing cinder-volume script to /usr/local/bin
2013-07-15 14:09:07 Installing cinder-volume-usage-audit script to /usr/local/bin
2013-07-15 14:09:07 
2013-07-15 14:09:07 Installed /opt/stack/cinder
2013-07-15 14:09:07 Processing dependencies for cinder==2013.1.3.a17.g82c6ffe
2013-07-15 14:09:07 Searching for oslo.config==1.1.1
2013-07-15 14:09:07 Best match: oslo.config 1.1.1
2013-07-15 14:09:07 oslo.config 1.1.1 is already the active version in easy-install.pth
2013-07-15 14:09:07 
2013-07-15 14:09:07 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:07 Searching for python-swiftclient==1.5.0.7.g07d13b5
2013-07-15 14:09:07 Best match: python-swiftclient 1.5.0.7.g07d13b5
2013-07-15 14:09:07 python-swiftclient 1.5.0.7.g07d13b5 is already the active version in easy-install.pth
2013-07-15 14:09:07 
2013-07-15 14:09:07 Using /opt/stack/python-swiftclient
2013-07-15 14:09:07 Searching for python-keystoneclient==0.3.1.11.gf2ad113
2013-07-15 14:09:07 Best match: python-keystoneclient 0.3.1.11.gf2ad113
2013-07-15 14:09:07 Removing python-keystoneclient 0.2.5 from easy-install.pth file
2013-07-15 14:09:07 python-keystoneclient 0.3.1.11.gf2ad113 is already the active version in easy-install.pth
2013-07-15 14:09:07 Installing keystone script to /usr/local/bin
2013-07-15 14:09:07 
2013-07-15 14:09:07 Using /opt/stack/python-keystoneclient
2013-07-15 14:09:07 Searching for python-glanceclient==0.9.0.48.g8427208
2013-07-15 14:09:07 Best match: python-glanceclient 0.9.0.48.g8427208
2013-07-15 14:09:07 python-glanceclient 0.9.0.48.g8427208 is already the active version in easy-install.pth
2013-07-15 14:09:07 Installing glance script to /usr/local/bin
2013-07-15 14:09:07 
2013-07-15 14:09:07 Using /opt/stack/python-glanceclient
2013-07-15 14:09:07 Searching for setuptools-git==1.0
2013-07-15 14:09:07 Best match: setuptools-git 1.0
2013-07-15 14:09:07 Processing setuptools_git-1.0-py2.7.egg
2013-07-15 14:09:07 Removing setuptools-git 1.0 from easy-install.pth file
2013-07-15 14:09:07 setuptools-git 1.0 is already the active version in easy-install.pth
2013-07-15 14:09:07 
2013-07-15 14:09:07 Using /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg
2013-07-15 14:09:07 Searching for iso8601==0.1.4
2013-07-15 14:09:07 Best match: iso8601 0.1.4
2013-07-15 14:09:07 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for Babel==0.9.6
2013-07-15 14:09:08 Best match: Babel 0.9.6
2013-07-15 14:09:08 Adding Babel 0.9.6 to easy-install.pth file
2013-07-15 14:09:08 Installing pybabel script to /usr/local/bin
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for paramiko==1.7.7.1
2013-07-15 14:09:08 Best match: paramiko 1.7.7.1
2013-07-15 14:09:08 Adding paramiko 1.7.7.1 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for suds==0.4.1
2013-07-15 14:09:08 Best match: suds 0.4.1
2013-07-15 14:09:08 Adding suds 0.4.1 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for stevedore==0.10
2013-07-15 14:09:08 Best match: stevedore 0.10
2013-07-15 14:09:08 stevedore 0.10 is already the active version in easy-install.pth
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for sqlalchemy-migrate==0.7.2
2013-07-15 14:09:08 Best match: sqlalchemy-migrate 0.7.2
2013-07-15 14:09:08 Adding sqlalchemy-migrate 0.7.2 to easy-install.pth file
2013-07-15 14:09:08 Installing migrate script to /usr/local/bin
2013-07-15 14:09:08 Installing migrate-repository script to /usr/local/bin
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for Paste==1.7.5.1
2013-07-15 14:09:08 Best match: Paste 1.7.5.1
2013-07-15 14:09:08 Adding Paste 1.7.5.1 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for PasteDeploy==1.5.0
2013-07-15 14:09:08 Best match: PasteDeploy 1.5.0
2013-07-15 14:09:08 Adding PasteDeploy 1.5.0 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for greenlet==0.3.1
2013-07-15 14:09:08 Best match: greenlet 0.3.1
2013-07-15 14:09:08 Adding greenlet 0.3.1 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for wsgiref==0.1.2
2013-07-15 14:09:08 Best match: wsgiref 0.1.2
2013-07-15 14:09:08 wsgiref 0.1.2 is already the active version in easy-install.pth
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7
2013-07-15 14:09:08 Searching for WebOb==1.2.3
2013-07-15 14:09:08 Best match: WebOb 1.2.3
2013-07-15 14:09:08 WebOb 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for Routes==1.12.3
2013-07-15 14:09:08 Best match: Routes 1.12.3
2013-07-15 14:09:08 Adding Routes 1.12.3 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for lxml==2.3.2
2013-07-15 14:09:08 Best match: lxml 2.3.2
2013-07-15 14:09:08 Adding lxml 2.3.2 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for lockfile==0.8
2013-07-15 14:09:08 Best match: lockfile 0.8
2013-07-15 14:09:08 Adding lockfile 0.8 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for kombu==1.4.3
2013-07-15 14:09:08 Best match: kombu 1.4.3
2013-07-15 14:09:08 Adding kombu 1.4.3 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for eventlet==0.13.0
2013-07-15 14:09:08 Best match: eventlet 0.13.0
2013-07-15 14:09:08 eventlet 0.13.0 is already the active version in easy-install.pth
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for anyjson==0.3.1
2013-07-15 14:09:08 Best match: anyjson 0.3.1
2013-07-15 14:09:08 Adding anyjson 0.3.1 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for amqplib==1.0.0
2013-07-15 14:09:08 Best match: amqplib 1.0.0
2013-07-15 14:09:08 Adding amqplib 1.0.0 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for SQLAlchemy==0.7.9
2013-07-15 14:09:08 Best match: SQLAlchemy 0.7.9
2013-07-15 14:09:08 SQLAlchemy 0.7.9 is already the active version in easy-install.pth
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for simplejson==2.3.2
2013-07-15 14:09:08 Best match: simplejson 2.3.2
2013-07-15 14:09:08 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for pbr==0.5.18
2013-07-15 14:09:08 Best match: pbr 0.5.18
2013-07-15 14:09:08 Processing pbr-0.5.18-py2.7.egg
2013-07-15 14:09:08 Removing pbr 0.5.18 from easy-install.pth file
2013-07-15 14:09:08 pbr 0.5.18 is already the active version in easy-install.pth
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg
2013-07-15 14:09:08 Searching for d2to1==0.2.10
2013-07-15 14:09:08 Best match: d2to1 0.2.10
2013-07-15 14:09:08 Processing d2to1-0.2.10-py2.7.egg
2013-07-15 14:09:08 Removing d2to1 0.2.10 from easy-install.pth file
2013-07-15 14:09:08 d2to1 0.2.10 is already the active version in easy-install.pth
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg
2013-07-15 14:09:08 Searching for six==1.3.0
2013-07-15 14:09:08 Best match: six 1.3.0
2013-07-15 14:09:08 Adding six 1.3.0 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for requests==1.2.3
2013-07-15 14:09:08 Best match: requests 1.2.3
2013-07-15 14:09:08 requests 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for prettytable==0.7.2
2013-07-15 14:09:08 Best match: prettytable 0.7.2
2013-07-15 14:09:08 prettytable 0.7.2 is already the active version in easy-install.pth
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for warlock==1.0.1
2013-07-15 14:09:08 Best match: warlock 1.0.1
2013-07-15 14:09:08 warlock 1.0.1 is already the active version in easy-install.pth
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for pyOpenSSL==0.12
2013-07-15 14:09:08 Best match: pyOpenSSL 0.12
2013-07-15 14:09:08 Adding pyOpenSSL 0.12 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for Tempita==0.5.1
2013-07-15 14:09:08 Best match: Tempita 0.5.1
2013-07-15 14:09:08 Adding Tempita 0.5.1 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for decorator==3.3.2
2013-07-15 14:09:08 Best match: decorator 3.3.2
2013-07-15 14:09:08 Adding decorator 3.3.2 to easy-install.pth file
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for distribute==0.6.24dev-r0
2013-07-15 14:09:08 Best match: distribute 0.6.24dev-r0
2013-07-15 14:09:08 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-15 14:09:08 Installing easy_install script to /usr/local/bin
2013-07-15 14:09:08 Installing easy_install-2.7 script to /usr/local/bin
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for jsonpatch==1.1
2013-07-15 14:09:08 Best match: jsonpatch 1.1
2013-07-15 14:09:08 jsonpatch 1.1 is already the active version in easy-install.pth
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for jsonschema==2.0.0
2013-07-15 14:09:08 Best match: jsonschema 2.0.0
2013-07-15 14:09:08 jsonschema 2.0.0 is already the active version in easy-install.pth
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:08 Searching for jsonpointer==1.0
2013-07-15 14:09:08 Best match: jsonpointer 1.0
2013-07-15 14:09:08 jsonpointer 1.0 is already the active version in easy-install.pth
2013-07-15 14:09:08 
2013-07-15 14:09:08 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:08 Finished processing dependencies for cinder==2013.1.3.a17.g82c6ffe
2013-07-15 14:09:08 + configure_cinder
2013-07-15 14:09:08 + [[ ! -d /etc/cinder ]]
2013-07-15 14:09:08 + sudo chown ubuntu /etc/cinder
2013-07-15 14:09:08 + cp -p /opt/stack/cinder/etc/cinder/policy.json /etc/cinder
2013-07-15 14:09:08 ++ get_rootwrap_location cinder
2013-07-15 14:09:08 ++ local module=cinder
2013-07-15 14:09:08 +++ get_python_exec_prefix
2013-07-15 14:09:08 +++ is_fedora
2013-07-15 14:09:08 +++ [[ -z Ubuntu ]]
2013-07-15 14:09:08 +++ '[' Ubuntu = Fedora ']'
2013-07-15 14:09:08 +++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:09:08 +++ '[' Ubuntu = CentOS ']'
2013-07-15 14:09:08 +++ echo /usr/local/bin
2013-07-15 14:09:08 ++ echo /usr/local/bin/cinder-rootwrap
2013-07-15 14:09:08 + CINDER_ROOTWRAP=/usr/local/bin/cinder-rootwrap
2013-07-15 14:09:08 + ROOTWRAP_CINDER_SUDOER_CMD=/usr/local/bin/cinder-rootwrap
2013-07-15 14:09:08 + [[ -d /opt/stack/cinder/etc/cinder/rootwrap.d ]]
2013-07-15 14:09:09 + [[ -d /etc/cinder/rootwrap.d ]]
2013-07-15 14:09:09 + sudo rm -rf /etc/cinder/rootwrap.d
2013-07-15 14:09:09 + sudo mkdir -m 755 /etc/cinder/rootwrap.d
2013-07-15 14:09:09 + sudo cp /opt/stack/cinder/etc/cinder/rootwrap.d/volume.filters /etc/cinder/rootwrap.d
2013-07-15 14:09:09 + sudo chown -R root:root /etc/cinder/rootwrap.d
2013-07-15 14:09:09 + sudo chmod 644 /etc/cinder/rootwrap.d/volume.filters
2013-07-15 14:09:09 + sudo cp /opt/stack/cinder/etc/cinder/rootwrap.conf /etc/cinder/
2013-07-15 14:09:09 + sudo sed -e 's:^filters_path=.*$:filters_path=/etc/cinder/rootwrap.d:' -i /etc/cinder/rootwrap.conf
2013-07-15 14:09:09 + sudo chown root:root /etc/cinder/rootwrap.conf
2013-07-15 14:09:09 + sudo chmod 0644 /etc/cinder/rootwrap.conf
2013-07-15 14:09:09 + CINDER_ROOTWRAP='/usr/local/bin/cinder-rootwrap /etc/cinder/rootwrap.conf'
2013-07-15 14:09:09 + ROOTWRAP_CINDER_SUDOER_CMD='/usr/local/bin/cinder-rootwrap /etc/cinder/rootwrap.conf *'
2013-07-15 14:09:09 ++ mktemp
2013-07-15 14:09:09 + TEMPFILE=/tmp/tmp.o9a4zuR4UU
2013-07-15 14:09:09 + echo 'ubuntu ALL=(root) NOPASSWD: /usr/local/bin/cinder-rootwrap /etc/cinder/rootwrap.conf *'
2013-07-15 14:09:09 + chmod 0440 /tmp/tmp.o9a4zuR4UU
2013-07-15 14:09:09 + sudo chown root:root /tmp/tmp.o9a4zuR4UU
2013-07-15 14:09:09 + sudo mv /tmp/tmp.o9a4zuR4UU /etc/sudoers.d/cinder-rootwrap
2013-07-15 14:09:09 + cp /opt/stack/cinder/etc/cinder/api-paste.ini /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + iniset /etc/cinder/api-paste.ini filter:authtoken auth_host 54.248.87.124
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=auth_host
2013-07-15 14:09:09 + local value=54.248.87.124
2013-07-15 14:09:09 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken auth_host
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=auth_host
2013-07-15 14:09:09 + local line
2013-07-15 14:09:09 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^auth_host[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + line='auth_host = 127.0.0.1'
2013-07-15 14:09:09 + '[' -n 'auth_host = 127.0.0.1' ']'
2013-07-15 14:09:09 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(auth_host[ \t]*=[ \t]*\).*$|\154.248.87.124|' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + iniset /etc/cinder/api-paste.ini filter:authtoken auth_port 35357
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=auth_port
2013-07-15 14:09:09 + local value=35357
2013-07-15 14:09:09 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken auth_port
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=auth_port
2013-07-15 14:09:09 + local line
2013-07-15 14:09:09 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^auth_port[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + line='auth_port = 35357'
2013-07-15 14:09:09 + '[' -n 'auth_port = 35357' ']'
2013-07-15 14:09:09 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(auth_port[ \t]*=[ \t]*\).*$|\135357|' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + iniset /etc/cinder/api-paste.ini filter:authtoken auth_protocol http
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=auth_protocol
2013-07-15 14:09:09 + local value=http
2013-07-15 14:09:09 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken auth_protocol
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=auth_protocol
2013-07-15 14:09:09 + local line
2013-07-15 14:09:09 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^auth_protocol[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + line='auth_protocol = http'
2013-07-15 14:09:09 + '[' -n 'auth_protocol = http' ']'
2013-07-15 14:09:09 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(auth_protocol[ \t]*=[ \t]*\).*$|\1http|' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + iniset /etc/cinder/api-paste.ini filter:authtoken admin_tenant_name service
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=admin_tenant_name
2013-07-15 14:09:09 + local value=service
2013-07-15 14:09:09 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken admin_tenant_name
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=admin_tenant_name
2013-07-15 14:09:09 + local line
2013-07-15 14:09:09 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_tenant_name[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + line='admin_tenant_name = %SERVICE_TENANT_NAME%'
2013-07-15 14:09:09 + '[' -n 'admin_tenant_name = %SERVICE_TENANT_NAME%' ']'
2013-07-15 14:09:09 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_tenant_name[ \t]*=[ \t]*\).*$|\1service|' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + iniset /etc/cinder/api-paste.ini filter:authtoken admin_user cinder
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=admin_user
2013-07-15 14:09:09 + local value=cinder
2013-07-15 14:09:09 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken admin_user
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=admin_user
2013-07-15 14:09:09 + local line
2013-07-15 14:09:09 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_user[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + line='admin_user = %SERVICE_USER%'
2013-07-15 14:09:09 + '[' -n 'admin_user = %SERVICE_USER%' ']'
2013-07-15 14:09:09 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_user[ \t]*=[ \t]*\).*$|\1cinder|' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + iniset /etc/cinder/api-paste.ini filter:authtoken admin_password admin
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=admin_password
2013-07-15 14:09:09 + local value=admin
2013-07-15 14:09:09 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken admin_password
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=admin_password
2013-07-15 14:09:09 + local line
2013-07-15 14:09:09 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + line='admin_password = %SERVICE_PASSWORD%'
2013-07-15 14:09:09 + '[' -n 'admin_password = %SERVICE_PASSWORD%' ']'
2013-07-15 14:09:09 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_password[ \t]*=[ \t]*\).*$|\1admin|' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + iniset /etc/cinder/api-paste.ini filter:authtoken signing_dir /var/cache/cinder
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=signing_dir
2013-07-15 14:09:09 + local value=/var/cache/cinder
2013-07-15 14:09:09 + grep -q '^\[filter:authtoken\]' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + ini_has_option /etc/cinder/api-paste.ini filter:authtoken signing_dir
2013-07-15 14:09:09 + local file=/etc/cinder/api-paste.ini
2013-07-15 14:09:09 + local section=filter:authtoken
2013-07-15 14:09:09 + local option=signing_dir
2013-07-15 14:09:09 + local line
2013-07-15 14:09:09 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^signing_dir[ \t]*=/ p; }' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + line='signing_dir = /var/lib/cinder'
2013-07-15 14:09:09 + '[' -n 'signing_dir = /var/lib/cinder' ']'
2013-07-15 14:09:09 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(signing_dir[ \t]*=[ \t]*\).*$|\1/var/cache/cinder|' /etc/cinder/api-paste.ini
2013-07-15 14:09:09 + cp /opt/stack/cinder/etc/cinder/cinder.conf.sample /etc/cinder/cinder.conf
2013-07-15 14:09:09 + iniset /etc/cinder/cinder.conf DEFAULT auth_strategy keystone
2013-07-15 14:09:09 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:09 + local section=DEFAULT
2013-07-15 14:09:09 + local option=auth_strategy
2013-07-15 14:09:09 + local value=keystone
2013-07-15 14:09:09 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:09 + ini_has_option /etc/cinder/cinder.conf DEFAULT auth_strategy
2013-07-15 14:09:09 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:09 + local section=DEFAULT
2013-07-15 14:09:09 + local option=auth_strategy
2013-07-15 14:09:09 + local line
2013-07-15 14:09:09 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^auth_strategy[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:09 + line=
2013-07-15 14:09:09 + '[' -n '' ']'
2013-07-15 14:09:09 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:09 auth_strategy = keystone
2013-07-15 14:09:09 ' /etc/cinder/cinder.conf
2013-07-15 14:09:09 + iniset /etc/cinder/cinder.conf DEFAULT debug True
2013-07-15 14:09:09 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:09 + local section=DEFAULT
2013-07-15 14:09:09 + local option=debug
2013-07-15 14:09:09 + local value=True
2013-07-15 14:09:09 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:09 + ini_has_option /etc/cinder/cinder.conf DEFAULT debug
2013-07-15 14:09:09 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:09 + local section=DEFAULT
2013-07-15 14:09:09 + local option=debug
2013-07-15 14:09:09 + local line
2013-07-15 14:09:09 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^debug[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:09 + line=
2013-07-15 14:09:09 + '[' -n '' ']'
2013-07-15 14:09:09 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:09 debug = True
2013-07-15 14:09:09 ' /etc/cinder/cinder.conf
2013-07-15 14:09:09 + iniset /etc/cinder/cinder.conf DEFAULT verbose True
2013-07-15 14:09:09 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:09 + local section=DEFAULT
2013-07-15 14:09:09 + local option=verbose
2013-07-15 14:09:09 + local value=True
2013-07-15 14:09:09 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:09 + ini_has_option /etc/cinder/cinder.conf DEFAULT verbose
2013-07-15 14:09:09 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:09 + local section=DEFAULT
2013-07-15 14:09:09 + local option=verbose
2013-07-15 14:09:09 + local line
2013-07-15 14:09:09 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^verbose[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:09 + line=
2013-07-15 14:09:10 + '[' -n '' ']'
2013-07-15 14:09:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:10 verbose = True
2013-07-15 14:09:10 ' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + '[' False = True ']'
2013-07-15 14:09:10 + iniset /etc/cinder/cinder.conf DEFAULT volume_group stack-volumes
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=volume_group
2013-07-15 14:09:10 + local value=stack-volumes
2013-07-15 14:09:10 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + ini_has_option /etc/cinder/cinder.conf DEFAULT volume_group
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=volume_group
2013-07-15 14:09:10 + local line
2013-07-15 14:09:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^volume_group[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + line=
2013-07-15 14:09:10 + '[' -n '' ']'
2013-07-15 14:09:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:10 volume_group = stack-volumes
2013-07-15 14:09:10 ' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + iniset /etc/cinder/cinder.conf DEFAULT volume_name_template volume-%s
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=volume_name_template
2013-07-15 14:09:10 + local value=volume-%s
2013-07-15 14:09:10 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + ini_has_option /etc/cinder/cinder.conf DEFAULT volume_name_template
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=volume_name_template
2013-07-15 14:09:10 + local line
2013-07-15 14:09:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^volume_name_template[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + line=
2013-07-15 14:09:10 + '[' -n '' ']'
2013-07-15 14:09:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:10 volume_name_template = volume-%s
2013-07-15 14:09:10 ' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + iniset /etc/cinder/cinder.conf DEFAULT iscsi_helper tgtadm
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=iscsi_helper
2013-07-15 14:09:10 + local value=tgtadm
2013-07-15 14:09:10 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + ini_has_option /etc/cinder/cinder.conf DEFAULT iscsi_helper
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=iscsi_helper
2013-07-15 14:09:10 + local line
2013-07-15 14:09:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^iscsi_helper[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + line=
2013-07-15 14:09:10 + '[' -n '' ']'
2013-07-15 14:09:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:10 iscsi_helper = tgtadm
2013-07-15 14:09:10 ' /etc/cinder/cinder.conf
2013-07-15 14:09:10 ++ database_connection_url cinder
2013-07-15 14:09:10 ++ local var=cinder
2013-07-15 14:09:10 ++ local db=
2013-07-15 14:09:10 ++ database_connection_url_mysql cinder
2013-07-15 14:09:10 ++ local db=cinder
2013-07-15 14:09:10 ++ echo 'mysql://root:admin@localhost/cinder?charset=utf8'
2013-07-15 14:09:10 + iniset /etc/cinder/cinder.conf DEFAULT sql_connection 'mysql://root:admin@localhost/cinder?charset=utf8'
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=sql_connection
2013-07-15 14:09:10 + local 'value=mysql://root:admin@localhost/cinder?charset=utf8'
2013-07-15 14:09:10 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + ini_has_option /etc/cinder/cinder.conf DEFAULT sql_connection
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=sql_connection
2013-07-15 14:09:10 + local line
2013-07-15 14:09:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^sql_connection[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + line=
2013-07-15 14:09:10 + '[' -n '' ']'
2013-07-15 14:09:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:10 sql_connection = mysql://root:admin@localhost/cinder?charset=utf8
2013-07-15 14:09:10 ' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + iniset /etc/cinder/cinder.conf DEFAULT api_paste_config /etc/cinder/api-paste.ini
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=api_paste_config
2013-07-15 14:09:10 + local value=/etc/cinder/api-paste.ini
2013-07-15 14:09:10 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + ini_has_option /etc/cinder/cinder.conf DEFAULT api_paste_config
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=api_paste_config
2013-07-15 14:09:10 + local line
2013-07-15 14:09:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^api_paste_config[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + line=
2013-07-15 14:09:10 + '[' -n '' ']'
2013-07-15 14:09:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:10 api_paste_config = /etc/cinder/api-paste.ini
2013-07-15 14:09:10 ' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + iniset /etc/cinder/cinder.conf DEFAULT rootwrap_config /etc/cinder/rootwrap.conf
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=rootwrap_config
2013-07-15 14:09:10 + local value=/etc/cinder/rootwrap.conf
2013-07-15 14:09:10 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + ini_has_option /etc/cinder/cinder.conf DEFAULT rootwrap_config
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=rootwrap_config
2013-07-15 14:09:10 + local line
2013-07-15 14:09:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rootwrap_config[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + line=
2013-07-15 14:09:10 + '[' -n '' ']'
2013-07-15 14:09:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:10 rootwrap_config = /etc/cinder/rootwrap.conf
2013-07-15 14:09:10 ' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + iniset /etc/cinder/cinder.conf DEFAULT osapi_volume_extension cinder.api.contrib.standard_extensions
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=osapi_volume_extension
2013-07-15 14:09:10 + local value=cinder.api.contrib.standard_extensions
2013-07-15 14:09:10 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + ini_has_option /etc/cinder/cinder.conf DEFAULT osapi_volume_extension
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=osapi_volume_extension
2013-07-15 14:09:10 + local line
2013-07-15 14:09:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^osapi_volume_extension[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + line=
2013-07-15 14:09:10 + '[' -n '' ']'
2013-07-15 14:09:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:10 osapi_volume_extension = cinder.api.contrib.standard_extensions
2013-07-15 14:09:10 ' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + iniset /etc/cinder/cinder.conf DEFAULT state_path /opt/stack/data/cinder
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=state_path
2013-07-15 14:09:10 + local value=/opt/stack/data/cinder
2013-07-15 14:09:10 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + ini_has_option /etc/cinder/cinder.conf DEFAULT state_path
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=state_path
2013-07-15 14:09:10 + local line
2013-07-15 14:09:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^state_path[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + line=
2013-07-15 14:09:10 + '[' -n '' ']'
2013-07-15 14:09:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:10 state_path = /opt/stack/data/cinder
2013-07-15 14:09:10 ' /etc/cinder/cinder.conf
2013-07-15 14:09:10 + is_service_enabled tls-proxy
2013-07-15 14:09:10 + services=tls-proxy
2013-07-15 14:09:10 + for service in '${services}'
2013-07-15 14:09:10 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-15 14:09:10 + [[ tls-proxy == \n\o\v\a ]]
2013-07-15 14:09:10 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:09:10 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:10 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:09:10 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:10 + [[ tls-proxy == \s\w\i\f\t ]]
2013-07-15 14:09:10 + [[ tls-proxy == s-* ]]
2013-07-15 14:09:10 + return 1
2013-07-15 14:09:10 + '[' True '!=' False ']'
2013-07-15 14:09:10 + iniset /etc/cinder/cinder.conf DEFAULT use_syslog True
2013-07-15 14:09:10 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:10 + local section=DEFAULT
2013-07-15 14:09:10 + local option=use_syslog
2013-07-15 14:09:10 + local value=True
2013-07-15 14:09:11 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:11 + ini_has_option /etc/cinder/cinder.conf DEFAULT use_syslog
2013-07-15 14:09:11 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:11 + local section=DEFAULT
2013-07-15 14:09:11 + local option=use_syslog
2013-07-15 14:09:11 + local line
2013-07-15 14:09:11 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^use_syslog[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:11 + line=
2013-07-15 14:09:11 + '[' -n '' ']'
2013-07-15 14:09:11 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:11 use_syslog = True
2013-07-15 14:09:11 ' /etc/cinder/cinder.conf
2013-07-15 14:09:11 + iniset_rpc_backend cinder /etc/cinder/cinder.conf DEFAULT
2013-07-15 14:09:11 + local package=cinder
2013-07-15 14:09:11 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:11 + local section=DEFAULT
2013-07-15 14:09:11 + is_service_enabled zeromq
2013-07-15 14:09:11 + services=zeromq
2013-07-15 14:09:11 + for service in '${services}'
2013-07-15 14:09:11 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,zeromq, ]]
2013-07-15 14:09:11 + [[ zeromq == \n\o\v\a ]]
2013-07-15 14:09:11 + [[ zeromq == \c\i\n\d\e\r ]]
2013-07-15 14:09:11 + [[ zeromq == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:11 + [[ zeromq == \g\l\a\n\c\e ]]
2013-07-15 14:09:11 + [[ zeromq == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:11 + [[ zeromq == \s\w\i\f\t ]]
2013-07-15 14:09:11 + [[ zeromq == s-* ]]
2013-07-15 14:09:11 + return 1
2013-07-15 14:09:11 + is_service_enabled qpid
2013-07-15 14:09:11 + services=qpid
2013-07-15 14:09:11 + for service in '${services}'
2013-07-15 14:09:11 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,qpid, ]]
2013-07-15 14:09:11 + [[ qpid == \n\o\v\a ]]
2013-07-15 14:09:11 + [[ qpid == \c\i\n\d\e\r ]]
2013-07-15 14:09:11 + [[ qpid == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:11 + [[ qpid == \g\l\a\n\c\e ]]
2013-07-15 14:09:11 + [[ qpid == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:11 + [[ qpid == \s\w\i\f\t ]]
2013-07-15 14:09:11 + [[ qpid == s-* ]]
2013-07-15 14:09:11 + return 1
2013-07-15 14:09:11 + is_service_enabled rabbit
2013-07-15 14:09:11 + services=rabbit
2013-07-15 14:09:11 + for service in '${services}'
2013-07-15 14:09:11 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,rabbit, ]]
2013-07-15 14:09:11 + return 0
2013-07-15 14:09:11 + iniset /etc/cinder/cinder.conf DEFAULT rpc_backend cinder.openstack.common.rpc.impl_kombu
2013-07-15 14:09:11 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:11 + local section=DEFAULT
2013-07-15 14:09:11 + local option=rpc_backend
2013-07-15 14:09:11 + local value=cinder.openstack.common.rpc.impl_kombu
2013-07-15 14:09:11 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:11 + ini_has_option /etc/cinder/cinder.conf DEFAULT rpc_backend
2013-07-15 14:09:11 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:11 + local section=DEFAULT
2013-07-15 14:09:11 + local option=rpc_backend
2013-07-15 14:09:11 + local line
2013-07-15 14:09:11 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rpc_backend[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:11 + line=
2013-07-15 14:09:11 + '[' -n '' ']'
2013-07-15 14:09:11 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:11 rpc_backend = cinder.openstack.common.rpc.impl_kombu
2013-07-15 14:09:11 ' /etc/cinder/cinder.conf
2013-07-15 14:09:11 + iniset /etc/cinder/cinder.conf DEFAULT rabbit_host localhost
2013-07-15 14:09:11 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:11 + local section=DEFAULT
2013-07-15 14:09:11 + local option=rabbit_host
2013-07-15 14:09:11 + local value=localhost
2013-07-15 14:09:11 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:11 + ini_has_option /etc/cinder/cinder.conf DEFAULT rabbit_host
2013-07-15 14:09:11 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:11 + local section=DEFAULT
2013-07-15 14:09:11 + local option=rabbit_host
2013-07-15 14:09:11 + local line
2013-07-15 14:09:11 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rabbit_host[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:11 + line=
2013-07-15 14:09:11 + '[' -n '' ']'
2013-07-15 14:09:11 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:11 rabbit_host = localhost
2013-07-15 14:09:11 ' /etc/cinder/cinder.conf
2013-07-15 14:09:11 + iniset /etc/cinder/cinder.conf DEFAULT rabbit_password admin
2013-07-15 14:09:11 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:11 + local section=DEFAULT
2013-07-15 14:09:11 + local option=rabbit_password
2013-07-15 14:09:11 + local value=admin
2013-07-15 14:09:11 + grep -q '^\[DEFAULT\]' /etc/cinder/cinder.conf
2013-07-15 14:09:11 + ini_has_option /etc/cinder/cinder.conf DEFAULT rabbit_password
2013-07-15 14:09:11 + local file=/etc/cinder/cinder.conf
2013-07-15 14:09:11 + local section=DEFAULT
2013-07-15 14:09:11 + local option=rabbit_password
2013-07-15 14:09:11 + local line
2013-07-15 14:09:11 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rabbit_password[ \t]*=/ p; }' /etc/cinder/cinder.conf
2013-07-15 14:09:11 + line=
2013-07-15 14:09:11 + '[' -n '' ']'
2013-07-15 14:09:11 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:09:11 rabbit_password = admin
2013-07-15 14:09:11 ' /etc/cinder/cinder.conf
2013-07-15 14:09:11 + [[ True == \F\a\l\s\e ]]
2013-07-15 14:09:11 + '[' True == True ']'
2013-07-15 14:09:11 + '[' True == False ']'
2013-07-15 14:09:11 + '[' default == XenAPINFS ']'
2013-07-15 14:09:11 + '[' default == sheepdog ']'
2013-07-15 14:09:11 + is_service_enabled quantum
2013-07-15 14:09:11 + services=quantum
2013-07-15 14:09:11 + for service in '${services}'
2013-07-15 14:09:11 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-15 14:09:11 + [[ quantum == \n\o\v\a ]]
2013-07-15 14:09:11 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-15 14:09:11 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:11 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-15 14:09:11 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:11 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-15 14:09:11 + [[ quantum == \s\w\i\f\t ]]
2013-07-15 14:09:11 + [[ quantum == s-* ]]
2013-07-15 14:09:11 + return 1
2013-07-15 14:09:11 + is_service_enabled nova
2013-07-15 14:09:11 + services=nova
2013-07-15 14:09:11 + for service in '${services}'
2013-07-15 14:09:11 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-15 14:09:11 + [[ nova == \n\o\v\a ]]
2013-07-15 14:09:11 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-15 14:09:11 + return 0
2013-07-15 14:09:11 + install_nova
2013-07-15 14:09:11 + is_service_enabled n-cpu
2013-07-15 14:09:11 + services=n-cpu
2013-07-15 14:09:11 + for service in '${services}'
2013-07-15 14:09:11 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cpu, ]]
2013-07-15 14:09:11 + return 0
2013-07-15 14:09:11 + is_ubuntu
2013-07-15 14:09:11 + [[ -z deb ]]
2013-07-15 14:09:11 + '[' deb = deb ']'
2013-07-15 14:09:11 + install_package libvirt-bin
2013-07-15 14:09:11 + is_ubuntu
2013-07-15 14:09:11 + [[ -z deb ]]
2013-07-15 14:09:11 + '[' deb = deb ']'
2013-07-15 14:09:11 + [[ True = \T\r\u\e ]]
2013-07-15 14:09:12 + NO_UPDATE_REPOS=True
2013-07-15 14:09:12 + apt_get install libvirt-bin
2013-07-15 14:09:12 + [[ False = \T\r\u\e ]]
2013-07-15 14:09:12 + [[ -z install libvirt-bin ]]
2013-07-15 14:09:12 + local sudo=sudo
2013-07-15 14:09:12 ++ id -u
2013-07-15 14:09:12 + [[ 1000 = \0 ]]
2013-07-15 14:09:12 + sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install libvirt-bin
2013-07-15 14:09:12 Reading package lists...
2013-07-15 14:09:12 Building dependency tree...
2013-07-15 14:09:12 Reading state information...
2013-07-15 14:09:12 libvirt-bin is already the newest version.
2013-07-15 14:09:12 0 upgraded, 0 newly installed, 0 to remove and 40 not upgraded.
2013-07-15 14:09:12 + [[ kvm == \l\x\c ]]
2013-07-15 14:09:12 + git_clone https://github.com/shootstar/novatest /opt/stack/nova novatest
2013-07-15 14:09:12 + [[ False = \T\r\u\e ]]
2013-07-15 14:09:12 + GIT_REMOTE=https://github.com/shootstar/novatest
2013-07-15 14:09:12 + GIT_DEST=/opt/stack/nova
2013-07-15 14:09:12 + GIT_REF=novatest
2013-07-15 14:09:12 + echo novatest
2013-07-15 14:09:12 + egrep -q '^refs'
2013-07-15 14:09:12 + [[ ! -d /opt/stack/nova ]]
2013-07-15 14:09:12 + [[ '' == \y\e\s ]]
2013-07-15 14:09:12 + setup_develop /opt/stack/nova
2013-07-15 14:09:12 + [[ False = True ]]
2013-07-15 14:09:12 + SUDO_CMD=sudo
2013-07-15 14:09:12 + cd /opt/stack/nova
2013-07-15 14:09:12 + python setup.py egg_info
2013-07-15 14:09:12 running egg_info
2013-07-15 14:09:12 writing requirements to nova.egg-info/requires.txt
2013-07-15 14:09:12 writing nova.egg-info/PKG-INFO
2013-07-15 14:09:12 writing top-level names to nova.egg-info/top_level.txt
2013-07-15 14:09:12 writing dependency_links to nova.egg-info/dependency_links.txt
2013-07-15 14:09:12 reading manifest template 'MANIFEST.in'
2013-07-15 14:09:12 warning: no files found matching 'AUTHORS'
2013-07-15 14:09:12 warning: no files found matching 'ChangeLog'
2013-07-15 14:09:12 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-15 14:09:12 writing manifest file 'nova.egg-info/SOURCES.txt'
2013-07-15 14:09:12 ++ awk '/^.+/ {print "-f " $1}' nova.egg-info/dependency_links.txt
2013-07-15 14:09:12 + raw_links=
2013-07-15 14:09:12 ++ echo
2013-07-15 14:09:12 ++ xargs
2013-07-15 14:09:12 + depend_links=
2013-07-15 14:09:12 ++ '[' '!' -r nova.egg-info/requires.txt ']'
2013-07-15 14:09:12 ++ echo '-r *-info/requires.txt'
2013-07-15 14:09:12 + require_file='-r *-info/requires.txt'
2013-07-15 14:09:12 + pip_install -r nova.egg-info/requires.txt
2013-07-15 14:09:12 + [[ False = \T\r\u\e ]]
2013-07-15 14:09:12 + [[ -z -r nova.egg-info/requires.txt ]]
2013-07-15 14:09:12 + [[ -z deb ]]
2013-07-15 14:09:12 + [[ False = True ]]
2013-07-15 14:09:12 + SUDO_PIP=sudo
2013-07-15 14:09:12 ++ get_pip_command
2013-07-15 14:09:12 ++ is_fedora
2013-07-15 14:09:12 ++ [[ -z Ubuntu ]]
2013-07-15 14:09:12 ++ '[' Ubuntu = Fedora ']'
2013-07-15 14:09:12 ++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:09:12 ++ '[' Ubuntu = CentOS ']'
2013-07-15 14:09:12 ++ which pip
2013-07-15 14:09:12 + CMD_PIP=/usr/bin/pip
2013-07-15 14:09:12 + [[ '' != \F\a\l\s\e ]]
2013-07-15 14:09:12 + PIP_MIRROR_OPT=--use-mirrors
2013-07-15 14:09:12 + sudo PIP_DOWNLOAD_CACHE=/var/cache/pip HTTP_PROXY= HTTPS_PROXY= NO_PROXY= /usr/bin/pip install --use-mirrors -r nova.egg-info/requires.txt
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): SQLAlchemy>=0.7.8,<0.7.99 in /usr/local/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 1))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): Cheetah>=2.4.4 in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 2))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): amqplib>=0.6.1 in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 3))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): anyjson>=0.2.4 in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 4))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): boto in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 5))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): eventlet>=0.9.17 in /usr/local/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 6))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): kombu>=1.0.4 in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 7))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): lxml>=2.3 in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 8))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): routes>=1.12.3 in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 9))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): WebOb==1.2.3 in /usr/local/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 10))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): greenlet>=0.3.1 in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 11))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): PasteDeploy>=1.5.0 in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 12))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): paste in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 13))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): sqlalchemy-migrate>=0.7.2 in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 14))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): netaddr>=0.7.6 in /usr/local/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 15))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): suds>=0.4 in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 16))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): paramiko in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 17))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): pyasn1 in /usr/local/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 18))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): Babel>=0.9.6 in /usr/local/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 19))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): iso8601>=0.1.4 in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 20))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): httplib2 in /usr/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 21))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): setuptools-git>=0.4 in /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg (from -r nova.egg-info/requires.txt (line 22))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): python-cinderclient>=1.0.1 in /opt/stack/python-cinderclient (from -r nova.egg-info/requires.txt (line 23))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): python-quantumclient>=2.2.0,<3.0.0 in /usr/local/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 24))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): python-glanceclient>=0.5.0,<2 in /opt/stack/python-glanceclient (from -r nova.egg-info/requires.txt (line 25))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): python-keystoneclient>=0.2.0 in /opt/stack/python-keystoneclient (from -r nova.egg-info/requires.txt (line 26))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): stevedore>=0.7 in /usr/local/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 27))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): websockify<0.4 in /usr/local/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 28))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): oslo.config>=1.1.0 in /usr/local/lib/python2.7/dist-packages (from -r nova.egg-info/requires.txt (line 29))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): Markdown>=2.0.1 in /usr/local/lib/python2.7/dist-packages (from Cheetah>=2.4.4->-r nova.egg-info/requires.txt (line 2))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): decorator in /usr/lib/python2.7/dist-packages (from sqlalchemy-migrate>=0.7.2->-r nova.egg-info/requires.txt (line 14))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): Tempita>=0.4 in /usr/lib/python2.7/dist-packages (from sqlalchemy-migrate>=0.7.2->-r nova.egg-info/requires.txt (line 14))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): d2to1>=0.2.10,<0.3 in /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg (from python-cinderclient>=1.0.1->-r nova.egg-info/requires.txt (line 23))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): pbr>=0.5,<0.6 in /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg (from python-cinderclient>=1.0.1->-r nova.egg-info/requires.txt (line 23))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): prettytable>=0.6,<0.8 in /usr/local/lib/python2.7/dist-packages (from python-cinderclient>=1.0.1->-r nova.egg-info/requires.txt (line 23))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): requests>=0.8 in /usr/local/lib/python2.7/dist-packages (from python-cinderclient>=1.0.1->-r nova.egg-info/requires.txt (line 23))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): simplejson>=2.0.9 in /usr/lib/python2.7/dist-packages (from python-cinderclient>=1.0.1->-r nova.egg-info/requires.txt (line 23))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): six in /usr/local/lib/python2.7/dist-packages (from python-cinderclient>=1.0.1->-r nova.egg-info/requires.txt (line 23))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): cliff>=1.4 in /usr/local/lib/python2.7/dist-packages (from python-quantumclient>=2.2.0,<3.0.0->-r nova.egg-info/requires.txt (line 24))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): pyparsing>=1.5.6,<2.0 in /usr/local/lib/python2.7/dist-packages (from python-quantumclient>=2.2.0,<3.0.0->-r nova.egg-info/requires.txt (line 24))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): pyOpenSSL in /usr/lib/python2.7/dist-packages (from python-glanceclient>=0.5.0,<2->-r nova.egg-info/requires.txt (line 25))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): warlock>=0.7.0,<2 in /usr/local/lib/python2.7/dist-packages (from python-glanceclient>=0.5.0,<2->-r nova.egg-info/requires.txt (line 25))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): numpy in /usr/lib/python2.7/dist-packages (from websockify<0.4->-r nova.egg-info/requires.txt (line 28))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): distribute in /usr/lib/python2.7/dist-packages (from d2to1>=0.2.10,<0.3->python-cinderclient>=1.0.1->-r nova.egg-info/requires.txt (line 23))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): cmd2>=0.6.4 in /usr/local/lib/python2.7/dist-packages (from cliff>=1.4->python-quantumclient>=2.2.0,<3.0.0->-r nova.egg-info/requires.txt (line 24))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): jsonschema>=0.7,<3 in /usr/local/lib/python2.7/dist-packages (from warlock>=0.7.0,<2->python-glanceclient>=0.5.0,<2->-r nova.egg-info/requires.txt (line 25))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): jsonpatch>=0.10,<2 in /usr/local/lib/python2.7/dist-packages (from warlock>=0.7.0,<2->python-glanceclient>=0.5.0,<2->-r nova.egg-info/requires.txt (line 25))
2013-07-15 14:09:12 Requirement already satisfied (use --upgrade to upgrade): jsonpointer>=1.0 in /usr/local/lib/python2.7/dist-packages (from jsonpatch>=0.10,<2->warlock>=0.7.0,<2->python-glanceclient>=0.5.0,<2->-r nova.egg-info/requires.txt (line 25))
2013-07-15 14:09:12 Cleaning up...
2013-07-15 14:09:12 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-15 14:09:12 running develop
2013-07-15 14:09:12 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-15 14:09:12 /usr/bin/python -E -c pass
2013-07-15 14:09:12 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-15 14:09:12 running egg_info
2013-07-15 14:09:12 writing requirements to nova.egg-info/requires.txt
2013-07-15 14:09:12 writing nova.egg-info/PKG-INFO
2013-07-15 14:09:12 writing top-level names to nova.egg-info/top_level.txt
2013-07-15 14:09:12 writing dependency_links to nova.egg-info/dependency_links.txt
2013-07-15 14:09:12 reading manifest template 'MANIFEST.in'
2013-07-15 14:09:12 warning: no files found matching 'AUTHORS'
2013-07-15 14:09:12 warning: no files found matching 'ChangeLog'
2013-07-15 14:09:12 warning: no previously-included files matching '*.pyc' found anywhere in distribution
2013-07-15 14:09:12 writing manifest file 'nova.egg-info/SOURCES.txt'
2013-07-15 14:09:12 running build_ext
2013-07-15 14:09:12 Creating /usr/local/lib/python2.7/dist-packages/nova.egg-link (link to .)
2013-07-15 14:09:12 nova 2013.1.3.a38.g540e90f is already the active version in easy-install.pth
2013-07-15 14:09:12 Installing nova-all script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-api script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-api-ec2 script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-api-metadata script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-api-os-compute script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-baremetal-deploy-helper script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-baremetal-manage script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-rpc-zmq-receiver script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-cells script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-cert script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-clear-rabbit-queues script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-compute script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-conductor script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-console script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-consoleauth script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-dhcpbridge script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-manage script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-network script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-novncproxy script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-objectstore script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-rootwrap script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-scheduler script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-spicehtml5proxy script to /usr/local/bin
2013-07-15 14:09:12 Installing nova-xvpvncproxy script to /usr/local/bin
2013-07-15 14:09:12 
2013-07-15 14:09:12 Installed /opt/stack/nova
2013-07-15 14:09:12 Processing dependencies for nova==2013.1.3.a38.g540e90f
2013-07-15 14:09:12 Searching for oslo.config==1.1.1
2013-07-15 14:09:12 Best match: oslo.config 1.1.1
2013-07-15 14:09:12 oslo.config 1.1.1 is already the active version in easy-install.pth
2013-07-15 14:09:12 
2013-07-15 14:09:12 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:12 Searching for websockify==0.3.0
2013-07-15 14:09:12 Best match: websockify 0.3.0
2013-07-15 14:09:12 websockify 0.3.0 is already the active version in easy-install.pth
2013-07-15 14:09:12 Installing websockify script to /usr/local/bin
2013-07-15 14:09:12 
2013-07-15 14:09:12 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:12 Searching for stevedore==0.10
2013-07-15 14:09:12 Best match: stevedore 0.10
2013-07-15 14:09:12 stevedore 0.10 is already the active version in easy-install.pth
2013-07-15 14:09:12 
2013-07-15 14:09:12 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:12 Searching for python-keystoneclient==0.3.1.11.gf2ad113
2013-07-15 14:09:12 Best match: python-keystoneclient 0.3.1.11.gf2ad113
2013-07-15 14:09:12 Removing python-keystoneclient 0.2.5 from easy-install.pth file
2013-07-15 14:09:12 python-keystoneclient 0.3.1.11.gf2ad113 is already the active version in easy-install.pth
2013-07-15 14:09:12 Installing keystone script to /usr/local/bin
2013-07-15 14:09:12 
2013-07-15 14:09:12 Using /opt/stack/python-keystoneclient
2013-07-15 14:09:12 Searching for python-glanceclient==0.9.0.48.g8427208
2013-07-15 14:09:12 Best match: python-glanceclient 0.9.0.48.g8427208
2013-07-15 14:09:12 python-glanceclient 0.9.0.48.g8427208 is already the active version in easy-install.pth
2013-07-15 14:09:12 Installing glance script to /usr/local/bin
2013-07-15 14:09:12 
2013-07-15 14:09:12 Using /opt/stack/python-glanceclient
2013-07-15 14:09:12 Searching for python-quantumclient==2.2.3
2013-07-15 14:09:12 Best match: python-quantumclient 2.2.3
2013-07-15 14:09:12 Adding python-quantumclient 2.2.3 to easy-install.pth file
2013-07-15 14:09:12 Installing quantum script to /usr/local/bin
2013-07-15 14:09:12 
2013-07-15 14:09:12 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:12 Searching for python-cinderclient==1.0.4.61.gaef613f
2013-07-15 14:09:12 Best match: python-cinderclient 1.0.4.61.gaef613f
2013-07-15 14:09:12 python-cinderclient 1.0.4.61.gaef613f is already the active version in easy-install.pth
2013-07-15 14:09:12 Installing cinder script to /usr/local/bin
2013-07-15 14:09:12 
2013-07-15 14:09:12 Using /opt/stack/python-cinderclient
2013-07-15 14:09:12 Searching for setuptools-git==1.0
2013-07-15 14:09:12 Best match: setuptools-git 1.0
2013-07-15 14:09:12 Processing setuptools_git-1.0-py2.7.egg
2013-07-15 14:09:12 Removing setuptools-git 1.0 from easy-install.pth file
2013-07-15 14:09:13 setuptools-git 1.0 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg
2013-07-15 14:09:13 Searching for httplib2==0.7.2
2013-07-15 14:09:13 Best match: httplib2 0.7.2
2013-07-15 14:09:13 Adding httplib2 0.7.2 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for iso8601==0.1.4
2013-07-15 14:09:13 Best match: iso8601 0.1.4
2013-07-15 14:09:13 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for Babel==0.9.6
2013-07-15 14:09:13 Best match: Babel 0.9.6
2013-07-15 14:09:13 Adding Babel 0.9.6 to easy-install.pth file
2013-07-15 14:09:13 Installing pybabel script to /usr/local/bin
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for pyasn1==0.1.7
2013-07-15 14:09:13 Best match: pyasn1 0.1.7
2013-07-15 14:09:13 pyasn1 0.1.7 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for paramiko==1.7.7.1
2013-07-15 14:09:13 Best match: paramiko 1.7.7.1
2013-07-15 14:09:13 Adding paramiko 1.7.7.1 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for suds==0.4.1
2013-07-15 14:09:13 Best match: suds 0.4.1
2013-07-15 14:09:13 Adding suds 0.4.1 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for netaddr==0.7.10
2013-07-15 14:09:13 Best match: netaddr 0.7.10
2013-07-15 14:09:13 netaddr 0.7.10 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for sqlalchemy-migrate==0.7.2
2013-07-15 14:09:13 Best match: sqlalchemy-migrate 0.7.2
2013-07-15 14:09:13 Adding sqlalchemy-migrate 0.7.2 to easy-install.pth file
2013-07-15 14:09:13 Installing migrate script to /usr/local/bin
2013-07-15 14:09:13 Installing migrate-repository script to /usr/local/bin
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for Paste==1.7.5.1
2013-07-15 14:09:13 Best match: Paste 1.7.5.1
2013-07-15 14:09:13 Adding Paste 1.7.5.1 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for PasteDeploy==1.5.0
2013-07-15 14:09:13 Best match: PasteDeploy 1.5.0
2013-07-15 14:09:13 Adding PasteDeploy 1.5.0 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for greenlet==0.3.1
2013-07-15 14:09:13 Best match: greenlet 0.3.1
2013-07-15 14:09:13 Adding greenlet 0.3.1 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for WebOb==1.2.3
2013-07-15 14:09:13 Best match: WebOb 1.2.3
2013-07-15 14:09:13 WebOb 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for Routes==1.12.3
2013-07-15 14:09:13 Best match: Routes 1.12.3
2013-07-15 14:09:13 Adding Routes 1.12.3 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for lxml==2.3.2
2013-07-15 14:09:13 Best match: lxml 2.3.2
2013-07-15 14:09:13 Adding lxml 2.3.2 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for kombu==1.4.3
2013-07-15 14:09:13 Best match: kombu 1.4.3
2013-07-15 14:09:13 Adding kombu 1.4.3 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for eventlet==0.13.0
2013-07-15 14:09:13 Best match: eventlet 0.13.0
2013-07-15 14:09:13 eventlet 0.13.0 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for boto==2.2.2
2013-07-15 14:09:13 Best match: boto 2.2.2
2013-07-15 14:09:13 Adding boto 2.2.2 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for anyjson==0.3.1
2013-07-15 14:09:13 Best match: anyjson 0.3.1
2013-07-15 14:09:13 Adding anyjson 0.3.1 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for amqplib==1.0.0
2013-07-15 14:09:13 Best match: amqplib 1.0.0
2013-07-15 14:09:13 Adding amqplib 1.0.0 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for Cheetah==2.4.4
2013-07-15 14:09:13 Best match: Cheetah 2.4.4
2013-07-15 14:09:13 Adding Cheetah 2.4.4 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for SQLAlchemy==0.7.9
2013-07-15 14:09:13 Best match: SQLAlchemy 0.7.9
2013-07-15 14:09:13 SQLAlchemy 0.7.9 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for numpy==1.6.1
2013-07-15 14:09:13 Best match: numpy 1.6.1
2013-07-15 14:09:13 Adding numpy 1.6.1 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for six==1.3.0
2013-07-15 14:09:13 Best match: six 1.3.0
2013-07-15 14:09:13 six 1.3.0 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for simplejson==2.3.2
2013-07-15 14:09:13 Best match: simplejson 2.3.2
2013-07-15 14:09:13 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for requests==1.2.3
2013-07-15 14:09:13 Best match: requests 1.2.3
2013-07-15 14:09:13 requests 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for prettytable==0.7.2
2013-07-15 14:09:13 Best match: prettytable 0.7.2
2013-07-15 14:09:13 prettytable 0.7.2 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for pbr==0.5.18
2013-07-15 14:09:13 Best match: pbr 0.5.18
2013-07-15 14:09:13 Processing pbr-0.5.18-py2.7.egg
2013-07-15 14:09:13 Removing pbr 0.5.18 from easy-install.pth file
2013-07-15 14:09:13 pbr 0.5.18 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg
2013-07-15 14:09:13 Searching for d2to1==0.2.10
2013-07-15 14:09:13 Best match: d2to1 0.2.10
2013-07-15 14:09:13 Processing d2to1-0.2.10-py2.7.egg
2013-07-15 14:09:13 Removing d2to1 0.2.10 from easy-install.pth file
2013-07-15 14:09:13 d2to1 0.2.10 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg
2013-07-15 14:09:13 Searching for warlock==1.0.1
2013-07-15 14:09:13 Best match: warlock 1.0.1
2013-07-15 14:09:13 Adding warlock 1.0.1 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for pyOpenSSL==0.12
2013-07-15 14:09:13 Best match: pyOpenSSL 0.12
2013-07-15 14:09:13 Adding pyOpenSSL 0.12 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for pyparsing==1.5.7
2013-07-15 14:09:13 Best match: pyparsing 1.5.7
2013-07-15 14:09:13 pyparsing 1.5.7 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for cliff==1.4
2013-07-15 14:09:13 Best match: cliff 1.4
2013-07-15 14:09:13 cliff 1.4 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for Tempita==0.5.1
2013-07-15 14:09:13 Best match: Tempita 0.5.1
2013-07-15 14:09:13 Adding Tempita 0.5.1 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for decorator==3.3.2
2013-07-15 14:09:13 Best match: decorator 3.3.2
2013-07-15 14:09:13 Adding decorator 3.3.2 to easy-install.pth file
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for Markdown==2.3.1
2013-07-15 14:09:13 Best match: Markdown 2.3.1
2013-07-15 14:09:13 Markdown 2.3.1 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for distribute==0.6.24dev-r0
2013-07-15 14:09:13 Best match: distribute 0.6.24dev-r0
2013-07-15 14:09:13 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-15 14:09:13 Installing easy_install script to /usr/local/bin
2013-07-15 14:09:13 Installing easy_install-2.7 script to /usr/local/bin
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for jsonpatch==1.1
2013-07-15 14:09:13 Best match: jsonpatch 1.1
2013-07-15 14:09:13 jsonpatch 1.1 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for jsonschema==2.0.0
2013-07-15 14:09:13 Best match: jsonschema 2.0.0
2013-07-15 14:09:13 jsonschema 2.0.0 is already the active version in easy-install.pth
2013-07-15 14:09:13 
2013-07-15 14:09:13 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:13 Searching for cmd2==0.6.5.1
2013-07-15 14:09:14 Best match: cmd2 0.6.5.1
2013-07-15 14:09:14 cmd2 0.6.5.1 is already the active version in easy-install.pth
2013-07-15 14:09:14 
2013-07-15 14:09:14 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:14 Searching for jsonpointer==1.0
2013-07-15 14:09:14 Best match: jsonpointer 1.0
2013-07-15 14:09:14 jsonpointer 1.0 is already the active version in easy-install.pth
2013-07-15 14:09:14 
2013-07-15 14:09:14 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:14 Finished processing dependencies for nova==2013.1.3.a38.g540e90f
2013-07-15 14:09:14 + cleanup_nova
2013-07-15 14:09:14 + is_service_enabled n-cpu
2013-07-15 14:09:14 + services=n-cpu
2013-07-15 14:09:14 + for service in '${services}'
2013-07-15 14:09:14 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cpu, ]]
2013-07-15 14:09:14 + return 0
2013-07-15 14:09:14 + clean_iptables
2013-07-15 14:09:14 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-15 14:09:14 + sed s/-A/-D/g
2013-07-15 14:09:14 + grep '\-A'
2013-07-15 14:09:14 + grep nova
2013-07-15 14:09:14 + awk '{print "sudo iptables",$0}'
2013-07-15 14:09:14 + sudo iptables -S -v
2013-07-15 14:09:14 + bash
2013-07-15 14:09:14 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-15 14:09:14 + grep '\-A'
2013-07-15 14:09:14 + sed s/-A/-D/g
2013-07-15 14:09:14 + grep nova
2013-07-15 14:09:14 + awk '{print "sudo iptables -t nat",$0}'
2013-07-15 14:09:14 + bash
2013-07-15 14:09:14 + sudo iptables -S -v -t nat
2013-07-15 14:09:14 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-15 14:09:14 + grep '\-N'
2013-07-15 14:09:14 + bash
2013-07-15 14:09:14 + sed s/-N/-X/g
2013-07-15 14:09:14 + grep nova
2013-07-15 14:09:14 + awk '{print "sudo iptables",$0}'
2013-07-15 14:09:14 + sudo iptables -S -v
2013-07-15 14:09:14 + sudo iptables -S -v -t nat
2013-07-15 14:09:14 + sed s/-N/-X/g
2013-07-15 14:09:14 + bash
2013-07-15 14:09:14 + awk '{print "sudo iptables -t nat",$0}'
2013-07-15 14:09:14 + grep nova
2013-07-15 14:09:14 + grep '\-N'
2013-07-15 14:09:14 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-15 14:09:14 ++ grep instance-
2013-07-15 14:09:14 ++ sudo virsh list --all
2013-07-15 14:09:14 ++ sed 's/.*\(instance-[0-9a-fA-F]*\).*/\1/g'
2013-07-15 14:09:14 setlocale: No such file or directory
2013-07-15 14:09:14 + instances=
2013-07-15 14:09:14 + '[' '!' '' = '' ']'
2013-07-15 14:09:14 ++ grep volume-
2013-07-15 14:09:14 ++ sudo iscsiadm --mode node
2013-07-15 14:09:14 ++ cut -d ' ' -f2
2013-07-15 14:09:14 iscsiadm: no records found!
2013-07-15 14:09:14 + tgts=
2013-07-15 14:09:14 + sudo iscsiadm --mode node --op delete
2013-07-15 14:09:14 iscsiadm: no records found!
2013-07-15 14:09:14 + true
2013-07-15 14:09:14 + sudo rm -rf /opt/stack/data/nova/instances/15279298-fe62-4efe-bc3e-f421fb0575b1 /opt/stack/data/nova/instances/209246de-9a1c-421c-b809-9b2ed7cd294c /opt/stack/data/nova/instances/50387bcb-2595-4b76-b2a2-aed9a3007c00 /opt/stack/data/nova/instances/7cfd6c16-554f-4366-871a-d87ce679b17d /opt/stack/data/nova/instances/_base /opt/stack/data/nova/instances/locks
2013-07-15 14:09:14 + sudo rm -rf /opt/stack/data/nova /var/cache/nova
2013-07-15 14:09:14 + configure_nova
2013-07-15 14:09:14 + [[ ! -d /etc/nova ]]
2013-07-15 14:09:14 + sudo chown ubuntu /etc/nova
2013-07-15 14:09:14 + cp -p /opt/stack/nova/etc/nova/policy.json /etc/nova
2013-07-15 14:09:14 + configure_nova_rootwrap
2013-07-15 14:09:14 + [[ -d /etc/nova/rootwrap.d ]]
2013-07-15 14:09:14 + sudo rm -rf /etc/nova/rootwrap.d
2013-07-15 14:09:14 + sudo mkdir -m 755 /etc/nova/rootwrap.d
2013-07-15 14:09:14 + sudo cp /opt/stack/nova/etc/nova/rootwrap.d/api-metadata.filters /opt/stack/nova/etc/nova/rootwrap.d/baremetal-compute-ipmi.filters /opt/stack/nova/etc/nova/rootwrap.d/baremetal-deploy-helper.filters /opt/stack/nova/etc/nova/rootwrap.d/compute.filters /opt/stack/nova/etc/nova/rootwrap.d/network.filters /etc/nova/rootwrap.d
2013-07-15 14:09:14 + sudo chown -R root:root /etc/nova/rootwrap.d
2013-07-15 14:09:14 + sudo chmod 644 /etc/nova/rootwrap.d/api-metadata.filters /etc/nova/rootwrap.d/baremetal-compute-ipmi.filters /etc/nova/rootwrap.d/baremetal-deploy-helper.filters /etc/nova/rootwrap.d/compute.filters /etc/nova/rootwrap.d/network.filters
2013-07-15 14:09:14 + sudo cp /opt/stack/nova/etc/nova/rootwrap.conf /etc/nova/
2013-07-15 14:09:14 + sudo sed -e 's:^filters_path=.*$:filters_path=/etc/nova/rootwrap.d:' -i /etc/nova/rootwrap.conf
2013-07-15 14:09:14 + sudo chown root:root /etc/nova/rootwrap.conf
2013-07-15 14:09:14 + sudo chmod 0644 /etc/nova/rootwrap.conf
2013-07-15 14:09:14 + ROOTWRAP_SUDOER_CMD='/usr/local/bin/nova-rootwrap /etc/nova/rootwrap.conf *'
2013-07-15 14:09:14 ++ mktemp
2013-07-15 14:09:14 + TEMPFILE=/tmp/tmp.qpZJbcm70A
2013-07-15 14:09:14 + echo 'ubuntu ALL=(root) NOPASSWD: /usr/local/bin/nova-rootwrap /etc/nova/rootwrap.conf *'
2013-07-15 14:09:14 + chmod 0440 /tmp/tmp.qpZJbcm70A
2013-07-15 14:09:14 + sudo chown root:root /tmp/tmp.qpZJbcm70A
2013-07-15 14:09:14 + sudo mv /tmp/tmp.qpZJbcm70A /etc/sudoers.d/nova-rootwrap
2013-07-15 14:09:14 + is_service_enabled n-api
2013-07-15 14:09:14 + services=n-api
2013-07-15 14:09:14 + for service in '${services}'
2013-07-15 14:09:14 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-api, ]]
2013-07-15 14:09:14 + return 0
2013-07-15 14:09:14 + rm -f /opt/stack/nova/bin/nova-api-paste.ini
2013-07-15 14:09:14 + cp /opt/stack/nova/etc/nova/api-paste.ini /etc/nova
2013-07-15 14:09:14 + iniset /etc/nova/api-paste.ini filter:authtoken auth_host 54.248.87.124
2013-07-15 14:09:14 + local file=/etc/nova/api-paste.ini
2013-07-15 14:09:14 + local section=filter:authtoken
2013-07-15 14:09:14 + local option=auth_host
2013-07-15 14:09:14 + local value=54.248.87.124
2013-07-15 14:09:14 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + ini_has_option /etc/nova/api-paste.ini filter:authtoken auth_host
2013-07-15 14:09:14 + local file=/etc/nova/api-paste.ini
2013-07-15 14:09:14 + local section=filter:authtoken
2013-07-15 14:09:14 + local option=auth_host
2013-07-15 14:09:14 + local line
2013-07-15 14:09:14 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^auth_host[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + line='auth_host = 127.0.0.1'
2013-07-15 14:09:14 + '[' -n 'auth_host = 127.0.0.1' ']'
2013-07-15 14:09:14 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(auth_host[ \t]*=[ \t]*\).*$|\154.248.87.124|' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + is_service_enabled tls-proxy
2013-07-15 14:09:14 + services=tls-proxy
2013-07-15 14:09:14 + for service in '${services}'
2013-07-15 14:09:14 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-15 14:09:14 + [[ tls-proxy == \n\o\v\a ]]
2013-07-15 14:09:14 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:09:14 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:14 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:09:14 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:14 + [[ tls-proxy == \s\w\i\f\t ]]
2013-07-15 14:09:14 + [[ tls-proxy == s-* ]]
2013-07-15 14:09:14 + return 1
2013-07-15 14:09:14 + iniset /etc/nova/api-paste.ini filter:authtoken admin_tenant_name service
2013-07-15 14:09:14 + local file=/etc/nova/api-paste.ini
2013-07-15 14:09:14 + local section=filter:authtoken
2013-07-15 14:09:14 + local option=admin_tenant_name
2013-07-15 14:09:14 + local value=service
2013-07-15 14:09:14 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + ini_has_option /etc/nova/api-paste.ini filter:authtoken admin_tenant_name
2013-07-15 14:09:14 + local file=/etc/nova/api-paste.ini
2013-07-15 14:09:14 + local section=filter:authtoken
2013-07-15 14:09:14 + local option=admin_tenant_name
2013-07-15 14:09:14 + local line
2013-07-15 14:09:14 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_tenant_name[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + line='admin_tenant_name = %SERVICE_TENANT_NAME%'
2013-07-15 14:09:14 + '[' -n 'admin_tenant_name = %SERVICE_TENANT_NAME%' ']'
2013-07-15 14:09:14 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_tenant_name[ \t]*=[ \t]*\).*$|\1service|' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + iniset /etc/nova/api-paste.ini filter:authtoken admin_user nova
2013-07-15 14:09:14 + local file=/etc/nova/api-paste.ini
2013-07-15 14:09:14 + local section=filter:authtoken
2013-07-15 14:09:14 + local option=admin_user
2013-07-15 14:09:14 + local value=nova
2013-07-15 14:09:14 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + ini_has_option /etc/nova/api-paste.ini filter:authtoken admin_user
2013-07-15 14:09:14 + local file=/etc/nova/api-paste.ini
2013-07-15 14:09:14 + local section=filter:authtoken
2013-07-15 14:09:14 + local option=admin_user
2013-07-15 14:09:14 + local line
2013-07-15 14:09:14 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_user[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + line='admin_user = %SERVICE_USER%'
2013-07-15 14:09:14 + '[' -n 'admin_user = %SERVICE_USER%' ']'
2013-07-15 14:09:14 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_user[ \t]*=[ \t]*\).*$|\1nova|' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + iniset /etc/nova/api-paste.ini filter:authtoken admin_password admin
2013-07-15 14:09:14 + local file=/etc/nova/api-paste.ini
2013-07-15 14:09:14 + local section=filter:authtoken
2013-07-15 14:09:14 + local option=admin_password
2013-07-15 14:09:14 + local value=admin
2013-07-15 14:09:14 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + ini_has_option /etc/nova/api-paste.ini filter:authtoken admin_password
2013-07-15 14:09:14 + local file=/etc/nova/api-paste.ini
2013-07-15 14:09:14 + local section=filter:authtoken
2013-07-15 14:09:14 + local option=admin_password
2013-07-15 14:09:14 + local line
2013-07-15 14:09:14 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + line='admin_password = %SERVICE_PASSWORD%'
2013-07-15 14:09:14 + '[' -n 'admin_password = %SERVICE_PASSWORD%' ']'
2013-07-15 14:09:14 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_password[ \t]*=[ \t]*\).*$|\1admin|' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + iniset /etc/nova/api-paste.ini filter:authtoken signing_dir /var/cache/nova
2013-07-15 14:09:14 + local file=/etc/nova/api-paste.ini
2013-07-15 14:09:14 + local section=filter:authtoken
2013-07-15 14:09:14 + local option=signing_dir
2013-07-15 14:09:14 + local value=/var/cache/nova
2013-07-15 14:09:14 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + ini_has_option /etc/nova/api-paste.ini filter:authtoken signing_dir
2013-07-15 14:09:14 + local file=/etc/nova/api-paste.ini
2013-07-15 14:09:14 + local section=filter:authtoken
2013-07-15 14:09:14 + local option=signing_dir
2013-07-15 14:09:14 + local line
2013-07-15 14:09:14 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^signing_dir[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + line=
2013-07-15 14:09:14 + '[' -n '' ']'
2013-07-15 14:09:14 + sed -i -e '/^\[filter:authtoken\]/ a\
2013-07-15 14:09:14 signing_dir = /var/cache/nova
2013-07-15 14:09:14 ' /etc/nova/api-paste.ini
2013-07-15 14:09:14 + is_service_enabled n-cpu
2013-07-15 14:09:14 + services=n-cpu
2013-07-15 14:09:14 + for service in '${services}'
2013-07-15 14:09:14 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cpu, ]]
2013-07-15 14:09:14 + return 0
2013-07-15 14:09:14 + sudo sysctl -w net.ipv4.ip_forward=1
2013-07-15 14:09:14 net.ipv4.ip_forward = 1
2013-07-15 14:09:14 + sudo modprobe nbd
2013-07-15 14:09:14 + [[ kvm == \k\v\m ]]
2013-07-15 14:09:14 + sudo modprobe kvm
2013-07-15 14:09:14 FATAL: Module kvm not found.
2013-07-15 14:09:14 + true
2013-07-15 14:09:14 + '[' '!' -e /dev/kvm ']'
2013-07-15 14:09:14 + echo 'WARNING: Switching to QEMU'
2013-07-15 14:09:14 WARNING: Switching to QEMU
2013-07-15 14:09:14 + LIBVIRT_TYPE=qemu
2013-07-15 14:09:14 + which selinuxenabled
2013-07-15 14:09:14 + [[ qemu == \l\x\c ]]
2013-07-15 14:09:14 + is_baremetal
2013-07-15 14:09:14 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-15 14:09:14 + return 1
2013-07-15 14:09:14 + is_service_enabled quantum
2013-07-15 14:09:15 + services=quantum
2013-07-15 14:09:15 + for service in '${services}'
2013-07-15 14:09:15 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-15 14:09:15 + [[ quantum == \n\o\v\a ]]
2013-07-15 14:09:15 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-15 14:09:15 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:15 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-15 14:09:15 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:15 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-15 14:09:15 + [[ quantum == \s\w\i\f\t ]]
2013-07-15 14:09:15 + [[ quantum == s-* ]]
2013-07-15 14:09:15 + return 1
2013-07-15 14:09:15 + is_ubuntu
2013-07-15 14:09:15 + [[ -z deb ]]
2013-07-15 14:09:15 + '[' deb = deb ']'
2013-07-15 14:09:15 + LIBVIRT_DAEMON=libvirt-bin
2013-07-15 14:09:15 + is_fedora
2013-07-15 14:09:15 + [[ -z Ubuntu ]]
2013-07-15 14:09:15 + '[' Ubuntu = Fedora ']'
2013-07-15 14:09:15 + '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:09:15 + '[' Ubuntu = CentOS ']'
2013-07-15 14:09:15 + is_suse
2013-07-15 14:09:15 + [[ -z Ubuntu ]]
2013-07-15 14:09:15 + '[' Ubuntu = openSUSE ']'
2013-07-15 14:09:15 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-15 14:09:15 + getent group libvirtd
2013-07-15 14:09:15 + add_user_to_group ubuntu libvirtd
2013-07-15 14:09:15 + local user=ubuntu
2013-07-15 14:09:15 + local group=libvirtd
2013-07-15 14:09:15 + [[ -z Ubuntu ]]
2013-07-15 14:09:15 + is_suse
2013-07-15 14:09:15 + [[ -z Ubuntu ]]
2013-07-15 14:09:15 + '[' Ubuntu = openSUSE ']'
2013-07-15 14:09:15 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-15 14:09:15 + sudo usermod -a -G libvirtd ubuntu
2013-07-15 14:09:15 + restart_service libvirt-bin
2013-07-15 14:09:15 + is_ubuntu
2013-07-15 14:09:15 + [[ -z deb ]]
2013-07-15 14:09:15 + '[' deb = deb ']'
2013-07-15 14:09:15 + sudo /usr/sbin/service libvirt-bin restart
2013-07-15 14:09:15 libvirt-bin stop/waiting
2013-07-15 14:09:15 libvirt-bin start/running, process 15810
2013-07-15 14:09:15 + sudo mkdir -p /opt/stack/data/nova/instances
2013-07-15 14:09:15 + sudo chown -R ubuntu /opt/stack/data/nova/instances
2013-07-15 14:09:15 + '[' -L /dev/disk/by-label/nova-instances ']'
2013-07-15 14:09:15 + is_service_enabled n-novnc
2013-07-15 14:09:15 + services=n-novnc
2013-07-15 14:09:15 + for service in '${services}'
2013-07-15 14:09:15 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-novnc, ]]
2013-07-15 14:09:15 + return 0
2013-07-15 14:09:15 + git_clone https://github.com/kanaka/noVNC.git /opt/stack/noVNC master
2013-07-15 14:09:15 + [[ False = \T\r\u\e ]]
2013-07-15 14:09:15 + GIT_REMOTE=https://github.com/kanaka/noVNC.git
2013-07-15 14:09:15 + GIT_DEST=/opt/stack/noVNC
2013-07-15 14:09:15 + GIT_REF=master
2013-07-15 14:09:15 + egrep -q '^refs'
2013-07-15 14:09:15 + echo master
2013-07-15 14:09:15 + [[ ! -d /opt/stack/noVNC ]]
2013-07-15 14:09:15 + [[ '' == \y\e\s ]]
2013-07-15 14:09:15 + is_service_enabled n-spice
2013-07-15 14:09:15 + services=n-spice
2013-07-15 14:09:15 + for service in '${services}'
2013-07-15 14:09:15 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-spice, ]]
2013-07-15 14:09:15 + [[ n-spice == \n\o\v\a ]]
2013-07-15 14:09:15 + [[ n-spice == \c\i\n\d\e\r ]]
2013-07-15 14:09:15 + [[ n-spice == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:15 + [[ n-spice == \g\l\a\n\c\e ]]
2013-07-15 14:09:15 + [[ n-spice == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:15 + [[ n-spice == \s\w\i\f\t ]]
2013-07-15 14:09:15 + [[ n-spice == s-* ]]
2013-07-15 14:09:15 + return 1
2013-07-15 14:09:15 + is_service_enabled horizon
2013-07-15 14:09:15 + services=horizon
2013-07-15 14:09:15 + for service in '${services}'
2013-07-15 14:09:15 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,horizon, ]]
2013-07-15 14:09:15 + return 0
2013-07-15 14:09:15 + install_horizon
2013-07-15 14:09:15 + is_ubuntu
2013-07-15 14:09:15 + [[ -z deb ]]
2013-07-15 14:09:15 + '[' deb = deb ']'
2013-07-15 14:09:15 + install_package apache2 libapache2-mod-wsgi
2013-07-15 14:09:15 + is_ubuntu
2013-07-15 14:09:15 + [[ -z deb ]]
2013-07-15 14:09:15 + '[' deb = deb ']'
2013-07-15 14:09:15 + [[ True = \T\r\u\e ]]
2013-07-15 14:09:15 + NO_UPDATE_REPOS=True
2013-07-15 14:09:15 + apt_get install apache2 libapache2-mod-wsgi
2013-07-15 14:09:15 + [[ False = \T\r\u\e ]]
2013-07-15 14:09:15 + [[ -z install apache2 libapache2-mod-wsgi ]]
2013-07-15 14:09:15 + local sudo=sudo
2013-07-15 14:09:15 ++ id -u
2013-07-15 14:09:15 + [[ 1000 = \0 ]]
2013-07-15 14:09:15 + sudo DEBIAN_FRONTEND=noninteractive http_proxy= https_proxy= no_proxy= apt-get --option Dpkg::Options::=--force-confold --assume-yes install apache2 libapache2-mod-wsgi
2013-07-15 14:09:15 Reading package lists...
2013-07-15 14:09:15 Building dependency tree...
2013-07-15 14:09:15 Reading state information...
2013-07-15 14:09:15 libapache2-mod-wsgi is already the newest version.
2013-07-15 14:09:15 The following extra packages will be installed:
2013-07-15 14:09:15   apache2-mpm-worker apache2.2-bin apache2.2-common
2013-07-15 14:09:15 Suggested packages:
2013-07-15 14:09:15   apache2-doc apache2-suexec apache2-suexec-custom
2013-07-15 14:09:15 The following packages will be upgraded:
2013-07-15 14:09:15   apache2 apache2-mpm-worker apache2.2-bin apache2.2-common
2013-07-15 14:09:15 4 upgraded, 0 newly installed, 0 to remove and 36 not upgraded.
2013-07-15 14:09:15 Need to get 1570 kB of archives.
2013-07-15 14:09:15 After this operation, 1024 B of additional disk space will be used.
2013-07-15 14:09:15 Get:1 http://security.ubuntu.com/ubuntu/ precise-security/main apache2 amd64 2.2.22-1ubuntu1.4 [1492 B]
2013-07-15 14:09:15 Get:2 http://security.ubuntu.com/ubuntu/ precise-security/main apache2-mpm-worker amd64 2.2.22-1ubuntu1.4 [2284 B]
2013-07-15 14:09:15 Get:3 http://security.ubuntu.com/ubuntu/ precise-security/main apache2.2-common amd64 2.2.22-1ubuntu1.4 [226 kB]
2013-07-15 14:09:15 Get:4 http://security.ubuntu.com/ubuntu/ precise-security/main apache2.2-bin amd64 2.2.22-1ubuntu1.4 [1340 kB]
2013-07-15 14:09:18 perl: warning: Setting locale failed.
2013-07-15 14:09:18 perl: warning: Please check that your locale settings:
2013-07-15 14:09:18 	LANGUAGE = (unset),
2013-07-15 14:09:18 	LC_ALL = (unset),
2013-07-15 14:09:18 	LC_TIME = "ja_JP.UTF-8",
2013-07-15 14:09:18 	LC_MONETARY = "ja_JP.UTF-8",
2013-07-15 14:09:18 	LC_ADDRESS = "ja_JP.UTF-8",
2013-07-15 14:09:18 	LC_TELEPHONE = "ja_JP.UTF-8",
2013-07-15 14:09:18 	LC_NAME = "ja_JP.UTF-8",
2013-07-15 14:09:18 	LC_MEASUREMENT = "ja_JP.UTF-8",
2013-07-15 14:09:18 	LC_IDENTIFICATION = "ja_JP.UTF-8",
2013-07-15 14:09:18 	LC_NUMERIC = "ja_JP.UTF-8",
2013-07-15 14:09:18 	LC_PAPER = "ja_JP.UTF-8",
2013-07-15 14:09:18 	LANG = "en_US.UTF-8"
2013-07-15 14:09:18     are supported and installed on your system.
2013-07-15 14:09:18 perl: warning: Falling back to the standard locale ("C").
2013-07-15 14:09:18 locale: Cannot set LC_ALL to default locale: No such file or directory
2013-07-15 14:09:19 Fetched 1570 kB in 6s (230 kB/s)
2013-07-15 14:09:19 (Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 67829 files and directories currently installed.)
2013-07-15 14:09:19 Preparing to replace apache2 2.2.22-1ubuntu1.3 (using .../apache2_2.2.22-1ubuntu1.4_amd64.deb) ...
2013-07-15 14:09:19 Unpacking replacement apache2 ...
2013-07-15 14:09:19 Preparing to replace apache2-mpm-worker 2.2.22-1ubuntu1.3 (using .../apache2-mpm-worker_2.2.22-1ubuntu1.4_amd64.deb) ...
2013-07-15 14:09:19  * Stopping web server apache2       [151G [145G[ OK ]
2013-07-15 14:09:21 Unpacking replacement apache2-mpm-worker ...
2013-07-15 14:09:21 Preparing to replace apache2.2-common 2.2.22-1ubuntu1.3 (using .../apache2.2-common_2.2.22-1ubuntu1.4_amd64.deb) ...
2013-07-15 14:09:21 Unpacking replacement apache2.2-common ...
2013-07-15 14:09:22 Preparing to replace apache2.2-bin 2.2.22-1ubuntu1.3 (using .../apache2.2-bin_2.2.22-1ubuntu1.4_amd64.deb) ...
2013-07-15 14:09:22 Unpacking replacement apache2.2-bin ...
2013-07-15 14:09:22 Processing triggers for man-db ...
2013-07-15 14:09:22 locale: Cannot set LC_ALL to default locale: No such file or directory
2013-07-15 14:09:23 Processing triggers for ureadahead ...
2013-07-15 14:09:23 Processing triggers for ufw ...
2013-07-15 14:09:23 Setting up apache2.2-bin (2.2.22-1ubuntu1.4) ...
2013-07-15 14:09:23 Setting up apache2.2-common (2.2.22-1ubuntu1.4) ...
2013-07-15 14:09:24 Setting up apache2-mpm-worker (2.2.22-1ubuntu1.4) ...
2013-07-15 14:09:24  * Starting web server apache2       [151G [145G[ OK ]
2013-07-15 14:09:24 Setting up apache2 (2.2.22-1ubuntu1.4) ...
2013-07-15 14:09:26 + is_ubuntu
2013-07-15 14:09:26 + [[ -z deb ]]
2013-07-15 14:09:26 + '[' deb = deb ']'
2013-07-15 14:09:26 + [[ ! -e /usr/bin/node ]]
2013-07-15 14:09:26 + git_clone https://github.com/openstack/horizon.git /opt/stack/horizon stable/grizzly
2013-07-15 14:09:26 + [[ False = \T\r\u\e ]]
2013-07-15 14:09:26 + GIT_REMOTE=https://github.com/openstack/horizon.git
2013-07-15 14:09:26 + GIT_DEST=/opt/stack/horizon
2013-07-15 14:09:26 + GIT_REF=stable/grizzly
2013-07-15 14:09:26 + egrep -q '^refs'
2013-07-15 14:09:26 + echo stable/grizzly
2013-07-15 14:09:26 + [[ ! -d /opt/stack/horizon ]]
2013-07-15 14:09:26 + [[ '' == \y\e\s ]]
2013-07-15 14:09:26 + configure_horizon
2013-07-15 14:09:26 + setup_develop /opt/stack/horizon
2013-07-15 14:09:26 + [[ False = True ]]
2013-07-15 14:09:26 + SUDO_CMD=sudo
2013-07-15 14:09:26 + cd /opt/stack/horizon
2013-07-15 14:09:26 + python setup.py egg_info
2013-07-15 14:09:27 running egg_info
2013-07-15 14:09:27 writing requirements to horizon.egg-info/requires.txt
2013-07-15 14:09:27 writing horizon.egg-info/PKG-INFO
2013-07-15 14:09:27 writing top-level names to horizon.egg-info/top_level.txt
2013-07-15 14:09:27 writing dependency_links to horizon.egg-info/dependency_links.txt
2013-07-15 14:09:27 reading manifest template 'MANIFEST.in'
2013-07-15 14:09:27 warning: no files found matching '*.css_t' under directory 'doc'
2013-07-15 14:09:27 warning: no files found matching '*.csv' under directory 'horizon'
2013-07-15 14:09:27 warning: no files found matching '*.template' under directory 'horizon'
2013-07-15 14:09:27 warning: no files found matching '*.js' under directory 'openstack_dashboard'
2013-07-15 14:09:27 warning: no files found matching 'AUTHORS'
2013-07-15 14:09:27 warning: no files found matching 'ChangeLog'
2013-07-15 14:09:27 writing manifest file 'horizon.egg-info/SOURCES.txt'
2013-07-15 14:09:27 ++ awk '/^.+/ {print "-f " $1}' horizon.egg-info/dependency_links.txt
2013-07-15 14:09:27 + raw_links=
2013-07-15 14:09:27 ++ echo
2013-07-15 14:09:27 ++ xargs
2013-07-15 14:09:27 + depend_links=
2013-07-15 14:09:27 ++ '[' '!' -r horizon.egg-info/requires.txt ']'
2013-07-15 14:09:27 ++ echo '-r *-info/requires.txt'
2013-07-15 14:09:27 + require_file='-r *-info/requires.txt'
2013-07-15 14:09:27 + pip_install -r horizon.egg-info/requires.txt
2013-07-15 14:09:27 + [[ False = \T\r\u\e ]]
2013-07-15 14:09:27 + [[ -z -r horizon.egg-info/requires.txt ]]
2013-07-15 14:09:27 + [[ -z deb ]]
2013-07-15 14:09:27 + [[ False = True ]]
2013-07-15 14:09:27 + SUDO_PIP=sudo
2013-07-15 14:09:27 ++ get_pip_command
2013-07-15 14:09:27 ++ is_fedora
2013-07-15 14:09:27 ++ [[ -z Ubuntu ]]
2013-07-15 14:09:27 ++ '[' Ubuntu = Fedora ']'
2013-07-15 14:09:27 ++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:09:27 ++ '[' Ubuntu = CentOS ']'
2013-07-15 14:09:27 ++ which pip
2013-07-15 14:09:27 + CMD_PIP=/usr/bin/pip
2013-07-15 14:09:27 + [[ '' != \F\a\l\s\e ]]
2013-07-15 14:09:27 + PIP_MIRROR_OPT=--use-mirrors
2013-07-15 14:09:27 + sudo PIP_DOWNLOAD_CACHE=/var/cache/pip HTTP_PROXY= HTTPS_PROXY= NO_PROXY= /usr/bin/pip install --use-mirrors -r horizon.egg-info/requires.txt
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): Django>=1.4,<1.5 in /usr/local/lib/python2.7/dist-packages (from -r horizon.egg-info/requires.txt (line 1))
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): django-compressor in /usr/local/lib/python2.7/dist-packages (from -r horizon.egg-info/requires.txt (line 2))
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): django-openstack-auth>=1.0.7,!=1.1.0 in /usr/local/lib/python2.7/dist-packages (from -r horizon.egg-info/requires.txt (line 3))
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): netaddr in /usr/local/lib/python2.7/dist-packages (from -r horizon.egg-info/requires.txt (line 4))
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): python-cinderclient>=1.0.2,<2.0.0 in /opt/stack/python-cinderclient (from -r horizon.egg-info/requires.txt (line 5))
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): python-glanceclient<2 in /opt/stack/python-glanceclient (from -r horizon.egg-info/requires.txt (line 6))
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): python-keystoneclient in /opt/stack/python-keystoneclient (from -r horizon.egg-info/requires.txt (line 7))
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): python-novaclient>=2.12.0,<3 in /opt/stack/python-novaclient (from -r horizon.egg-info/requires.txt (line 8))
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): python-quantumclient>=2.2.0,<3.0.0 in /usr/local/lib/python2.7/dist-packages (from -r horizon.egg-info/requires.txt (line 9))
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): python-swiftclient>1.1,<2 in /opt/stack/python-swiftclient (from -r horizon.egg-info/requires.txt (line 10))
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): pytz in /usr/local/lib/python2.7/dist-packages (from -r horizon.egg-info/requires.txt (line 11))
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): lockfile in /usr/lib/python2.7/dist-packages (from -r horizon.egg-info/requires.txt (line 12))
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): django-appconf>=0.4 in /usr/local/lib/python2.7/dist-packages (from django-compressor->-r horizon.egg-info/requires.txt (line 2))
2013-07-15 14:09:27 Requirement already satisfied (use --upgrade to upgrade): d2to1>=0.2.10,<0.3 in /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg (from python-cinderclient>=1.0.2,<2.0.0->-r horizon.egg-info/requires.txt (line 5))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): pbr>=0.5,<0.6 in /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg (from python-cinderclient>=1.0.2,<2.0.0->-r horizon.egg-info/requires.txt (line 5))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): prettytable>=0.6,<0.8 in /usr/local/lib/python2.7/dist-packages (from python-cinderclient>=1.0.2,<2.0.0->-r horizon.egg-info/requires.txt (line 5))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): requests>=0.8 in /usr/local/lib/python2.7/dist-packages (from python-cinderclient>=1.0.2,<2.0.0->-r horizon.egg-info/requires.txt (line 5))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): simplejson>=2.0.9 in /usr/lib/python2.7/dist-packages (from python-cinderclient>=1.0.2,<2.0.0->-r horizon.egg-info/requires.txt (line 5))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): six in /usr/local/lib/python2.7/dist-packages (from python-cinderclient>=1.0.2,<2.0.0->-r horizon.egg-info/requires.txt (line 5))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): pyOpenSSL in /usr/lib/python2.7/dist-packages (from python-glanceclient<2->-r horizon.egg-info/requires.txt (line 6))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): warlock>=0.7.0,<2 in /usr/local/lib/python2.7/dist-packages (from python-glanceclient<2->-r horizon.egg-info/requires.txt (line 6))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): iso8601>=0.1.4 in /usr/lib/python2.7/dist-packages (from python-keystoneclient->-r horizon.egg-info/requires.txt (line 7))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): oslo.config>=1.1.0 in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient->-r horizon.egg-info/requires.txt (line 7))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): cliff>=1.4 in /usr/local/lib/python2.7/dist-packages (from python-quantumclient>=2.2.0,<3.0.0->-r horizon.egg-info/requires.txt (line 9))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): httplib2 in /usr/lib/python2.7/dist-packages (from python-quantumclient>=2.2.0,<3.0.0->-r horizon.egg-info/requires.txt (line 9))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): pyparsing>=1.5.6,<2.0 in /usr/local/lib/python2.7/dist-packages (from python-quantumclient>=2.2.0,<3.0.0->-r horizon.egg-info/requires.txt (line 9))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): distribute in /usr/lib/python2.7/dist-packages (from d2to1>=0.2.10,<0.3->python-cinderclient>=1.0.2,<2.0.0->-r horizon.egg-info/requires.txt (line 5))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): setuptools-git>=0.4 in /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg (from pbr>=0.5,<0.6->python-cinderclient>=1.0.2,<2.0.0->-r horizon.egg-info/requires.txt (line 5))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): jsonschema>=0.7,<3 in /usr/local/lib/python2.7/dist-packages (from warlock>=0.7.0,<2->python-glanceclient<2->-r horizon.egg-info/requires.txt (line 6))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): jsonpatch>=0.10,<2 in /usr/local/lib/python2.7/dist-packages (from warlock>=0.7.0,<2->python-glanceclient<2->-r horizon.egg-info/requires.txt (line 6))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): cmd2>=0.6.4 in /usr/local/lib/python2.7/dist-packages (from cliff>=1.4->python-quantumclient>=2.2.0,<3.0.0->-r horizon.egg-info/requires.txt (line 9))
2013-07-15 14:09:28 Requirement already satisfied (use --upgrade to upgrade): jsonpointer>=1.0 in /usr/local/lib/python2.7/dist-packages (from jsonpatch>=0.10,<2->warlock>=0.7.0,<2->python-glanceclient<2->-r horizon.egg-info/requires.txt (line 6))
2013-07-15 14:09:28 Cleaning up...
2013-07-15 14:09:28 + sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-15 14:09:28 running develop
2013-07-15 14:09:28 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-15 14:09:28 /usr/bin/python -E -c pass
2013-07-15 14:09:28 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-15 14:09:28 running egg_info
2013-07-15 14:09:28 writing requirements to horizon.egg-info/requires.txt
2013-07-15 14:09:28 writing horizon.egg-info/PKG-INFO
2013-07-15 14:09:28 writing top-level names to horizon.egg-info/top_level.txt
2013-07-15 14:09:28 writing dependency_links to horizon.egg-info/dependency_links.txt
2013-07-15 14:09:28 reading manifest template 'MANIFEST.in'
2013-07-15 14:09:28 warning: no files found matching '*.css_t' under directory 'doc'
2013-07-15 14:09:28 warning: no files found matching '*.csv' under directory 'horizon'
2013-07-15 14:09:28 warning: no files found matching '*.template' under directory 'horizon'
2013-07-15 14:09:28 warning: no files found matching '*.js' under directory 'openstack_dashboard'
2013-07-15 14:09:28 warning: no files found matching 'AUTHORS'
2013-07-15 14:09:28 warning: no files found matching 'ChangeLog'
2013-07-15 14:09:28 writing manifest file 'horizon.egg-info/SOURCES.txt'
2013-07-15 14:09:28 running build_ext
2013-07-15 14:09:29 Creating /usr/local/lib/python2.7/dist-packages/horizon.egg-link (link to .)
2013-07-15 14:09:29 horizon 2013.1.3.a8.g47ea680 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Installed /opt/stack/horizon
2013-07-15 14:09:29 Processing dependencies for horizon==2013.1.3.a8.g47ea680
2013-07-15 14:09:29 Searching for lockfile==0.8
2013-07-15 14:09:29 Best match: lockfile 0.8
2013-07-15 14:09:29 Adding lockfile 0.8 to easy-install.pth file
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for pytz==2013b
2013-07-15 14:09:29 Best match: pytz 2013b
2013-07-15 14:09:29 pytz 2013b is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for python-swiftclient==1.5.0.7.g07d13b5
2013-07-15 14:09:29 Best match: python-swiftclient 1.5.0.7.g07d13b5
2013-07-15 14:09:29 python-swiftclient 1.5.0.7.g07d13b5 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /opt/stack/python-swiftclient
2013-07-15 14:09:29 Searching for python-quantumclient==2.2.3
2013-07-15 14:09:29 Best match: python-quantumclient 2.2.3
2013-07-15 14:09:29 python-quantumclient 2.2.3 is already the active version in easy-install.pth
2013-07-15 14:09:29 Installing quantum script to /usr/local/bin
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for python-novaclient==2.13.0.110.ga45c49b
2013-07-15 14:09:29 Best match: python-novaclient 2.13.0.110.ga45c49b
2013-07-15 14:09:29 python-novaclient 2.13.0.110.ga45c49b is already the active version in easy-install.pth
2013-07-15 14:09:29 Installing nova script to /usr/local/bin
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /opt/stack/python-novaclient
2013-07-15 14:09:29 Searching for python-keystoneclient==0.3.1.11.gf2ad113
2013-07-15 14:09:29 Best match: python-keystoneclient 0.3.1.11.gf2ad113
2013-07-15 14:09:29 Removing python-keystoneclient 0.2.5 from easy-install.pth file
2013-07-15 14:09:29 python-keystoneclient 0.3.1.11.gf2ad113 is already the active version in easy-install.pth
2013-07-15 14:09:29 Installing keystone script to /usr/local/bin
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /opt/stack/python-keystoneclient
2013-07-15 14:09:29 Searching for python-glanceclient==0.9.0.48.g8427208
2013-07-15 14:09:29 Best match: python-glanceclient 0.9.0.48.g8427208
2013-07-15 14:09:29 python-glanceclient 0.9.0.48.g8427208 is already the active version in easy-install.pth
2013-07-15 14:09:29 Installing glance script to /usr/local/bin
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /opt/stack/python-glanceclient
2013-07-15 14:09:29 Searching for python-cinderclient==1.0.4.61.gaef613f
2013-07-15 14:09:29 Best match: python-cinderclient 1.0.4.61.gaef613f
2013-07-15 14:09:29 python-cinderclient 1.0.4.61.gaef613f is already the active version in easy-install.pth
2013-07-15 14:09:29 Installing cinder script to /usr/local/bin
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /opt/stack/python-cinderclient
2013-07-15 14:09:29 Searching for netaddr==0.7.10
2013-07-15 14:09:29 Best match: netaddr 0.7.10
2013-07-15 14:09:29 Adding netaddr 0.7.10 to easy-install.pth file
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for django-openstack-auth==1.0.11
2013-07-15 14:09:29 Best match: django-openstack-auth 1.0.11
2013-07-15 14:09:29 django-openstack-auth 1.0.11 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for django-compressor==1.3
2013-07-15 14:09:29 Best match: django-compressor 1.3
2013-07-15 14:09:29 django-compressor 1.3 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for Django==1.4.5
2013-07-15 14:09:29 Best match: Django 1.4.5
2013-07-15 14:09:29 Django 1.4.5 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for simplejson==2.3.2
2013-07-15 14:09:29 Best match: simplejson 2.3.2
2013-07-15 14:09:29 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for pbr==0.5.18
2013-07-15 14:09:29 Best match: pbr 0.5.18
2013-07-15 14:09:29 Processing pbr-0.5.18-py2.7.egg
2013-07-15 14:09:29 Removing pbr 0.5.18 from easy-install.pth file
2013-07-15 14:09:29 pbr 0.5.18 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg
2013-07-15 14:09:29 Searching for d2to1==0.2.10
2013-07-15 14:09:29 Best match: d2to1 0.2.10
2013-07-15 14:09:29 Processing d2to1-0.2.10-py2.7.egg
2013-07-15 14:09:29 Removing d2to1 0.2.10 from easy-install.pth file
2013-07-15 14:09:29 d2to1 0.2.10 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg
2013-07-15 14:09:29 Searching for pyparsing==1.5.7
2013-07-15 14:09:29 Best match: pyparsing 1.5.7
2013-07-15 14:09:29 Adding pyparsing 1.5.7 to easy-install.pth file
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for prettytable==0.7.2
2013-07-15 14:09:29 Best match: prettytable 0.7.2
2013-07-15 14:09:29 prettytable 0.7.2 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for iso8601==0.1.4
2013-07-15 14:09:29 Best match: iso8601 0.1.4
2013-07-15 14:09:29 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for httplib2==0.7.2
2013-07-15 14:09:29 Best match: httplib2 0.7.2
2013-07-15 14:09:29 Adding httplib2 0.7.2 to easy-install.pth file
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for cliff==1.4
2013-07-15 14:09:29 Best match: cliff 1.4
2013-07-15 14:09:29 cliff 1.4 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for six==1.3.0
2013-07-15 14:09:29 Best match: six 1.3.0
2013-07-15 14:09:29 six 1.3.0 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for requests==1.2.3
2013-07-15 14:09:29 Best match: requests 1.2.3
2013-07-15 14:09:29 requests 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for oslo.config==1.1.1
2013-07-15 14:09:29 Best match: oslo.config 1.1.1
2013-07-15 14:09:29 oslo.config 1.1.1 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for warlock==1.0.1
2013-07-15 14:09:29 Best match: warlock 1.0.1
2013-07-15 14:09:29 warlock 1.0.1 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for pyOpenSSL==0.12
2013-07-15 14:09:29 Best match: pyOpenSSL 0.12
2013-07-15 14:09:29 Adding pyOpenSSL 0.12 to easy-install.pth file
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for django-appconf==0.6
2013-07-15 14:09:29 Best match: django-appconf 0.6
2013-07-15 14:09:29 django-appconf 0.6 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for setuptools-git==1.0
2013-07-15 14:09:29 Best match: setuptools-git 1.0
2013-07-15 14:09:29 Processing setuptools_git-1.0-py2.7.egg
2013-07-15 14:09:29 Removing setuptools-git 1.0 from easy-install.pth file
2013-07-15 14:09:29 setuptools-git 1.0 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg
2013-07-15 14:09:29 Searching for distribute==0.6.24dev-r0
2013-07-15 14:09:29 Best match: distribute 0.6.24dev-r0
2013-07-15 14:09:29 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-15 14:09:29 Installing easy_install script to /usr/local/bin
2013-07-15 14:09:29 Installing easy_install-2.7 script to /usr/local/bin
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for cmd2==0.6.5.1
2013-07-15 14:09:29 Best match: cmd2 0.6.5.1
2013-07-15 14:09:29 Adding cmd2 0.6.5.1 to easy-install.pth file
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for jsonpatch==1.1
2013-07-15 14:09:29 Best match: jsonpatch 1.1
2013-07-15 14:09:29 jsonpatch 1.1 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for jsonschema==2.0.0
2013-07-15 14:09:29 Best match: jsonschema 2.0.0
2013-07-15 14:09:29 jsonschema 2.0.0 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Searching for jsonpointer==1.0
2013-07-15 14:09:29 Best match: jsonpointer 1.0
2013-07-15 14:09:29 jsonpointer 1.0 is already the active version in easy-install.pth
2013-07-15 14:09:29 
2013-07-15 14:09:29 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:09:29 Finished processing dependencies for horizon==2013.1.3.a8.g47ea680
2013-07-15 14:09:29 + is_service_enabled ceilometer
2013-07-15 14:09:29 + services=ceilometer
2013-07-15 14:09:29 + for service in '${services}'
2013-07-15 14:09:29 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,ceilometer, ]]
2013-07-15 14:09:29 + [[ ceilometer == \n\o\v\a ]]
2013-07-15 14:09:30 + [[ ceilometer == \c\i\n\d\e\r ]]
2013-07-15 14:09:30 + [[ ceilometer == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:30 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ ceilometer- ]]
2013-07-15 14:09:30 + [[ ceilometer == \g\l\a\n\c\e ]]
2013-07-15 14:09:30 + [[ ceilometer == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:30 + [[ ceilometer == \s\w\i\f\t ]]
2013-07-15 14:09:30 + [[ ceilometer == s-* ]]
2013-07-15 14:09:30 + return 1
2013-07-15 14:09:30 + is_service_enabled heat
2013-07-15 14:09:30 + services=heat
2013-07-15 14:09:30 + for service in '${services}'
2013-07-15 14:09:30 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,heat, ]]
2013-07-15 14:09:30 + [[ heat == \n\o\v\a ]]
2013-07-15 14:09:30 + [[ heat == \c\i\n\d\e\r ]]
2013-07-15 14:09:30 + [[ heat == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:30 + [[ heat == \g\l\a\n\c\e ]]
2013-07-15 14:09:30 + [[ heat == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:30 + [[ heat == \s\w\i\f\t ]]
2013-07-15 14:09:30 + [[ heat == s-* ]]
2013-07-15 14:09:30 + return 1
2013-07-15 14:09:30 + is_service_enabled tls-proxy
2013-07-15 14:09:30 + services=tls-proxy
2013-07-15 14:09:30 + for service in '${services}'
2013-07-15 14:09:30 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-15 14:09:30 + [[ tls-proxy == \n\o\v\a ]]
2013-07-15 14:09:30 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:09:30 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:30 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:09:30 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:30 + [[ tls-proxy == \s\w\i\f\t ]]
2013-07-15 14:09:30 + [[ tls-proxy == s-* ]]
2013-07-15 14:09:30 + return 1
2013-07-15 14:09:30 + [[ False = True ]]
2013-07-15 14:09:30 + [[ True != \F\a\l\s\e ]]
2013-07-15 14:09:30 + [[ 54.248.87.124 = \5\4\.\2\4\8\.\8\7\.\1\2\4 ]]
2013-07-15 14:09:30 + cat
2013-07-15 14:09:30 + sudo mv /tmp/90-stack-m.conf /etc/rsyslog.d
2013-07-15 14:09:30 + echo_summary 'Starting rsyslog'
2013-07-15 14:09:30 + [[ -t 3 ]]
2013-07-15 14:09:30 + [[ True != \T\r\u\e ]]
2013-07-15 14:09:30 + echo -e Starting rsyslog
2013-07-15 14:09:30 + restart_service rsyslog
2013-07-15 14:09:30 + is_ubuntu
2013-07-15 14:09:30 + [[ -z deb ]]
2013-07-15 14:09:30 + '[' deb = deb ']'
2013-07-15 14:09:30 + sudo /usr/sbin/service rsyslog restart
2013-07-15 14:09:30 Starting rsyslog
2013-07-15 14:09:30 rsyslog stop/waiting
2013-07-15 14:09:30 rsyslog start/running, process 18347
2013-07-15 14:09:30 + restart_rpc_backend
2013-07-15 14:09:30 + is_service_enabled rabbit
2013-07-15 14:09:30 + services=rabbit
2013-07-15 14:09:30 + for service in '${services}'
2013-07-15 14:09:30 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,rabbit, ]]
2013-07-15 14:09:30 + return 0
2013-07-15 14:09:30 + echo_summary 'Starting RabbitMQ'
2013-07-15 14:09:30 + [[ -t 3 ]]
2013-07-15 14:09:30 + [[ True != \T\r\u\e ]]
2013-07-15 14:09:30 + echo -e Starting RabbitMQ
2013-07-15 14:09:30 + is_fedora
2013-07-15 14:09:30 + [[ -z Ubuntu ]]
2013-07-15 14:09:30 + '[' Ubuntu = Fedora ']'
2013-07-15 14:09:30 + '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:09:30 + '[' Ubuntu = CentOS ']'
2013-07-15 14:09:30 + is_suse
2013-07-15 14:09:30 + [[ -z Ubuntu ]]
2013-07-15 14:09:30 + '[' Ubuntu = openSUSE ']'
2013-07-15 14:09:30 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-15 14:09:30 + sudo rabbitmqctl change_password guest admin
2013-07-15 14:09:30 Starting RabbitMQ
2013-07-15 14:09:30 Changing password for user "guest" ...
2013-07-15 14:09:30 ...done.
2013-07-15 14:09:30 + is_service_enabled mysql postgresql
2013-07-15 14:09:30 + services='mysql postgresql'
2013-07-15 14:09:30 + for service in '${services}'
2013-07-15 14:09:30 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,mysql, ]]
2013-07-15 14:09:30 + return 0
2013-07-15 14:09:30 + configure_database
2013-07-15 14:09:30 + configure_database_mysql
2013-07-15 14:09:30 + echo_summary 'Configuring and starting MySQL'
2013-07-15 14:09:30 + [[ -t 3 ]]
2013-07-15 14:09:30 + [[ True != \T\r\u\e ]]
2013-07-15 14:09:30 + echo -e Configuring and starting MySQL
2013-07-15 14:09:30 + is_ubuntu
2013-07-15 14:09:30 + [[ -z deb ]]
2013-07-15 14:09:30 + '[' deb = deb ']'
2013-07-15 14:09:30 + MY_CONF=/etc/mysql/my.cnf
2013-07-15 14:09:30 + MYSQL=mysql
2013-07-15 14:09:30 + is_fedora
2013-07-15 14:09:30 + [[ -z Ubuntu ]]
2013-07-15 14:09:30 + '[' Ubuntu = Fedora ']'
2013-07-15 14:09:30 + '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:09:30 + '[' Ubuntu = CentOS ']'
2013-07-15 14:09:30 + is_suse
2013-07-15 14:09:30 + [[ -z Ubuntu ]]
2013-07-15 14:09:30 + '[' Ubuntu = openSUSE ']'
2013-07-15 14:09:30 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-15 14:09:30 + is_ubuntu
2013-07-15 14:09:30 + [[ -z deb ]]
2013-07-15 14:09:30 + '[' deb = deb ']'
2013-07-15 14:09:30 + sudo mysql -uroot -padmin -h127.0.0.1 -e 'GRANT ALL PRIVILEGES ON *.* TO '\''root'\''@'\''%'\'' identified by '\''admin'\'';'
2013-07-15 14:09:30 Configuring and starting MySQL
2013-07-15 14:09:30 + sudo sed -i '/^bind-address/s/127.0.0.1/0.0.0.0/g' /etc/mysql/my.cnf
2013-07-15 14:09:30 + sudo grep -q default-storage-engine /etc/mysql/my.cnf
2013-07-15 14:09:30 + sudo bash -c 'source /home/ubuntu/devstack/functions; iniset /etc/mysql/my.cnf mysqld default-storage-engine InnoDB'
2013-07-15 14:09:30 + sudo sed -i /log.slow.queries/d /etc/mysql/my.cnf
2013-07-15 14:09:30 + sudo sed -i -e '/^\[mysqld\]/ a log-slow-queries = /var/log/mysql/mysql-slow.log' /etc/mysql/my.cnf
2013-07-15 14:09:30 + sudo sed -i /long.query.time/d /etc/mysql/my.cnf
2013-07-15 14:09:30 + sudo sed -i -e '/^\[mysqld\]/ a long-query-time = 0' /etc/mysql/my.cnf
2013-07-15 14:09:30 + sudo sed -i /log.queries.not.using.indexes/d /etc/mysql/my.cnf
2013-07-15 14:09:30 + sudo sed -i -e '/^\[mysqld\]/ a log-queries-not-using-indexes' /etc/mysql/my.cnf
2013-07-15 14:09:30 + restart_service mysql
2013-07-15 14:09:30 + is_ubuntu
2013-07-15 14:09:30 + [[ -z deb ]]
2013-07-15 14:09:30 + '[' deb = deb ']'
2013-07-15 14:09:30 + sudo /usr/sbin/service mysql restart
2013-07-15 14:09:30 mysql stop/waiting
2013-07-15 14:09:33 mysql start/running, process 18969
2013-07-15 14:09:33 ++ trueorfalse True True
2013-07-15 14:09:33 ++ local default=True
2013-07-15 14:09:33 ++ local testval=True
2013-07-15 14:09:33 ++ [[ -z True ]]
2013-07-15 14:09:33 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:09:33 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:09:33 ++ echo True
2013-07-15 14:09:33 ++ return
2013-07-15 14:09:33 + USE_SCREEN=True
2013-07-15 14:09:33 + [[ True == \T\r\u\e ]]
2013-07-15 14:09:33 + screen -d -m -S stack -t shell -s /bin/bash
2013-07-15 14:09:33 + sleep 1
2013-07-15 14:09:34 + '[' -z '' ']'
2013-07-15 14:09:34 + SCREEN_HARDSTATUS='%{= .} %-Lw%{= .}%> %n%f %t*%{= .}%+Lw%< %-=%{g}(%{d}%H/%l%{g})'
2013-07-15 14:09:34 + screen -r stack -X hardstatus alwayslastline '%{= .} %-Lw%{= .}%> %n%f %t*%{= .}%+Lw%< %-=%{g}(%{d}%H/%l%{g})'
2013-07-15 14:09:34 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:09:34 + [[ -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:09:34 + echo -n
2013-07-15 14:09:34 + init_service_check
2013-07-15 14:09:34 + SCREEN_NAME=stack
2013-07-15 14:09:34 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:09:34 + [[ ! -d /opt/stack/status/stack ]]
2013-07-15 14:09:34 + rm -f /opt/stack/status/stack/n-api.failure /opt/stack/status/stack/n-cond.failure /opt/stack/status/stack/n-cpu.failure /opt/stack/status/stack/n-crt.failure /opt/stack/status/stack/n-net.failure /opt/stack/status/stack/n-sch.failure
2013-07-15 14:09:34 + is_service_enabled sysstat
2013-07-15 14:09:34 + services=sysstat
2013-07-15 14:09:34 + for service in '${services}'
2013-07-15 14:09:34 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,sysstat, ]]
2013-07-15 14:09:34 + [[ sysstat == \n\o\v\a ]]
2013-07-15 14:09:34 + [[ sysstat == \c\i\n\d\e\r ]]
2013-07-15 14:09:34 + [[ sysstat == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:34 + [[ sysstat == \g\l\a\n\c\e ]]
2013-07-15 14:09:34 + [[ sysstat == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:34 + [[ sysstat == \s\w\i\f\t ]]
2013-07-15 14:09:34 + [[ sysstat == s-* ]]
2013-07-15 14:09:34 + return 1
2013-07-15 14:09:34 + is_service_enabled key
2013-07-15 14:09:34 + services=key
2013-07-15 14:09:34 + for service in '${services}'
2013-07-15 14:09:34 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,key, ]]
2013-07-15 14:09:34 + return 0
2013-07-15 14:09:34 + echo_summary 'Starting Keystone'
2013-07-15 14:09:34 + [[ -t 3 ]]
2013-07-15 14:09:34 + [[ True != \T\r\u\e ]]
2013-07-15 14:09:34 + echo -e Starting Keystone
2013-07-15 14:09:34 + init_keystone
2013-07-15 14:09:34 + recreate_database keystone utf8
2013-07-15 14:09:34 + local db=keystone
2013-07-15 14:09:34 + local charset=utf8
2013-07-15 14:09:34 + recreate_database_mysql keystone utf8
2013-07-15 14:09:34 + local db=keystone
2013-07-15 14:09:34 + local charset=utf8
2013-07-15 14:09:34 + mysql -uroot -padmin -e 'DROP DATABASE IF EXISTS keystone;'
2013-07-15 14:09:34 Starting Keystone
2013-07-15 14:09:34 + mysql -uroot -padmin -e 'CREATE DATABASE keystone CHARACTER SET utf8;'
2013-07-15 14:09:34 + /opt/stack/keystone/bin/keystone-manage db_sync
2013-07-15 14:09:35 + [[ PKI == \P\K\I ]]
2013-07-15 14:09:35 + rm -rf /etc/keystone/ssl
2013-07-15 14:09:35 + /opt/stack/keystone/bin/keystone-manage pki_setup
2013-07-15 14:09:36 Generating RSA private key, 1024 bit long modulus
2013-07-15 14:09:36 ............++++++
2013-07-15 14:09:36 ...............................++++++
2013-07-15 14:09:36 e is 65537 (0x10001)
2013-07-15 14:09:36 Generating RSA private key, 1024 bit long modulus
2013-07-15 14:09:36 .........................................................++++++
2013-07-15 14:09:36 ..........++++++
2013-07-15 14:09:36 e is 65537 (0x10001)
2013-07-15 14:09:36 Using configuration from /etc/keystone/ssl/certs/openssl.conf
2013-07-15 14:09:36 Check that the request matches the signature
2013-07-15 14:09:36 Signature ok
2013-07-15 14:09:36 The Subject's Distinguished Name is as follows
2013-07-15 14:09:36 countryName           :PRINTABLE:'US'
2013-07-15 14:09:36 stateOrProvinceName   :PRINTABLE:'Unset'
2013-07-15 14:09:36 localityName          :PRINTABLE:'Unset'
2013-07-15 14:09:36 organizationName      :PRINTABLE:'Unset'
2013-07-15 14:09:36 commonName            :PRINTABLE:'www.example.com'
2013-07-15 14:09:36 Certificate is to be certified until Jul 15 14:09:36 2014 GMT (365 days)
2013-07-15 14:09:36 
2013-07-15 14:09:36 Write out database with 1 new entries
2013-07-15 14:09:36 Data Base Updated
2013-07-15 14:09:36 + sudo mkdir -p /var/cache/keystone
2013-07-15 14:09:36 + sudo chown ubuntu /var/cache/keystone
2013-07-15 14:09:36 + rm -f '/var/cache/keystone/*'
2013-07-15 14:09:36 + start_keystone
2013-07-15 14:09:36 + local service_port=5000
2013-07-15 14:09:36 + is_service_enabled tls-proxy
2013-07-15 14:09:36 + services=tls-proxy
2013-07-15 14:09:36 + for service in '${services}'
2013-07-15 14:09:36 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-15 14:09:36 + [[ tls-proxy == \n\o\v\a ]]
2013-07-15 14:09:36 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:09:36 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:36 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:09:36 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:36 + [[ tls-proxy == \s\w\i\f\t ]]
2013-07-15 14:09:36 + [[ tls-proxy == s-* ]]
2013-07-15 14:09:36 + return 1
2013-07-15 14:09:36 + screen_it key 'cd /opt/stack/keystone && /opt/stack/keystone/bin/keystone-all --config-file /etc/keystone/keystone.conf --log-config /etc/keystone/logging.conf -d --debug'
2013-07-15 14:09:36 + SCREEN_NAME=stack
2013-07-15 14:09:36 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:09:36 ++ trueorfalse True True
2013-07-15 14:09:36 ++ local default=True
2013-07-15 14:09:36 ++ local testval=True
2013-07-15 14:09:36 ++ [[ -z True ]]
2013-07-15 14:09:36 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:09:36 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:09:36 ++ echo True
2013-07-15 14:09:36 ++ return
2013-07-15 14:09:36 + USE_SCREEN=True
2013-07-15 14:09:36 + is_service_enabled key
2013-07-15 14:09:36 + services=key
2013-07-15 14:09:36 + for service in '${services}'
2013-07-15 14:09:36 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,key, ]]
2013-07-15 14:09:36 + return 0
2013-07-15 14:09:36 + screen_rc key 'cd /opt/stack/keystone && /opt/stack/keystone/bin/keystone-all --config-file /etc/keystone/keystone.conf --log-config /etc/keystone/logging.conf -d --debug'
2013-07-15 14:09:36 + SCREEN_NAME=stack
2013-07-15 14:09:36 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:09:36 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:09:36 + grep key /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:09:36 ++ echo -ne '\015'
2013-07-15 14:09:36 + NL=$'\r'
2013-07-15 14:09:36 + echo 'screen -t key bash'
2013-07-15 14:09:36 + echo 'stuff "cd /opt/stack/keystone && /opt/stack/keystone/bin/keystone-all --config-file /etc/keystone/keystone.conf --log-config /etc/keystone/logging.conf -d --debug"'
2013-07-15 14:09:36 + [[ True = \T\r\u\e ]]
2013-07-15 14:09:36 + screen -S stack -X screen -t key
2013-07-15 14:09:36 + [[ -n '' ]]
2013-07-15 14:09:36 + sleep 1.5
2013-07-15 14:09:37 ++ echo -ne '\015'
2013-07-15 14:09:37 + NL=$'\r'
2013-07-15 14:09:37 + screen -S stack -p key -X stuff 'cd /opt/stack/keystone && /opt/stack/keystone/bin/keystone-all --config-file /etc/keystone/keystone.conf --log-config /etc/keystone/logging.conf -d --debug || touch "/opt/stack/status/stack/key.failure"'
2013-07-15 14:09:37 + echo 'Waiting for keystone to start...'
2013-07-15 14:09:37 Waiting for keystone to start...
2013-07-15 14:09:37 + timeout 60 sh -c 'while ! http_proxy= curl -s http://54.248.87.124:5000/v2.0/ >/dev/null; do sleep 1; done'
2013-07-15 14:09:38 + is_service_enabled tls-proxy
2013-07-15 14:09:38 + services=tls-proxy
2013-07-15 14:09:38 + for service in '${services}'
2013-07-15 14:09:38 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-15 14:09:38 + [[ tls-proxy == \n\o\v\a ]]
2013-07-15 14:09:39 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:09:39 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:39 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:09:39 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:39 + [[ tls-proxy == \s\w\i\f\t ]]
2013-07-15 14:09:39 + [[ tls-proxy == s-* ]]
2013-07-15 14:09:39 + return 1
2013-07-15 14:09:39 + SERVICE_ENDPOINT=http://54.248.87.124:35357/v2.0
2013-07-15 14:09:39 + is_service_enabled tls-proxy
2013-07-15 14:09:39 + services=tls-proxy
2013-07-15 14:09:39 + for service in '${services}'
2013-07-15 14:09:39 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-15 14:09:39 + [[ tls-proxy == \n\o\v\a ]]
2013-07-15 14:09:39 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:09:39 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:39 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:09:39 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:39 + [[ tls-proxy == \s\w\i\f\t ]]
2013-07-15 14:09:39 + [[ tls-proxy == s-* ]]
2013-07-15 14:09:39 + return 1
2013-07-15 14:09:39 + export OS_SERVICE_TOKEN=admin
2013-07-15 14:09:39 + OS_SERVICE_TOKEN=admin
2013-07-15 14:09:39 + export OS_SERVICE_ENDPOINT=http://54.248.87.124:35357/v2.0
2013-07-15 14:09:39 + OS_SERVICE_ENDPOINT=http://54.248.87.124:35357/v2.0
2013-07-15 14:09:39 + create_keystone_accounts
2013-07-15 14:09:39 ++ keystone tenant-create --name admin
2013-07-15 14:09:39 ++ get_field 2
2013-07-15 14:09:39 ++ read data
2013-07-15 14:09:39 ++ grep ' id '
2013-07-15 14:09:39 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:39 ++ field='$3'
2013-07-15 14:09:39 ++ echo '|      id     | 55002efcbf994d1bb432025e8f592fb6 |'
2013-07-15 14:09:39 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:39 ++ read data
2013-07-15 14:09:39 + ADMIN_TENANT=55002efcbf994d1bb432025e8f592fb6
2013-07-15 14:09:39 ++ keystone user-create --name admin --pass admin --email admin@example.com
2013-07-15 14:09:39 ++ grep ' id '
2013-07-15 14:09:39 ++ get_field 2
2013-07-15 14:09:39 ++ read data
2013-07-15 14:09:39 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:40 ++ field='$3'
2013-07-15 14:09:40 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:40 ++ echo '|    id    | 4df873bd7018476a88b72ea2033f4279 |'
2013-07-15 14:09:40 ++ read data
2013-07-15 14:09:40 + ADMIN_USER=4df873bd7018476a88b72ea2033f4279
2013-07-15 14:09:40 ++ grep ' id '
2013-07-15 14:09:40 ++ keystone role-create --name admin
2013-07-15 14:09:40 ++ get_field 2
2013-07-15 14:09:40 ++ read data
2013-07-15 14:09:40 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:40 ++ field='$3'
2013-07-15 14:09:40 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:40 ++ echo '|    id    | 6d941f4bbed84bfca65bbbbabf28a4cd |'
2013-07-15 14:09:40 ++ read data
2013-07-15 14:09:40 + ADMIN_ROLE=6d941f4bbed84bfca65bbbbabf28a4cd
2013-07-15 14:09:40 + keystone user-role-add --user_id 4df873bd7018476a88b72ea2033f4279 --role_id 6d941f4bbed84bfca65bbbbabf28a4cd --tenant_id 55002efcbf994d1bb432025e8f592fb6
2013-07-15 14:09:40 ++ keystone tenant-create --name service
2013-07-15 14:09:40 ++ get_field 2
2013-07-15 14:09:40 ++ read data
2013-07-15 14:09:40 ++ grep ' id '
2013-07-15 14:09:41 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:41 ++ field='$3'
2013-07-15 14:09:41 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:41 ++ echo '|      id     | fc0fc9a6868b4a33b1592eebb8f87189 |'
2013-07-15 14:09:41 ++ read data
2013-07-15 14:09:41 + SERVICE_TENANT=fc0fc9a6868b4a33b1592eebb8f87189
2013-07-15 14:09:41 ++ keystone role-create --name=Member
2013-07-15 14:09:41 ++ grep ' id '
2013-07-15 14:09:41 ++ get_field 2
2013-07-15 14:09:41 ++ read data
2013-07-15 14:09:41 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:41 ++ field='$3'
2013-07-15 14:09:41 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:41 ++ echo '|    id    | 6954745fd00744edb2f8c63d03b9f0d9 |'
2013-07-15 14:09:41 ++ read data
2013-07-15 14:09:41 + MEMBER_ROLE=6954745fd00744edb2f8c63d03b9f0d9
2013-07-15 14:09:41 ++ keystone role-create --name=anotherrole
2013-07-15 14:09:41 ++ grep ' id '
2013-07-15 14:09:41 ++ get_field 2
2013-07-15 14:09:41 ++ read data
2013-07-15 14:09:42 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:42 ++ field='$3'
2013-07-15 14:09:42 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:42 ++ echo '|    id    | d7bca0173a8545ab8a5250bb6a7488ae |'
2013-07-15 14:09:42 ++ read data
2013-07-15 14:09:42 + ANOTHER_ROLE=d7bca0173a8545ab8a5250bb6a7488ae
2013-07-15 14:09:42 ++ keystone tenant-create --name=invisible_to_admin
2013-07-15 14:09:42 ++ grep ' id '
2013-07-15 14:09:42 ++ get_field 2
2013-07-15 14:09:42 ++ read data
2013-07-15 14:09:42 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:42 ++ field='$3'
2013-07-15 14:09:42 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:42 ++ echo '|      id     | 242f471bd6254daf89db3f8a23f249cc |'
2013-07-15 14:09:42 ++ read data
2013-07-15 14:09:42 + INVIS_TENANT=242f471bd6254daf89db3f8a23f249cc
2013-07-15 14:09:42 ++ grep ' id '
2013-07-15 14:09:42 ++ get_field 2
2013-07-15 14:09:42 ++ read data
2013-07-15 14:09:42 ++ keystone tenant-create --name=demo
2013-07-15 14:09:43 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:43 ++ field='$3'
2013-07-15 14:09:43 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:43 ++ echo '|      id     | f5b85f13e4f94276af49163498d6c96a |'
2013-07-15 14:09:43 ++ read data
2013-07-15 14:09:43 + DEMO_TENANT=f5b85f13e4f94276af49163498d6c96a
2013-07-15 14:09:43 ++ keystone user-create --name demo --pass admin --email demo@example.com
2013-07-15 14:09:43 ++ grep ' id '
2013-07-15 14:09:43 ++ get_field 2
2013-07-15 14:09:43 ++ read data
2013-07-15 14:09:43 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:43 ++ field='$3'
2013-07-15 14:09:43 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:43 ++ echo '|    id    | 4b39b0db77454854844adaf263b4cc28 |'
2013-07-15 14:09:43 ++ read data
2013-07-15 14:09:43 + DEMO_USER=4b39b0db77454854844adaf263b4cc28
2013-07-15 14:09:43 + keystone user-role-add --user_id 4b39b0db77454854844adaf263b4cc28 --role_id 6954745fd00744edb2f8c63d03b9f0d9 --tenant_id f5b85f13e4f94276af49163498d6c96a
2013-07-15 14:09:43 + keystone user-role-add --user_id 4df873bd7018476a88b72ea2033f4279 --role_id 6d941f4bbed84bfca65bbbbabf28a4cd --tenant_id f5b85f13e4f94276af49163498d6c96a
2013-07-15 14:09:44 + keystone user-role-add --user_id 4b39b0db77454854844adaf263b4cc28 --role_id d7bca0173a8545ab8a5250bb6a7488ae --tenant_id f5b85f13e4f94276af49163498d6c96a
2013-07-15 14:09:44 + keystone user-role-add --user_id 4b39b0db77454854844adaf263b4cc28 --role_id 6954745fd00744edb2f8c63d03b9f0d9 --tenant_id 242f471bd6254daf89db3f8a23f249cc
2013-07-15 14:09:45 + [[ sql = \s\q\l ]]
2013-07-15 14:09:45 ++ keystone service-create --name keystone --type identity --description 'Keystone Identity Service'
2013-07-15 14:09:45 ++ grep ' id '
2013-07-15 14:09:45 ++ get_field 2
2013-07-15 14:09:45 ++ read data
2013-07-15 14:09:45 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:45 ++ field='$3'
2013-07-15 14:09:45 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:45 ++ echo '|      id     | 1b6fcbb3f7ee4f51829e5b2ddefb6002 |'
2013-07-15 14:09:45 ++ read data
2013-07-15 14:09:45 + KEYSTONE_SERVICE=1b6fcbb3f7ee4f51829e5b2ddefb6002
2013-07-15 14:09:45 + keystone endpoint-create --region RegionOne --service_id 1b6fcbb3f7ee4f51829e5b2ddefb6002 --publicurl http://54.248.87.124:5000/v2.0 --adminurl http://54.248.87.124:35357/v2.0 --internalurl http://54.248.87.124:5000/v2.0
2013-07-15 14:09:46 +-------------+----------------------------------+
2013-07-15 14:09:46 |   Property  |              Value               |
2013-07-15 14:09:46 +-------------+----------------------------------+
2013-07-15 14:09:46 |   adminurl  | http://54.248.87.124:35357/v2.0  |
2013-07-15 14:09:46 |      id     | 93039e4bbe9d443bb9fdd9348e9a460d |
2013-07-15 14:09:46 | internalurl |  http://54.248.87.124:5000/v2.0  |
2013-07-15 14:09:46 |  publicurl  |  http://54.248.87.124:5000/v2.0  |
2013-07-15 14:09:46 |    region   |            RegionOne             |
2013-07-15 14:09:46 |  service_id | 1b6fcbb3f7ee4f51829e5b2ddefb6002 |
2013-07-15 14:09:46 +-------------+----------------------------------+
2013-07-15 14:09:46 + create_nova_accounts
2013-07-15 14:09:46 ++ keystone tenant-list
2013-07-15 14:09:46 ++ awk '/ service / { print $2 }'
2013-07-15 14:09:46 + SERVICE_TENANT=fc0fc9a6868b4a33b1592eebb8f87189
2013-07-15 14:09:46 ++ awk '/ admin / { print $2 }'
2013-07-15 14:09:46 ++ keystone role-list
2013-07-15 14:09:47 + ADMIN_ROLE=6d941f4bbed84bfca65bbbbabf28a4cd
2013-07-15 14:09:47 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n-api ]]
2013-07-15 14:09:47 ++ keystone user-create --name=nova --pass=admin --tenant_id fc0fc9a6868b4a33b1592eebb8f87189 --email=nova@example.com
2013-07-15 14:09:47 ++ grep ' id '
2013-07-15 14:09:47 ++ get_field 2
2013-07-15 14:09:47 ++ read data
2013-07-15 14:09:47 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:47 ++ field='$3'
2013-07-15 14:09:47 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:47 ++ echo '|    id    | df403eeab5284a2286df6ff28475936a |'
2013-07-15 14:09:47 ++ read data
2013-07-15 14:09:47 + NOVA_USER=df403eeab5284a2286df6ff28475936a
2013-07-15 14:09:47 + keystone user-role-add --tenant_id fc0fc9a6868b4a33b1592eebb8f87189 --user_id df403eeab5284a2286df6ff28475936a --role_id 6d941f4bbed84bfca65bbbbabf28a4cd
2013-07-15 14:09:47 + [[ sql = \s\q\l ]]
2013-07-15 14:09:48 ++ grep ' id '
2013-07-15 14:09:48 ++ keystone service-create --name=nova --type=compute '--description=Nova Compute Service'
2013-07-15 14:09:48 ++ get_field 2
2013-07-15 14:09:48 ++ read data
2013-07-15 14:09:48 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:48 ++ field='$3'
2013-07-15 14:09:48 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:48 ++ echo '|      id     | 27a8e94e3fb141e8a1d16bc061e28200 |'
2013-07-15 14:09:48 ++ read data
2013-07-15 14:09:48 + NOVA_SERVICE=27a8e94e3fb141e8a1d16bc061e28200
2013-07-15 14:09:48 + keystone endpoint-create --region RegionOne --service_id 27a8e94e3fb141e8a1d16bc061e28200 --publicurl 'http://54.248.87.124:8774/v2/$(tenant_id)s' --adminurl 'http://54.248.87.124:8774/v2/$(tenant_id)s' --internalurl 'http://54.248.87.124:8774/v2/$(tenant_id)s'
2013-07-15 14:09:48 +-------------+--------------------------------------------+
2013-07-15 14:09:48 |   Property  |                   Value                    |
2013-07-15 14:09:48 +-------------+--------------------------------------------+
2013-07-15 14:09:48 |   adminurl  | http://54.248.87.124:8774/v2/$(tenant_id)s |
2013-07-15 14:09:48 |      id     |      c7eccc88872d4a40b5034eefdbc818e5      |
2013-07-15 14:09:48 | internalurl | http://54.248.87.124:8774/v2/$(tenant_id)s |
2013-07-15 14:09:48 |  publicurl  | http://54.248.87.124:8774/v2/$(tenant_id)s |
2013-07-15 14:09:48 |    region   |                 RegionOne                  |
2013-07-15 14:09:48 |  service_id |      27a8e94e3fb141e8a1d16bc061e28200      |
2013-07-15 14:09:48 +-------------+--------------------------------------------+
2013-07-15 14:09:48 + create_cinder_accounts
2013-07-15 14:09:48 ++ keystone tenant-list
2013-07-15 14:09:48 ++ awk '/ service / { print $2 }'
2013-07-15 14:09:49 + SERVICE_TENANT=fc0fc9a6868b4a33b1592eebb8f87189
2013-07-15 14:09:49 ++ awk '/ admin / { print $2 }'
2013-07-15 14:09:49 ++ keystone role-list
2013-07-15 14:09:49 + ADMIN_ROLE=6d941f4bbed84bfca65bbbbabf28a4cd
2013-07-15 14:09:49 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ c-api ]]
2013-07-15 14:09:49 ++ grep ' id '
2013-07-15 14:09:49 ++ get_field 2
2013-07-15 14:09:49 ++ read data
2013-07-15 14:09:49 ++ keystone user-create --name=cinder --pass=admin --tenant_id fc0fc9a6868b4a33b1592eebb8f87189 --email=cinder@example.com
2013-07-15 14:09:50 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:50 ++ field='$3'
2013-07-15 14:09:50 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:50 ++ echo '|    id    | 43839ded438c4891a73331528f954ed8 |'
2013-07-15 14:09:50 ++ read data
2013-07-15 14:09:50 + CINDER_USER=43839ded438c4891a73331528f954ed8
2013-07-15 14:09:50 + keystone user-role-add --tenant_id fc0fc9a6868b4a33b1592eebb8f87189 --user_id 43839ded438c4891a73331528f954ed8 --role_id 6d941f4bbed84bfca65bbbbabf28a4cd
2013-07-15 14:09:50 + [[ sql = \s\q\l ]]
2013-07-15 14:09:50 ++ keystone service-create --name=cinder --type=volume '--description=Cinder Volume Service'
2013-07-15 14:09:50 ++ get_field 2
2013-07-15 14:09:50 ++ read data
2013-07-15 14:09:50 ++ grep ' id '
2013-07-15 14:09:51 ++ '[' 2 -lt 0 ']'
2013-07-15 14:09:51 ++ field='$3'
2013-07-15 14:09:51 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:09:51 ++ echo '|      id     | bc5949023b0a47b48fb2681d61457d46 |'
2013-07-15 14:09:51 ++ read data
2013-07-15 14:09:51 + CINDER_SERVICE=bc5949023b0a47b48fb2681d61457d46
2013-07-15 14:09:51 + keystone endpoint-create --region RegionOne --service_id bc5949023b0a47b48fb2681d61457d46 --publicurl 'http://54.248.87.124:8776/v1/$(tenant_id)s' --adminurl 'http://54.248.87.124:8776/v1/$(tenant_id)s' --internalurl 'http://54.248.87.124:8776/v1/$(tenant_id)s'
2013-07-15 14:09:51 +-------------+--------------------------------------------+
2013-07-15 14:09:51 |   Property  |                   Value                    |
2013-07-15 14:09:51 +-------------+--------------------------------------------+
2013-07-15 14:09:51 |   adminurl  | http://54.248.87.124:8776/v1/$(tenant_id)s |
2013-07-15 14:09:51 |      id     |      7c4a583d66c54746938c7e7182fa53c8      |
2013-07-15 14:09:51 | internalurl | http://54.248.87.124:8776/v1/$(tenant_id)s |
2013-07-15 14:09:51 |  publicurl  | http://54.248.87.124:8776/v1/$(tenant_id)s |
2013-07-15 14:09:51 |    region   |                 RegionOne                  |
2013-07-15 14:09:51 |  service_id |      bc5949023b0a47b48fb2681d61457d46      |
2013-07-15 14:09:51 +-------------+--------------------------------------------+
2013-07-15 14:09:51 + create_quantum_accounts
2013-07-15 14:09:51 ++ keystone tenant-list
2013-07-15 14:09:51 ++ awk '/ service / { print $2 }'
2013-07-15 14:09:51 + SERVICE_TENANT=fc0fc9a6868b4a33b1592eebb8f87189
2013-07-15 14:09:51 ++ awk '/ admin / { print $2 }'
2013-07-15 14:09:51 ++ keystone role-list
2013-07-15 14:09:52 + ADMIN_ROLE=6d941f4bbed84bfca65bbbbabf28a4cd
2013-07-15 14:09:52 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q-svc ]]
2013-07-15 14:09:52 + ADMIN_PASSWORD=admin
2013-07-15 14:09:52 + SERVICE_TENANT_NAME=service
2013-07-15 14:09:52 + SERVICE_PASSWORD=admin
2013-07-15 14:09:52 + SERVICE_TOKEN=admin
2013-07-15 14:09:52 + SERVICE_ENDPOINT=http://54.248.87.124:35357/v2.0
2013-07-15 14:09:52 + SERVICE_HOST=54.248.87.124
2013-07-15 14:09:52 + S3_SERVICE_PORT=3333
2013-07-15 14:09:52 + KEYSTONE_CATALOG_BACKEND=sql
2013-07-15 14:09:52 + DEVSTACK_DIR=/home/ubuntu/devstack
2013-07-15 14:09:52 + ENABLED_SERVICES=g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql
2013-07-15 14:09:52 + HEAT_API_CFN_PORT=
2013-07-15 14:09:52 + HEAT_API_PORT=
2013-07-15 14:09:52 + bash -x /home/ubuntu/devstack/files/keystone_data.sh
2013-07-15 14:09:52 + ADMIN_PASSWORD=admin
2013-07-15 14:09:52 + SERVICE_PASSWORD=admin
2013-07-15 14:09:52 + export SERVICE_TOKEN=admin
2013-07-15 14:09:52 + SERVICE_TOKEN=admin
2013-07-15 14:09:52 + export SERVICE_ENDPOINT=http://54.248.87.124:35357/v2.0
2013-07-15 14:09:52 + SERVICE_ENDPOINT=http://54.248.87.124:35357/v2.0
2013-07-15 14:09:52 + SERVICE_TENANT_NAME=service
2013-07-15 14:09:52 ++ keystone tenant-list
2013-07-15 14:09:52 ++ awk '/ service / { print $2 }'
2013-07-15 14:09:52 + SERVICE_TENANT=fc0fc9a6868b4a33b1592eebb8f87189
2013-07-15 14:09:52 ++ awk '/ admin / { print $2 }'
2013-07-15 14:09:52 ++ keystone role-list
2013-07-15 14:09:53 + ADMIN_ROLE=6d941f4bbed84bfca65bbbbabf28a4cd
2013-07-15 14:09:53 ++ awk '/ Member / { print $2 }'
2013-07-15 14:09:53 ++ keystone role-list
2013-07-15 14:09:53 + MEMBER_ROLE=6954745fd00744edb2f8c63d03b9f0d9
2013-07-15 14:09:53 ++ get_id keystone role-create --name=ResellerAdmin
2013-07-15 14:09:53 +++ keystone role-create --name=ResellerAdmin
2013-07-15 14:09:53 +++ awk '/ id / { print $4 }'
2013-07-15 14:09:54 ++ echo 3a92f670a3ca48479628d9ea1c1c18d3
2013-07-15 14:09:54 + RESELLER_ROLE=3a92f670a3ca48479628d9ea1c1c18d3
2013-07-15 14:09:54 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n-api ]]
2013-07-15 14:09:54 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ s-proxy ]]
2013-07-15 14:09:54 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ swift ]]
2013-07-15 14:09:54 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ heat ]]
2013-07-15 14:09:54 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ g-api ]]
2013-07-15 14:09:54 ++ get_id keystone user-create --name=glance --pass=admin --tenant_id fc0fc9a6868b4a33b1592eebb8f87189 --email=glance@example.com
2013-07-15 14:09:54 +++ keystone user-create --name=glance --pass=admin --tenant_id fc0fc9a6868b4a33b1592eebb8f87189 --email=glance@example.com
2013-07-15 14:09:54 +++ awk '/ id / { print $4 }'
2013-07-15 14:09:54 ++ echo 37846a053d224995b19416d60b37f907
2013-07-15 14:09:54 + GLANCE_USER=37846a053d224995b19416d60b37f907
2013-07-15 14:09:54 + keystone user-role-add --tenant_id fc0fc9a6868b4a33b1592eebb8f87189 --user_id 37846a053d224995b19416d60b37f907 --role_id 6d941f4bbed84bfca65bbbbabf28a4cd
2013-07-15 14:09:55 + [[ sql = \s\q\l ]]
2013-07-15 14:09:55 ++ get_id keystone service-create --name=glance --type=image '--description=Glance Image Service'
2013-07-15 14:09:55 +++ keystone service-create --name=glance --type=image '--description=Glance Image Service'
2013-07-15 14:09:55 +++ awk '/ id / { print $4 }'
2013-07-15 14:09:55 ++ echo cb7719c354934a668012bc29ab60024a
2013-07-15 14:09:55 + GLANCE_SERVICE=cb7719c354934a668012bc29ab60024a
2013-07-15 14:09:55 + keystone endpoint-create --region RegionOne --service_id cb7719c354934a668012bc29ab60024a --publicurl http://54.248.87.124:9292 --adminurl http://54.248.87.124:9292 --internalurl http://54.248.87.124:9292
2013-07-15 14:09:55 +-------------+----------------------------------+
2013-07-15 14:09:55 |   Property  |              Value               |
2013-07-15 14:09:55 +-------------+----------------------------------+
2013-07-15 14:09:55 |   adminurl  |    http://54.248.87.124:9292     |
2013-07-15 14:09:55 |      id     | 404df4ee9c024117b7fcb73ec8cfb1ca |
2013-07-15 14:09:55 | internalurl |    http://54.248.87.124:9292     |
2013-07-15 14:09:55 |  publicurl  |    http://54.248.87.124:9292     |
2013-07-15 14:09:55 |    region   |            RegionOne             |
2013-07-15 14:09:55 |  service_id | cb7719c354934a668012bc29ab60024a |
2013-07-15 14:09:55 +-------------+----------------------------------+
2013-07-15 14:09:55 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ swift ]]
2013-07-15 14:09:55 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ s-proxy ]]
2013-07-15 14:09:55 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ ceilometer ]]
2013-07-15 14:09:56 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n-api ]]
2013-07-15 14:09:56 + [[ sql = \s\q\l ]]
2013-07-15 14:09:56 ++ get_id keystone service-create --name=ec2 --type=ec2 '--description=EC2 Compatibility Layer'
2013-07-15 14:09:56 +++ awk '/ id / { print $4 }'
2013-07-15 14:09:56 +++ keystone service-create --name=ec2 --type=ec2 '--description=EC2 Compatibility Layer'
2013-07-15 14:09:56 ++ echo 2640390e753a4754a48066e22b413a57
2013-07-15 14:09:56 + EC2_SERVICE=2640390e753a4754a48066e22b413a57
2013-07-15 14:09:56 + keystone endpoint-create --region RegionOne --service_id 2640390e753a4754a48066e22b413a57 --publicurl http://54.248.87.124:8773/services/Cloud --adminurl http://54.248.87.124:8773/services/Admin --internalurl http://54.248.87.124:8773/services/Cloud
2013-07-15 14:09:56 +-------------+------------------------------------------+
2013-07-15 14:09:56 |   Property  |                  Value                   |
2013-07-15 14:09:56 +-------------+------------------------------------------+
2013-07-15 14:09:56 |   adminurl  | http://54.248.87.124:8773/services/Admin |
2013-07-15 14:09:56 |      id     |     13f9f2b4934546f3abc1795a1566faaa     |
2013-07-15 14:09:56 | internalurl | http://54.248.87.124:8773/services/Cloud |
2013-07-15 14:09:56 |  publicurl  | http://54.248.87.124:8773/services/Cloud |
2013-07-15 14:09:56 |    region   |                RegionOne                 |
2013-07-15 14:09:56 |  service_id |     2640390e753a4754a48066e22b413a57     |
2013-07-15 14:09:56 +-------------+------------------------------------------+
2013-07-15 14:09:57 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n-obj ]]
2013-07-15 14:09:57 + [[ sql = \s\q\l ]]
2013-07-15 14:09:57 ++ get_id keystone service-create --name=s3 --type=s3 --description=S3
2013-07-15 14:09:57 +++ awk '/ id / { print $4 }'
2013-07-15 14:09:57 +++ keystone service-create --name=s3 --type=s3 --description=S3
2013-07-15 14:09:57 ++ echo 50562ff449164c1383479dcc7e7b9e99
2013-07-15 14:09:57 + S3_SERVICE=50562ff449164c1383479dcc7e7b9e99
2013-07-15 14:09:57 + keystone endpoint-create --region RegionOne --service_id 50562ff449164c1383479dcc7e7b9e99 --publicurl http://54.248.87.124:3333 --adminurl http://54.248.87.124:3333 --internalurl http://54.248.87.124:3333
2013-07-15 14:09:57 +-------------+----------------------------------+
2013-07-15 14:09:57 |   Property  |              Value               |
2013-07-15 14:09:57 +-------------+----------------------------------+
2013-07-15 14:09:57 |   adminurl  |    http://54.248.87.124:3333     |
2013-07-15 14:09:57 |      id     | 2781f3a84544490ab09be1e772ed0f04 |
2013-07-15 14:09:57 | internalurl |    http://54.248.87.124:3333     |
2013-07-15 14:09:57 |  publicurl  |    http://54.248.87.124:3333     |
2013-07-15 14:09:57 |    region   |            RegionOne             |
2013-07-15 14:09:57 |  service_id | 50562ff449164c1383479dcc7e7b9e99 |
2013-07-15 14:09:57 +-------------+----------------------------------+
2013-07-15 14:09:57 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ tempest ]]
2013-07-15 14:09:57 ++ get_id keystone tenant-create --name=alt_demo
2013-07-15 14:09:57 +++ keystone tenant-create --name=alt_demo
2013-07-15 14:09:57 +++ awk '/ id / { print $4 }'
2013-07-15 14:09:58 ++ echo f2d8fc4b00ec486998f1a85cc5bb837d
2013-07-15 14:09:58 + ALT_DEMO_TENANT=f2d8fc4b00ec486998f1a85cc5bb837d
2013-07-15 14:09:58 ++ get_id keystone user-create --name=alt_demo --pass=admin --email=alt_demo@example.com
2013-07-15 14:09:58 +++ awk '/ id / { print $4 }'
2013-07-15 14:09:58 +++ keystone user-create --name=alt_demo --pass=admin --email=alt_demo@example.com
2013-07-15 14:09:58 ++ echo 13ccf32f1bda4778832b4c63e446d3c4
2013-07-15 14:09:58 + ALT_DEMO_USER=13ccf32f1bda4778832b4c63e446d3c4
2013-07-15 14:09:58 + keystone user-role-add --tenant_id f2d8fc4b00ec486998f1a85cc5bb837d --user_id 13ccf32f1bda4778832b4c63e446d3c4 --role_id 6954745fd00744edb2f8c63d03b9f0d9
2013-07-15 14:09:59 + export OS_AUTH_URL=http://54.248.87.124:35357/v2.0
2013-07-15 14:09:59 + OS_AUTH_URL=http://54.248.87.124:35357/v2.0
2013-07-15 14:09:59 + export OS_TENANT_NAME=admin
2013-07-15 14:09:59 + OS_TENANT_NAME=admin
2013-07-15 14:09:59 + export OS_USERNAME=admin
2013-07-15 14:09:59 + OS_USERNAME=admin
2013-07-15 14:09:59 + export OS_PASSWORD=admin
2013-07-15 14:09:59 + OS_PASSWORD=admin
2013-07-15 14:09:59 + unset OS_SERVICE_TOKEN OS_SERVICE_ENDPOINT
2013-07-15 14:09:59 + is_service_enabled horizon
2013-07-15 14:09:59 + services=horizon
2013-07-15 14:09:59 + for service in '${services}'
2013-07-15 14:09:59 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,horizon, ]]
2013-07-15 14:09:59 + return 0
2013-07-15 14:09:59 + echo_summary 'Configuring and starting Horizon'
2013-07-15 14:09:59 + [[ -t 3 ]]
2013-07-15 14:09:59 + [[ True != \T\r\u\e ]]
2013-07-15 14:09:59 + echo -e Configuring and starting Horizon
2013-07-15 14:09:59 + init_horizon
2013-07-15 14:09:59 + rm -f /opt/stack/horizon/openstack_dashboard/local/dashboard_openstack.sqlite3
2013-07-15 14:09:59 Configuring and starting Horizon
2013-07-15 14:09:59 + local_settings=/opt/stack/horizon/openstack_dashboard/local/local_settings.py
2013-07-15 14:09:59 + cp /opt/stack/horizon/openstack_dashboard/local/local_settings.py.example /opt/stack/horizon/openstack_dashboard/local/local_settings.py
2013-07-15 14:09:59 + is_service_enabled q-lbaas
2013-07-15 14:09:59 + services=q-lbaas
2013-07-15 14:09:59 + for service in '${services}'
2013-07-15 14:09:59 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,q-lbaas, ]]
2013-07-15 14:09:59 + [[ q-lbaas == \n\o\v\a ]]
2013-07-15 14:09:59 + [[ q-lbaas == \c\i\n\d\e\r ]]
2013-07-15 14:09:59 + [[ q-lbaas == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:09:59 + [[ q-lbaas == \g\l\a\n\c\e ]]
2013-07-15 14:09:59 + [[ q-lbaas == \q\u\a\n\t\u\m ]]
2013-07-15 14:09:59 + [[ q-lbaas == \s\w\i\f\t ]]
2013-07-15 14:09:59 + [[ q-lbaas == s-* ]]
2013-07-15 14:09:59 + return 1
2013-07-15 14:09:59 + cd /opt/stack/horizon
2013-07-15 14:09:59 + python manage.py syncdb --noinput
2013-07-15 14:10:00 Traceback (most recent call last):
2013-07-15 14:10:00   File "manage.py", line 11, in <module>
2013-07-15 14:10:00     execute_from_command_line(sys.argv)
2013-07-15 14:10:00   File "/usr/local/lib/python2.7/dist-packages/django/core/management/__init__.py", line 443, in execute_from_command_line
2013-07-15 14:10:00     utility.execute()
2013-07-15 14:10:00   File "/usr/local/lib/python2.7/dist-packages/django/core/management/__init__.py", line 382, in execute
2013-07-15 14:10:00     self.fetch_command(subcommand).run_from_argv(self.argv)
2013-07-15 14:10:00   File "/usr/local/lib/python2.7/dist-packages/django/core/management/base.py", line 196, in run_from_argv
2013-07-15 14:10:00     self.execute(*args, **options.__dict__)
2013-07-15 14:10:00   File "/usr/local/lib/python2.7/dist-packages/django/core/management/base.py", line 232, in execute
2013-07-15 14:10:00     output = self.handle(*args, **options)
2013-07-15 14:10:00   File "/usr/local/lib/python2.7/dist-packages/django/core/management/base.py", line 371, in handle
2013-07-15 14:10:00     return self.handle_noargs(**options)
2013-07-15 14:10:00   File "/usr/local/lib/python2.7/dist-packages/django/core/management/commands/syncdb.py", line 57, in handle_noargs
2013-07-15 14:10:00     cursor = connection.cursor()
2013-07-15 14:10:00   File "/usr/local/lib/python2.7/dist-packages/django/db/backends/dummy/base.py", line 15, in complain
2013-07-15 14:10:00     raise ImproperlyConfigured("settings.DATABASES is improperly configured. "
2013-07-15 14:10:00 django.core.exceptions.ImproperlyConfigured: settings.DATABASES is improperly configured. Please supply the ENGINE value. Check settings documentation for more details.
2013-07-15 14:10:00 + cd /home/ubuntu/devstack
2013-07-15 14:10:00 + sudo mkdir -p /opt/stack/horizon/.blackhole
2013-07-15 14:10:00 + is_ubuntu
2013-07-15 14:10:00 + [[ -z deb ]]
2013-07-15 14:10:00 + '[' deb = deb ']'
2013-07-15 14:10:00 + APACHE_NAME=apache2
2013-07-15 14:10:00 + APACHE_CONF=sites-available/horizon
2013-07-15 14:10:00 + sudo rm -f /etc/apache2/sites-enabled/000-default
2013-07-15 14:10:00 + sudo touch /etc/apache2/sites-available/horizon
2013-07-15 14:10:00 + sudo a2ensite horizon
2013-07-15 14:10:00 perl: warning: Setting locale failed.
2013-07-15 14:10:00 perl: warning: Please check that your locale settings:
2013-07-15 14:10:00 	LANGUAGE = (unset),
2013-07-15 14:10:00 	LC_ALL = (unset),
2013-07-15 14:10:00 	LC_PAPER = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_ADDRESS = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_MONETARY = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_NUMERIC = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_TELEPHONE = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_IDENTIFICATION = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_MEASUREMENT = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_TIME = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_NAME = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LANG = "en_US.UTF-8"
2013-07-15 14:10:00     are supported and installed on your system.
2013-07-15 14:10:00 perl: warning: Falling back to the standard locale ("C").
2013-07-15 14:10:00 Site horizon already enabled
2013-07-15 14:10:00 + sudo a2enmod wsgi
2013-07-15 14:10:00 perl: warning: Setting locale failed.
2013-07-15 14:10:00 perl: warning: Please check that your locale settings:
2013-07-15 14:10:00 	LANGUAGE = (unset),
2013-07-15 14:10:00 	LC_ALL = (unset),
2013-07-15 14:10:00 	LC_PAPER = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_ADDRESS = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_MONETARY = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_NUMERIC = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_TELEPHONE = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_IDENTIFICATION = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_MEASUREMENT = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_TIME = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LC_NAME = "ja_JP.UTF-8",
2013-07-15 14:10:00 	LANG = "en_US.UTF-8"
2013-07-15 14:10:00     are supported and installed on your system.
2013-07-15 14:10:00 perl: warning: Falling back to the standard locale ("C").
2013-07-15 14:10:00 Module wsgi already enabled
2013-07-15 14:10:00 + sudo sh -c 'sed -e "
2013-07-15 14:10:00         s,%USER%,ubuntu,g;
2013-07-15 14:10:00         s,%GROUP%,ubuntu,g;
2013-07-15 14:10:00         s,%HORIZON_DIR%,/opt/stack/horizon,g;
2013-07-15 14:10:00         s,%APACHE_NAME%,apache2,g;
2013-07-15 14:10:00         s,%DEST%,/opt/stack,g;
2013-07-15 14:10:00     " /home/ubuntu/devstack/files/apache-horizon.template >/etc/apache2/sites-available/horizon'
2013-07-15 14:10:00 + start_horizon
2013-07-15 14:10:00 + restart_service apache2
2013-07-15 14:10:00 + is_ubuntu
2013-07-15 14:10:00 + [[ -z deb ]]
2013-07-15 14:10:00 + '[' deb = deb ']'
2013-07-15 14:10:00 + sudo /usr/sbin/service apache2 restart
2013-07-15 14:10:00  * Restarting web server apache2
2013-07-15 14:10:01  ... waiting    ...done.
2013-07-15 14:10:01 + screen_it horizon 'cd /opt/stack/horizon && sudo tail -f /var/log/apache2/horizon_error.log'
2013-07-15 14:10:01 + SCREEN_NAME=stack
2013-07-15 14:10:01 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:01 ++ trueorfalse True True
2013-07-15 14:10:01 ++ local default=True
2013-07-15 14:10:01 ++ local testval=True
2013-07-15 14:10:01 ++ [[ -z True ]]
2013-07-15 14:10:01 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:01 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:01 ++ echo True
2013-07-15 14:10:01 ++ return
2013-07-15 14:10:01 + USE_SCREEN=True
2013-07-15 14:10:01 + is_service_enabled horizon
2013-07-15 14:10:01 + services=horizon
2013-07-15 14:10:01 + for service in '${services}'
2013-07-15 14:10:01 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,horizon, ]]
2013-07-15 14:10:01 + return 0
2013-07-15 14:10:01 + screen_rc horizon 'cd /opt/stack/horizon && sudo tail -f /var/log/apache2/horizon_error.log'
2013-07-15 14:10:01 + SCREEN_NAME=stack
2013-07-15 14:10:01 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:01 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:01 + grep horizon /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:01 ++ echo -ne '\015'
2013-07-15 14:10:01 + NL=$'\r'
2013-07-15 14:10:01 + echo 'screen -t horizon bash'
2013-07-15 14:10:01 + echo 'stuff "cd /opt/stack/horizon && sudo tail -f /var/log/apache2/horizon_error.log"'
2013-07-15 14:10:01 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:01 + screen -S stack -X screen -t horizon
2013-07-15 14:10:01 + [[ -n '' ]]
2013-07-15 14:10:01 + sleep 1.5
2013-07-15 14:10:03 ++ echo -ne '\015'
2013-07-15 14:10:03 + NL=$'\r'
2013-07-15 14:10:03 + screen -S stack -p horizon -X stuff 'cd /opt/stack/horizon && sudo tail -f /var/log/apache2/horizon_error.log || touch "/opt/stack/status/stack/horizon.failure"'
2013-07-15 14:10:03 + is_service_enabled g-reg
2013-07-15 14:10:03 + services=g-reg
2013-07-15 14:10:03 + for service in '${services}'
2013-07-15 14:10:03 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,g-reg, ]]
2013-07-15 14:10:03 + return 0
2013-07-15 14:10:03 + echo_summary 'Configuring Glance'
2013-07-15 14:10:03 + [[ -t 3 ]]
2013-07-15 14:10:03 + [[ True != \T\r\u\e ]]
2013-07-15 14:10:03 + echo -e Configuring Glance
2013-07-15 14:10:03 + init_glance
2013-07-15 14:10:03 + rm -rf /opt/stack/data/glance/images
2013-07-15 14:10:03 Configuring Glance
2013-07-15 14:10:03 + mkdir -p /opt/stack/data/glance/images
2013-07-15 14:10:03 + rm -rf /opt/stack/data/glance/cache
2013-07-15 14:10:03 + mkdir -p /opt/stack/data/glance/cache
2013-07-15 14:10:03 + recreate_database glance utf8
2013-07-15 14:10:03 + local db=glance
2013-07-15 14:10:03 + local charset=utf8
2013-07-15 14:10:03 + recreate_database_mysql glance utf8
2013-07-15 14:10:03 + local db=glance
2013-07-15 14:10:03 + local charset=utf8
2013-07-15 14:10:03 + mysql -uroot -padmin -e 'DROP DATABASE IF EXISTS glance;'
2013-07-15 14:10:03 + mysql -uroot -padmin -e 'CREATE DATABASE glance CHARACTER SET utf8;'
2013-07-15 14:10:03 + /opt/stack/glance/bin/glance-manage db_sync
2013-07-15 14:10:03 2013-07-15 14:10:03.884 21396 INFO glance.db.sqlalchemy.migration [-] Upgrading database to version latest
2013-07-15 14:10:03 2013-07-15 14:10:03.906 21396 INFO glance.db.sqlalchemy.migrate_repo.schema [-] creating table images
2013-07-15 14:10:04 2013-07-15 14:10:04.005 21396 INFO glance.db.sqlalchemy.migrate_repo.schema [-] creating table image_properties
2013-07-15 14:10:04 2013-07-15 14:10:04.326 21396 INFO glance.db.sqlalchemy.migrate_repo.schema [-] creating table image_members
2013-07-15 14:10:04 2013-07-15 14:10:04.949 21396 INFO glance.db.sqlalchemy.migrate_repo.schema [-] creating table image_tags
2013-07-15 14:10:05 2013-07-15 14:10:05.181 21396 INFO glance.db.sqlalchemy.migrate_repo.schema [-] creating table image_locations
2013-07-15 14:10:05 + create_glance_cache_dir
2013-07-15 14:10:05 + sudo mkdir -p /var/cache/glance/api
2013-07-15 14:10:05 + sudo chown ubuntu /var/cache/glance/api
2013-07-15 14:10:05 + rm -f /var/cache/glance/api/cacert.pem /var/cache/glance/api/revoked.pem /var/cache/glance/api/signing_cert.pem
2013-07-15 14:10:05 + sudo mkdir -p /var/cache/glance/registry
2013-07-15 14:10:05 + sudo chown ubuntu /var/cache/glance/registry
2013-07-15 14:10:05 + rm -f /var/cache/glance/registry/cacert.pem /var/cache/glance/registry/revoked.pem /var/cache/glance/registry/signing_cert.pem
2013-07-15 14:10:05 + is_service_enabled quantum
2013-07-15 14:10:05 + services=quantum
2013-07-15 14:10:05 + for service in '${services}'
2013-07-15 14:10:05 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-15 14:10:05 + [[ quantum == \n\o\v\a ]]
2013-07-15 14:10:05 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-15 14:10:05 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:05 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-15 14:10:05 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:05 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-15 14:10:05 + [[ quantum == \s\w\i\f\t ]]
2013-07-15 14:10:05 + [[ quantum == s-* ]]
2013-07-15 14:10:05 + return 1
2013-07-15 14:10:05 + is_service_enabled quantum
2013-07-15 14:10:05 + services=quantum
2013-07-15 14:10:05 + for service in '${services}'
2013-07-15 14:10:05 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-15 14:10:05 + [[ quantum == \n\o\v\a ]]
2013-07-15 14:10:05 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-15 14:10:05 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:05 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-15 14:10:05 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:05 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-15 14:10:05 + [[ quantum == \s\w\i\f\t ]]
2013-07-15 14:10:05 + [[ quantum == s-* ]]
2013-07-15 14:10:05 + return 1
2013-07-15 14:10:05 + is_service_enabled nova
2013-07-15 14:10:05 + services=nova
2013-07-15 14:10:05 + for service in '${services}'
2013-07-15 14:10:05 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-15 14:10:05 + [[ nova == \n\o\v\a ]]
2013-07-15 14:10:05 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-15 14:10:05 + return 0
2013-07-15 14:10:05 + echo_summary 'Configuring Nova'
2013-07-15 14:10:05 + [[ -t 3 ]]
2013-07-15 14:10:05 + [[ True != \T\r\u\e ]]
2013-07-15 14:10:05 + echo -e Configuring Nova
2013-07-15 14:10:05 + configure_nova
2013-07-15 14:10:05 + [[ ! -d /etc/nova ]]
2013-07-15 14:10:05 + sudo chown ubuntu /etc/nova
2013-07-15 14:10:05 Configuring Nova
2013-07-15 14:10:05 + cp -p /opt/stack/nova/etc/nova/policy.json /etc/nova
2013-07-15 14:10:05 + configure_nova_rootwrap
2013-07-15 14:10:05 + [[ -d /etc/nova/rootwrap.d ]]
2013-07-15 14:10:05 + sudo rm -rf /etc/nova/rootwrap.d
2013-07-15 14:10:05 + sudo mkdir -m 755 /etc/nova/rootwrap.d
2013-07-15 14:10:05 + sudo cp /opt/stack/nova/etc/nova/rootwrap.d/api-metadata.filters /opt/stack/nova/etc/nova/rootwrap.d/baremetal-compute-ipmi.filters /opt/stack/nova/etc/nova/rootwrap.d/baremetal-deploy-helper.filters /opt/stack/nova/etc/nova/rootwrap.d/compute.filters /opt/stack/nova/etc/nova/rootwrap.d/network.filters /etc/nova/rootwrap.d
2013-07-15 14:10:05 + sudo chown -R root:root /etc/nova/rootwrap.d
2013-07-15 14:10:05 + sudo chmod 644 /etc/nova/rootwrap.d/api-metadata.filters /etc/nova/rootwrap.d/baremetal-compute-ipmi.filters /etc/nova/rootwrap.d/baremetal-deploy-helper.filters /etc/nova/rootwrap.d/compute.filters /etc/nova/rootwrap.d/network.filters
2013-07-15 14:10:05 + sudo cp /opt/stack/nova/etc/nova/rootwrap.conf /etc/nova/
2013-07-15 14:10:05 + sudo sed -e 's:^filters_path=.*$:filters_path=/etc/nova/rootwrap.d:' -i /etc/nova/rootwrap.conf
2013-07-15 14:10:05 + sudo chown root:root /etc/nova/rootwrap.conf
2013-07-15 14:10:05 + sudo chmod 0644 /etc/nova/rootwrap.conf
2013-07-15 14:10:05 + ROOTWRAP_SUDOER_CMD='/usr/local/bin/nova-rootwrap /etc/nova/rootwrap.conf *'
2013-07-15 14:10:05 ++ mktemp
2013-07-15 14:10:05 + TEMPFILE=/tmp/tmp.MtrhPANKl9
2013-07-15 14:10:05 + echo 'ubuntu ALL=(root) NOPASSWD: /usr/local/bin/nova-rootwrap /etc/nova/rootwrap.conf *'
2013-07-15 14:10:05 + chmod 0440 /tmp/tmp.MtrhPANKl9
2013-07-15 14:10:05 + sudo chown root:root /tmp/tmp.MtrhPANKl9
2013-07-15 14:10:05 + sudo mv /tmp/tmp.MtrhPANKl9 /etc/sudoers.d/nova-rootwrap
2013-07-15 14:10:05 + is_service_enabled n-api
2013-07-15 14:10:05 + services=n-api
2013-07-15 14:10:05 + for service in '${services}'
2013-07-15 14:10:05 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-api, ]]
2013-07-15 14:10:05 + return 0
2013-07-15 14:10:05 + rm -f /opt/stack/nova/bin/nova-api-paste.ini
2013-07-15 14:10:05 + cp /opt/stack/nova/etc/nova/api-paste.ini /etc/nova
2013-07-15 14:10:05 + iniset /etc/nova/api-paste.ini filter:authtoken auth_host 54.248.87.124
2013-07-15 14:10:05 + local file=/etc/nova/api-paste.ini
2013-07-15 14:10:05 + local section=filter:authtoken
2013-07-15 14:10:05 + local option=auth_host
2013-07-15 14:10:05 + local value=54.248.87.124
2013-07-15 14:10:05 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-15 14:10:05 + ini_has_option /etc/nova/api-paste.ini filter:authtoken auth_host
2013-07-15 14:10:05 + local file=/etc/nova/api-paste.ini
2013-07-15 14:10:05 + local section=filter:authtoken
2013-07-15 14:10:05 + local option=auth_host
2013-07-15 14:10:05 + local line
2013-07-15 14:10:05 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^auth_host[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-15 14:10:05 + line='auth_host = 127.0.0.1'
2013-07-15 14:10:05 + '[' -n 'auth_host = 127.0.0.1' ']'
2013-07-15 14:10:05 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(auth_host[ \t]*=[ \t]*\).*$|\154.248.87.124|' /etc/nova/api-paste.ini
2013-07-15 14:10:05 + is_service_enabled tls-proxy
2013-07-15 14:10:05 + services=tls-proxy
2013-07-15 14:10:05 + for service in '${services}'
2013-07-15 14:10:05 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-15 14:10:05 + [[ tls-proxy == \n\o\v\a ]]
2013-07-15 14:10:05 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:10:05 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:06 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:10:06 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:06 + [[ tls-proxy == \s\w\i\f\t ]]
2013-07-15 14:10:06 + [[ tls-proxy == s-* ]]
2013-07-15 14:10:06 + return 1
2013-07-15 14:10:06 + iniset /etc/nova/api-paste.ini filter:authtoken admin_tenant_name service
2013-07-15 14:10:06 + local file=/etc/nova/api-paste.ini
2013-07-15 14:10:06 + local section=filter:authtoken
2013-07-15 14:10:06 + local option=admin_tenant_name
2013-07-15 14:10:06 + local value=service
2013-07-15 14:10:06 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-15 14:10:06 + ini_has_option /etc/nova/api-paste.ini filter:authtoken admin_tenant_name
2013-07-15 14:10:06 + local file=/etc/nova/api-paste.ini
2013-07-15 14:10:06 + local section=filter:authtoken
2013-07-15 14:10:06 + local option=admin_tenant_name
2013-07-15 14:10:06 + local line
2013-07-15 14:10:06 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_tenant_name[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-15 14:10:06 + line='admin_tenant_name = %SERVICE_TENANT_NAME%'
2013-07-15 14:10:06 + '[' -n 'admin_tenant_name = %SERVICE_TENANT_NAME%' ']'
2013-07-15 14:10:06 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_tenant_name[ \t]*=[ \t]*\).*$|\1service|' /etc/nova/api-paste.ini
2013-07-15 14:10:06 + iniset /etc/nova/api-paste.ini filter:authtoken admin_user nova
2013-07-15 14:10:06 + local file=/etc/nova/api-paste.ini
2013-07-15 14:10:06 + local section=filter:authtoken
2013-07-15 14:10:06 + local option=admin_user
2013-07-15 14:10:06 + local value=nova
2013-07-15 14:10:06 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-15 14:10:06 + ini_has_option /etc/nova/api-paste.ini filter:authtoken admin_user
2013-07-15 14:10:06 + local file=/etc/nova/api-paste.ini
2013-07-15 14:10:06 + local section=filter:authtoken
2013-07-15 14:10:06 + local option=admin_user
2013-07-15 14:10:06 + local line
2013-07-15 14:10:06 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_user[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-15 14:10:06 + line='admin_user = %SERVICE_USER%'
2013-07-15 14:10:06 + '[' -n 'admin_user = %SERVICE_USER%' ']'
2013-07-15 14:10:06 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_user[ \t]*=[ \t]*\).*$|\1nova|' /etc/nova/api-paste.ini
2013-07-15 14:10:06 + iniset /etc/nova/api-paste.ini filter:authtoken admin_password admin
2013-07-15 14:10:06 + local file=/etc/nova/api-paste.ini
2013-07-15 14:10:06 + local section=filter:authtoken
2013-07-15 14:10:06 + local option=admin_password
2013-07-15 14:10:06 + local value=admin
2013-07-15 14:10:06 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-15 14:10:06 + ini_has_option /etc/nova/api-paste.ini filter:authtoken admin_password
2013-07-15 14:10:06 + local file=/etc/nova/api-paste.ini
2013-07-15 14:10:06 + local section=filter:authtoken
2013-07-15 14:10:06 + local option=admin_password
2013-07-15 14:10:06 + local line
2013-07-15 14:10:06 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-15 14:10:06 + line='admin_password = %SERVICE_PASSWORD%'
2013-07-15 14:10:06 + '[' -n 'admin_password = %SERVICE_PASSWORD%' ']'
2013-07-15 14:10:06 + sed -i -e '/^\[filter:authtoken\]/,/^\[.*\]/ s|^\(admin_password[ \t]*=[ \t]*\).*$|\1admin|' /etc/nova/api-paste.ini
2013-07-15 14:10:06 + iniset /etc/nova/api-paste.ini filter:authtoken signing_dir /var/cache/nova
2013-07-15 14:10:06 + local file=/etc/nova/api-paste.ini
2013-07-15 14:10:06 + local section=filter:authtoken
2013-07-15 14:10:06 + local option=signing_dir
2013-07-15 14:10:06 + local value=/var/cache/nova
2013-07-15 14:10:06 + grep -q '^\[filter:authtoken\]' /etc/nova/api-paste.ini
2013-07-15 14:10:06 + ini_has_option /etc/nova/api-paste.ini filter:authtoken signing_dir
2013-07-15 14:10:06 + local file=/etc/nova/api-paste.ini
2013-07-15 14:10:06 + local section=filter:authtoken
2013-07-15 14:10:06 + local option=signing_dir
2013-07-15 14:10:06 + local line
2013-07-15 14:10:06 ++ sed -ne '/^\[filter:authtoken\]/,/^\[.*\]/ { /^signing_dir[ \t]*=/ p; }' /etc/nova/api-paste.ini
2013-07-15 14:10:06 + line=
2013-07-15 14:10:06 + '[' -n '' ']'
2013-07-15 14:10:06 + sed -i -e '/^\[filter:authtoken\]/ a\
2013-07-15 14:10:06 signing_dir = /var/cache/nova
2013-07-15 14:10:06 ' /etc/nova/api-paste.ini
2013-07-15 14:10:06 + is_service_enabled n-cpu
2013-07-15 14:10:06 + services=n-cpu
2013-07-15 14:10:06 + for service in '${services}'
2013-07-15 14:10:06 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cpu, ]]
2013-07-15 14:10:06 + return 0
2013-07-15 14:10:06 + sudo sysctl -w net.ipv4.ip_forward=1
2013-07-15 14:10:06 net.ipv4.ip_forward = 1
2013-07-15 14:10:06 + sudo modprobe nbd
2013-07-15 14:10:06 + [[ qemu == \k\v\m ]]
2013-07-15 14:10:06 + [[ qemu == \l\x\c ]]
2013-07-15 14:10:06 + is_baremetal
2013-07-15 14:10:06 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-15 14:10:06 + return 1
2013-07-15 14:10:06 + is_service_enabled quantum
2013-07-15 14:10:06 + services=quantum
2013-07-15 14:10:06 + for service in '${services}'
2013-07-15 14:10:06 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-15 14:10:06 + [[ quantum == \n\o\v\a ]]
2013-07-15 14:10:06 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-15 14:10:06 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:06 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-15 14:10:06 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:06 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-15 14:10:06 + [[ quantum == \s\w\i\f\t ]]
2013-07-15 14:10:06 + [[ quantum == s-* ]]
2013-07-15 14:10:06 + return 1
2013-07-15 14:10:06 + is_ubuntu
2013-07-15 14:10:06 + [[ -z deb ]]
2013-07-15 14:10:06 + '[' deb = deb ']'
2013-07-15 14:10:06 + LIBVIRT_DAEMON=libvirt-bin
2013-07-15 14:10:06 + is_fedora
2013-07-15 14:10:06 + [[ -z Ubuntu ]]
2013-07-15 14:10:06 + '[' Ubuntu = Fedora ']'
2013-07-15 14:10:06 + '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:10:06 + '[' Ubuntu = CentOS ']'
2013-07-15 14:10:06 + is_suse
2013-07-15 14:10:06 + [[ -z Ubuntu ]]
2013-07-15 14:10:06 + '[' Ubuntu = openSUSE ']'
2013-07-15 14:10:06 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-15 14:10:06 + getent group libvirtd
2013-07-15 14:10:06 + add_user_to_group ubuntu libvirtd
2013-07-15 14:10:06 + local user=ubuntu
2013-07-15 14:10:06 + local group=libvirtd
2013-07-15 14:10:06 + [[ -z Ubuntu ]]
2013-07-15 14:10:06 + is_suse
2013-07-15 14:10:06 + [[ -z Ubuntu ]]
2013-07-15 14:10:06 + '[' Ubuntu = openSUSE ']'
2013-07-15 14:10:06 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-15 14:10:06 + sudo usermod -a -G libvirtd ubuntu
2013-07-15 14:10:06 + restart_service libvirt-bin
2013-07-15 14:10:06 + is_ubuntu
2013-07-15 14:10:06 + [[ -z deb ]]
2013-07-15 14:10:06 + '[' deb = deb ']'
2013-07-15 14:10:06 + sudo /usr/sbin/service libvirt-bin restart
2013-07-15 14:10:06 libvirt-bin stop/waiting
2013-07-15 14:10:06 libvirt-bin start/running, process 21732
2013-07-15 14:10:06 + sudo mkdir -p /opt/stack/data/nova/instances
2013-07-15 14:10:06 + sudo chown -R ubuntu /opt/stack/data/nova/instances
2013-07-15 14:10:07 + '[' -L /dev/disk/by-label/nova-instances ']'
2013-07-15 14:10:07 + is_service_enabled n-net q-dhcp
2013-07-15 14:10:07 + services='n-net q-dhcp'
2013-07-15 14:10:07 + for service in '${services}'
2013-07-15 14:10:07 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-net, ]]
2013-07-15 14:10:07 + return 0
2013-07-15 14:10:07 ++ pidof NetworkManager
2013-07-15 14:10:07 ++ true
2013-07-15 14:10:07 + netman_pid=
2013-07-15 14:10:07 + '[' -z '' ']'
2013-07-15 14:10:07 + sudo killall dnsmasq
2013-07-15 14:10:07 + clean_iptables
2013-07-15 14:10:07 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-15 14:10:07 + awk '{print "sudo iptables",$0}'
2013-07-15 14:10:07 + sed s/-A/-D/g
2013-07-15 14:10:07 + grep '\-A'
2013-07-15 14:10:07 + bash
2013-07-15 14:10:07 + grep nova
2013-07-15 14:10:07 + sudo iptables -S -v
2013-07-15 14:10:07 + grep '\-A'
2013-07-15 14:10:07 + sed s/-A/-D/g
2013-07-15 14:10:07 + grep nova
2013-07-15 14:10:07 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-15 14:10:07 + bash
2013-07-15 14:10:07 + sudo iptables -S -v -t nat
2013-07-15 14:10:07 + awk '{print "sudo iptables -t nat",$0}'
2013-07-15 14:10:07 + sudo iptables -S -v
2013-07-15 14:10:07 + bash
2013-07-15 14:10:07 + awk '{print "sudo iptables",$0}'
2013-07-15 14:10:07 + sed s/-N/-X/g
2013-07-15 14:10:07 + grep '\-N'
2013-07-15 14:10:07 + grep nova
2013-07-15 14:10:07 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-15 14:10:07 + sudo iptables -S -v -t nat
2013-07-15 14:10:07 + awk '{print "sudo iptables -t nat",$0}'
2013-07-15 14:10:07 + sed 's/-c [0-9]* [0-9]* //g'
2013-07-15 14:10:07 + grep nova
2013-07-15 14:10:07 + bash
2013-07-15 14:10:07 + grep '\-N'
2013-07-15 14:10:07 + sed s/-N/-X/g
2013-07-15 14:10:07 + rm -rf /opt/stack/data/nova/networks
2013-07-15 14:10:07 + sudo mkdir -p /opt/stack/data/nova/networks
2013-07-15 14:10:07 + sudo chown -R ubuntu /opt/stack/data/nova/networks
2013-07-15 14:10:07 + sudo sysctl -w net.ipv4.ip_forward=1
2013-07-15 14:10:07 net.ipv4.ip_forward = 1
2013-07-15 14:10:07 + is_service_enabled s-proxy
2013-07-15 14:10:07 + services=s-proxy
2013-07-15 14:10:07 + for service in '${services}'
2013-07-15 14:10:07 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,s-proxy, ]]
2013-07-15 14:10:07 + [[ s-proxy == \n\o\v\a ]]
2013-07-15 14:10:07 + [[ s-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:10:07 + [[ s-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:07 + [[ s-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:10:07 + [[ s-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:07 + [[ s-proxy == \s\w\i\f\t ]]
2013-07-15 14:10:07 + [[ s-proxy == s-* ]]
2013-07-15 14:10:07 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ swift ]]
2013-07-15 14:10:07 + return 1
2013-07-15 14:10:07 + is_service_enabled cinder
2013-07-15 14:10:07 + services=cinder
2013-07-15 14:10:07 + for service in '${services}'
2013-07-15 14:10:07 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,cinder, ]]
2013-07-15 14:10:07 + return 0
2013-07-15 14:10:07 + echo_summary 'Configuring Cinder'
2013-07-15 14:10:07 + [[ -t 3 ]]
2013-07-15 14:10:07 + [[ True != \T\r\u\e ]]
2013-07-15 14:10:07 + echo -e Configuring Cinder
2013-07-15 14:10:07 Configuring Cinder
2013-07-15 14:10:07 + init_cinder
2013-07-15 14:10:07 ++ echo ec2,osapi_compute,metadata
2013-07-15 14:10:07 ++ sed s/osapi_volume,//
2013-07-15 14:10:07 + NOVA_ENABLED_APIS=ec2,osapi_compute,metadata
2013-07-15 14:10:07 + is_service_enabled mysql postgresql
2013-07-15 14:10:07 + services='mysql postgresql'
2013-07-15 14:10:07 + for service in '${services}'
2013-07-15 14:10:07 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,mysql, ]]
2013-07-15 14:10:07 + return 0
2013-07-15 14:10:07 + recreate_database cinder utf8
2013-07-15 14:10:07 + local db=cinder
2013-07-15 14:10:07 + local charset=utf8
2013-07-15 14:10:07 + recreate_database_mysql cinder utf8
2013-07-15 14:10:07 + local db=cinder
2013-07-15 14:10:07 + local charset=utf8
2013-07-15 14:10:07 + mysql -uroot -padmin -e 'DROP DATABASE IF EXISTS cinder;'
2013-07-15 14:10:07 + mysql -uroot -padmin -e 'CREATE DATABASE cinder CHARACTER SET utf8;'
2013-07-15 14:10:07 + /opt/stack/cinder/bin/cinder-manage db sync
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [cinder.utils] backend <module 'cinder.db.sqlalchemy.migration' from '/opt/stack/cinder/cinder/db/sqlalchemy/migration.pyc'>
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.repository] Loading repository /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo...
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/001_cinder_init.py...
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/001_cinder_init.py loaded successfully
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/002_quota_class.py...
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/002_quota_class.py loaded successfully
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/003_glance_metadata.py...
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/003_glance_metadata.py loaded successfully
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/004_volume_type_to_uuid.py...
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/004_volume_type_to_uuid.py loaded successfully
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/005_add_source_volume_column.py...
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/005_add_source_volume_column.py loaded successfully
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/005_sqlite_downgrade.sql...
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/005_sqlite_downgrade.sql loaded successfully
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/006_snapshots_add_provider_location.py...
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/006_snapshots_add_provider_location.py loaded successfully
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/007_sqlite_downgrade.sql...
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/007_sqlite_downgrade.sql loaded successfully
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/007_add_volume_snapshot_fk.py...
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/007_add_volume_snapshot_fk.py loaded successfully
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/008_add_backup.py...
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/008_add_backup.py loaded successfully
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Loading script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/009_add_snapshot_metadata_table.py...
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.script.base] Script /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo/versions/009_add_snapshot_metadata_table.py loaded successfully
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.repository] Repository /opt/stack/cinder/cinder/db/sqlalchemy/migrate_repo loaded successfully
2013-07-15 14:10:07 2013-07-15 14:10:07    DEBUG [migrate.versioning.repository] Config: OrderedDict([('db_settings', OrderedDict([('__name__', 'db_settings'), ('repository_id', 'cinder'), ('version_table', 'migrate_version'), ('required_dbs', '[]')]))])
2013-07-15 14:10:07 2013-07-15 14:10:07     INFO [migrate.versioning.api] 0 -> 1... 
2013-07-15 14:10:07 2013-07-15 14:10:07     INFO [migrate.versioning.api] done
2013-07-15 14:10:07 2013-07-15 14:10:07     INFO [migrate.versioning.api] 1 -> 2... 
2013-07-15 14:10:07 2013-07-15 14:10:07     INFO [migrate.versioning.api] done
2013-07-15 14:10:07 2013-07-15 14:10:07     INFO [migrate.versioning.api] 2 -> 3... 
2013-07-15 14:10:07 2013-07-15 14:10:07     INFO [migrate.versioning.api] done
2013-07-15 14:10:07 2013-07-15 14:10:07     INFO [migrate.versioning.api] 3 -> 4... 
2013-07-15 14:10:08 2013-07-15 14:10:08     INFO [004_volume_type_to_uuid] Created foreign key volume_type_extra_specs_ibfk_1
2013-07-15 14:10:08 2013-07-15 14:10:08     INFO [migrate.versioning.api] done
2013-07-15 14:10:08 2013-07-15 14:10:08     INFO [migrate.versioning.api] 4 -> 5... 
2013-07-15 14:10:08 2013-07-15 14:10:08     INFO [migrate.versioning.api] done
2013-07-15 14:10:08 2013-07-15 14:10:08     INFO [migrate.versioning.api] 5 -> 6... 
2013-07-15 14:10:08 2013-07-15 14:10:08     INFO [migrate.versioning.api] done
2013-07-15 14:10:08 2013-07-15 14:10:08     INFO [migrate.versioning.api] 6 -> 7... 
2013-07-15 14:10:08 2013-07-15 14:10:08     INFO [migrate.versioning.api] done
2013-07-15 14:10:08 2013-07-15 14:10:08     INFO [migrate.versioning.api] 7 -> 8... 
2013-07-15 14:10:08 2013-07-15 14:10:08     INFO [migrate.versioning.api] done
2013-07-15 14:10:08 2013-07-15 14:10:08     INFO [migrate.versioning.api] 8 -> 9... 
2013-07-15 14:10:08 2013-07-15 14:10:08     INFO [migrate.versioning.api] done
2013-07-15 14:10:08 + is_service_enabled c-vol
2013-07-15 14:10:08 + services=c-vol
2013-07-15 14:10:08 + for service in '${services}'
2013-07-15 14:10:08 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-vol, ]]
2013-07-15 14:10:08 + return 0
2013-07-15 14:10:08 + create_cinder_volume_group
2013-07-15 14:10:08 + sudo vgs stack-volumes
2013-07-15 14:10:08   Volume group "stack-volumes" not found
2013-07-15 14:10:08 + VOLUME_BACKING_FILE=/opt/stack/data/stack-volumes-backing-file
2013-07-15 14:10:08 + [[ -f /opt/stack/data/stack-volumes-backing-file ]]
2013-07-15 14:10:08 ++ sudo losetup -f --show /opt/stack/data/stack-volumes-backing-file
2013-07-15 14:10:08 + DEV=/dev/loop0
2013-07-15 14:10:08 + sudo vgs stack-volumes
2013-07-15 14:10:08   VG            #PV #LV #SN Attr   VSize VFree
2013-07-15 14:10:08   stack-volumes   1   0   0 wz--n- 5.01g 5.01g
2013-07-15 14:10:08 + '[' False = True ']'
2013-07-15 14:10:08 + mkdir -p /opt/stack/data/cinder/volumes
2013-07-15 14:10:08 + sudo vgs stack-volumes
2013-07-15 14:10:08   VG            #PV #LV #SN Attr   VSize VFree
2013-07-15 14:10:08   stack-volumes   1   0   0 wz--n- 5.01g 5.01g
2013-07-15 14:10:08 + is_fedora
2013-07-15 14:10:08 + [[ -z Ubuntu ]]
2013-07-15 14:10:08 + '[' Ubuntu = Fedora ']'
2013-07-15 14:10:08 + '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:10:08 + '[' Ubuntu = CentOS ']'
2013-07-15 14:10:08 + is_suse
2013-07-15 14:10:08 + [[ -z Ubuntu ]]
2013-07-15 14:10:08 + '[' Ubuntu = openSUSE ']'
2013-07-15 14:10:08 + '[' Ubuntu = 'SUSE LINUX' ']'
2013-07-15 14:10:08 + grep Target
2013-07-15 14:10:08 + cut -f3 -d ' '
2013-07-15 14:10:08 + grep volume-
2013-07-15 14:10:08 + sudo xargs -n1 tgt-admin --delete
2013-07-15 14:10:08 + sudo tgtadm --op show --mode target
2013-07-15 14:10:08 tgtadm: can't send the request to the tgt daemon, Transport endpoint is not connected
2013-07-15 14:10:08 perl: warning: Setting locale failed.
2013-07-15 14:10:08 perl: warning: Please check that your locale settings:
2013-07-15 14:10:08 	LANGUAGE = (unset),
2013-07-15 14:10:08 	LC_ALL = (unset),
2013-07-15 14:10:08 	LC_PAPER = "ja_JP.UTF-8",
2013-07-15 14:10:08 	LC_ADDRESS = "ja_JP.UTF-8",
2013-07-15 14:10:08 	LC_MONETARY = "ja_JP.UTF-8",
2013-07-15 14:10:08 	LC_NUMERIC = "ja_JP.UTF-8",
2013-07-15 14:10:08 	LC_TELEPHONE = "ja_JP.UTF-8",
2013-07-15 14:10:08 	LC_IDENTIFICATION = "ja_JP.UTF-8",
2013-07-15 14:10:08 	LC_MEASUREMENT = "ja_JP.UTF-8",
2013-07-15 14:10:08 	LC_TIME = "ja_JP.UTF-8",
2013-07-15 14:10:08 	LC_NAME = "ja_JP.UTF-8",
2013-07-15 14:10:08 	LANG = "en_US.UTF-8"
2013-07-15 14:10:08     are supported and installed on your system.
2013-07-15 14:10:08 perl: warning: Falling back to the standard locale ("C").
2013-07-15 14:10:08 Option delete requires an argument
2013-07-15 14:10:08 No action specified.
2013-07-15 14:10:08 + _clean_volume_group stack-volumes volume-
2013-07-15 14:10:08 + local vg=stack-volumes
2013-07-15 14:10:08 + local vg_prefix=volume-
2013-07-15 14:10:08 ++ sudo lvs --noheadings -o lv_name stack-volumes
2013-07-15 14:10:08 + '[' False = True ']'
2013-07-15 14:10:08 + create_cinder_cache_dir
2013-07-15 14:10:08 + sudo mkdir -p /var/cache/cinder
2013-07-15 14:10:08 + sudo chown ubuntu /var/cache/cinder
2013-07-15 14:10:08 + rm -f '/var/cache/cinder/*'
2013-07-15 14:10:08 + is_service_enabled nova
2013-07-15 14:10:08 + services=nova
2013-07-15 14:10:08 + for service in '${services}'
2013-07-15 14:10:08 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-15 14:10:08 + [[ nova == \n\o\v\a ]]
2013-07-15 14:10:08 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-15 14:10:08 + return 0
2013-07-15 14:10:08 + echo_summary 'Configuring Nova'
2013-07-15 14:10:08 + [[ -t 3 ]]
2013-07-15 14:10:08 + [[ True != \T\r\u\e ]]
2013-07-15 14:10:08 + echo -e Configuring Nova
2013-07-15 14:10:08 Configuring Nova
2013-07-15 14:10:08 + create_nova_conf
2013-07-15 14:10:08 + rm -f /opt/stack/nova/bin/nova.conf
2013-07-15 14:10:08 + rm -f /etc/nova/nova.conf
2013-07-15 14:10:08 + add_nova_opt '[DEFAULT]'
2013-07-15 14:10:08 + echo '[DEFAULT]'
2013-07-15 14:10:08 + iniset /etc/nova/nova.conf DEFAULT verbose True
2013-07-15 14:10:08 + local file=/etc/nova/nova.conf
2013-07-15 14:10:08 + local section=DEFAULT
2013-07-15 14:10:08 + local option=verbose
2013-07-15 14:10:08 + local value=True
2013-07-15 14:10:08 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:08 + ini_has_option /etc/nova/nova.conf DEFAULT verbose
2013-07-15 14:10:08 + local file=/etc/nova/nova.conf
2013-07-15 14:10:08 + local section=DEFAULT
2013-07-15 14:10:08 + local option=verbose
2013-07-15 14:10:08 + local line
2013-07-15 14:10:08 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^verbose[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:08 + line=
2013-07-15 14:10:08 + '[' -n '' ']'
2013-07-15 14:10:08 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:08 verbose = True
2013-07-15 14:10:08 ' /etc/nova/nova.conf
2013-07-15 14:10:08 + iniset /etc/nova/nova.conf DEFAULT debug True
2013-07-15 14:10:08 + local file=/etc/nova/nova.conf
2013-07-15 14:10:08 + local section=DEFAULT
2013-07-15 14:10:08 + local option=debug
2013-07-15 14:10:08 + local value=True
2013-07-15 14:10:08 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:08 + ini_has_option /etc/nova/nova.conf DEFAULT debug
2013-07-15 14:10:08 + local file=/etc/nova/nova.conf
2013-07-15 14:10:08 + local section=DEFAULT
2013-07-15 14:10:08 + local option=debug
2013-07-15 14:10:08 + local line
2013-07-15 14:10:08 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^debug[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:08 + line=
2013-07-15 14:10:08 + '[' -n '' ']'
2013-07-15 14:10:08 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:08 debug = True
2013-07-15 14:10:08 ' /etc/nova/nova.conf
2013-07-15 14:10:08 + iniset /etc/nova/nova.conf DEFAULT auth_strategy keystone
2013-07-15 14:10:08 + local file=/etc/nova/nova.conf
2013-07-15 14:10:08 + local section=DEFAULT
2013-07-15 14:10:09 + local option=auth_strategy
2013-07-15 14:10:09 + local value=keystone
2013-07-15 14:10:09 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:09 + ini_has_option /etc/nova/nova.conf DEFAULT auth_strategy
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=auth_strategy
2013-07-15 14:10:09 + local line
2013-07-15 14:10:09 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^auth_strategy[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:09 + line=
2013-07-15 14:10:09 + '[' -n '' ']'
2013-07-15 14:10:09 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:09 auth_strategy = keystone
2013-07-15 14:10:09 ' /etc/nova/nova.conf
2013-07-15 14:10:09 + iniset /etc/nova/nova.conf DEFAULT allow_resize_to_same_host True
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=allow_resize_to_same_host
2013-07-15 14:10:09 + local value=True
2013-07-15 14:10:09 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:09 + ini_has_option /etc/nova/nova.conf DEFAULT allow_resize_to_same_host
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=allow_resize_to_same_host
2013-07-15 14:10:09 + local line
2013-07-15 14:10:09 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^allow_resize_to_same_host[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:09 + line=
2013-07-15 14:10:09 + '[' -n '' ']'
2013-07-15 14:10:09 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:09 allow_resize_to_same_host = True
2013-07-15 14:10:09 ' /etc/nova/nova.conf
2013-07-15 14:10:09 + iniset /etc/nova/nova.conf DEFAULT api_paste_config /etc/nova/api-paste.ini
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=api_paste_config
2013-07-15 14:10:09 + local value=/etc/nova/api-paste.ini
2013-07-15 14:10:09 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:09 + ini_has_option /etc/nova/nova.conf DEFAULT api_paste_config
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=api_paste_config
2013-07-15 14:10:09 + local line
2013-07-15 14:10:09 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^api_paste_config[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:09 + line=
2013-07-15 14:10:09 + '[' -n '' ']'
2013-07-15 14:10:09 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:09 api_paste_config = /etc/nova/api-paste.ini
2013-07-15 14:10:09 ' /etc/nova/nova.conf
2013-07-15 14:10:09 + iniset /etc/nova/nova.conf DEFAULT rootwrap_config /etc/nova/rootwrap.conf
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=rootwrap_config
2013-07-15 14:10:09 + local value=/etc/nova/rootwrap.conf
2013-07-15 14:10:09 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:09 + ini_has_option /etc/nova/nova.conf DEFAULT rootwrap_config
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=rootwrap_config
2013-07-15 14:10:09 + local line
2013-07-15 14:10:09 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rootwrap_config[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:09 + line=
2013-07-15 14:10:09 + '[' -n '' ']'
2013-07-15 14:10:09 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:09 rootwrap_config = /etc/nova/rootwrap.conf
2013-07-15 14:10:09 ' /etc/nova/nova.conf
2013-07-15 14:10:09 + iniset /etc/nova/nova.conf DEFAULT compute_scheduler_driver nova.scheduler.filter_scheduler.FilterScheduler
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=compute_scheduler_driver
2013-07-15 14:10:09 + local value=nova.scheduler.filter_scheduler.FilterScheduler
2013-07-15 14:10:09 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:09 + ini_has_option /etc/nova/nova.conf DEFAULT compute_scheduler_driver
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=compute_scheduler_driver
2013-07-15 14:10:09 + local line
2013-07-15 14:10:09 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^compute_scheduler_driver[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:09 + line=
2013-07-15 14:10:09 + '[' -n '' ']'
2013-07-15 14:10:09 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:09 compute_scheduler_driver = nova.scheduler.filter_scheduler.FilterScheduler
2013-07-15 14:10:09 ' /etc/nova/nova.conf
2013-07-15 14:10:09 + iniset /etc/nova/nova.conf DEFAULT dhcpbridge_flagfile /etc/nova/nova.conf
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=dhcpbridge_flagfile
2013-07-15 14:10:09 + local value=/etc/nova/nova.conf
2013-07-15 14:10:09 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:09 + ini_has_option /etc/nova/nova.conf DEFAULT dhcpbridge_flagfile
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=dhcpbridge_flagfile
2013-07-15 14:10:09 + local line
2013-07-15 14:10:09 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^dhcpbridge_flagfile[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:09 + line=
2013-07-15 14:10:09 + '[' -n '' ']'
2013-07-15 14:10:09 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:09 dhcpbridge_flagfile = /etc/nova/nova.conf
2013-07-15 14:10:09 ' /etc/nova/nova.conf
2013-07-15 14:10:09 + iniset /etc/nova/nova.conf DEFAULT force_dhcp_release True
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=force_dhcp_release
2013-07-15 14:10:09 + local value=True
2013-07-15 14:10:09 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:09 + ini_has_option /etc/nova/nova.conf DEFAULT force_dhcp_release
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=force_dhcp_release
2013-07-15 14:10:09 + local line
2013-07-15 14:10:09 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^force_dhcp_release[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:09 + line=
2013-07-15 14:10:09 + '[' -n '' ']'
2013-07-15 14:10:09 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:09 force_dhcp_release = True
2013-07-15 14:10:09 ' /etc/nova/nova.conf
2013-07-15 14:10:09 + iniset /etc/nova/nova.conf DEFAULT fixed_range ''
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=fixed_range
2013-07-15 14:10:09 + local value=
2013-07-15 14:10:09 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:09 + ini_has_option /etc/nova/nova.conf DEFAULT fixed_range
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=fixed_range
2013-07-15 14:10:09 + local line
2013-07-15 14:10:09 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^fixed_range[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:09 + line=
2013-07-15 14:10:09 + '[' -n '' ']'
2013-07-15 14:10:09 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:09 fixed_range = 
2013-07-15 14:10:09 ' /etc/nova/nova.conf
2013-07-15 14:10:09 + iniset /etc/nova/nova.conf DEFAULT default_floating_pool public
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=default_floating_pool
2013-07-15 14:10:09 + local value=public
2013-07-15 14:10:09 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:09 + ini_has_option /etc/nova/nova.conf DEFAULT default_floating_pool
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=default_floating_pool
2013-07-15 14:10:09 + local line
2013-07-15 14:10:09 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^default_floating_pool[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:09 + line=
2013-07-15 14:10:09 + '[' -n '' ']'
2013-07-15 14:10:09 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:09 default_floating_pool = public
2013-07-15 14:10:09 ' /etc/nova/nova.conf
2013-07-15 14:10:09 + iniset /etc/nova/nova.conf DEFAULT s3_host 54.248.87.124
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=s3_host
2013-07-15 14:10:09 + local value=54.248.87.124
2013-07-15 14:10:09 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:09 + ini_has_option /etc/nova/nova.conf DEFAULT s3_host
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=s3_host
2013-07-15 14:10:09 + local line
2013-07-15 14:10:09 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^s3_host[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:09 + line=
2013-07-15 14:10:09 + '[' -n '' ']'
2013-07-15 14:10:09 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:09 s3_host = 54.248.87.124
2013-07-15 14:10:09 ' /etc/nova/nova.conf
2013-07-15 14:10:09 + iniset /etc/nova/nova.conf DEFAULT s3_port 3333
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=s3_port
2013-07-15 14:10:09 + local value=3333
2013-07-15 14:10:09 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:09 + ini_has_option /etc/nova/nova.conf DEFAULT s3_port
2013-07-15 14:10:09 + local file=/etc/nova/nova.conf
2013-07-15 14:10:09 + local section=DEFAULT
2013-07-15 14:10:09 + local option=s3_port
2013-07-15 14:10:10 + local line
2013-07-15 14:10:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^s3_port[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:10 + line=
2013-07-15 14:10:10 + '[' -n '' ']'
2013-07-15 14:10:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:10 s3_port = 3333
2013-07-15 14:10:10 ' /etc/nova/nova.conf
2013-07-15 14:10:10 + iniset /etc/nova/nova.conf DEFAULT osapi_compute_extension nova.api.openstack.compute.contrib.standard_extensions
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=osapi_compute_extension
2013-07-15 14:10:10 + local value=nova.api.openstack.compute.contrib.standard_extensions
2013-07-15 14:10:10 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:10 + ini_has_option /etc/nova/nova.conf DEFAULT osapi_compute_extension
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=osapi_compute_extension
2013-07-15 14:10:10 + local line
2013-07-15 14:10:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^osapi_compute_extension[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:10 + line=
2013-07-15 14:10:10 + '[' -n '' ']'
2013-07-15 14:10:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:10 osapi_compute_extension = nova.api.openstack.compute.contrib.standard_extensions
2013-07-15 14:10:10 ' /etc/nova/nova.conf
2013-07-15 14:10:10 + iniset /etc/nova/nova.conf DEFAULT my_ip 54.248.87.124
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=my_ip
2013-07-15 14:10:10 + local value=54.248.87.124
2013-07-15 14:10:10 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:10 + ini_has_option /etc/nova/nova.conf DEFAULT my_ip
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=my_ip
2013-07-15 14:10:10 + local line
2013-07-15 14:10:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^my_ip[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:10 + line=
2013-07-15 14:10:10 + '[' -n '' ']'
2013-07-15 14:10:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:10 my_ip = 54.248.87.124
2013-07-15 14:10:10 ' /etc/nova/nova.conf
2013-07-15 14:10:10 ++ database_connection_url nova
2013-07-15 14:10:10 ++ local var=nova
2013-07-15 14:10:10 ++ local db=
2013-07-15 14:10:10 ++ database_connection_url_mysql nova
2013-07-15 14:10:10 ++ local db=nova
2013-07-15 14:10:10 ++ echo 'mysql://root:admin@localhost/nova?charset=utf8'
2013-07-15 14:10:10 + iniset /etc/nova/nova.conf DEFAULT sql_connection 'mysql://root:admin@localhost/nova?charset=utf8'
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=sql_connection
2013-07-15 14:10:10 + local 'value=mysql://root:admin@localhost/nova?charset=utf8'
2013-07-15 14:10:10 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:10 + ini_has_option /etc/nova/nova.conf DEFAULT sql_connection
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=sql_connection
2013-07-15 14:10:10 + local line
2013-07-15 14:10:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^sql_connection[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:10 + line=
2013-07-15 14:10:10 + '[' -n '' ']'
2013-07-15 14:10:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:10 sql_connection = mysql://root:admin@localhost/nova?charset=utf8
2013-07-15 14:10:10 ' /etc/nova/nova.conf
2013-07-15 14:10:10 + is_baremetal
2013-07-15 14:10:10 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-15 14:10:10 + return 1
2013-07-15 14:10:10 + iniset /etc/nova/nova.conf DEFAULT libvirt_type qemu
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=libvirt_type
2013-07-15 14:10:10 + local value=qemu
2013-07-15 14:10:10 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:10 + ini_has_option /etc/nova/nova.conf DEFAULT libvirt_type
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=libvirt_type
2013-07-15 14:10:10 + local line
2013-07-15 14:10:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^libvirt_type[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:10 + line=
2013-07-15 14:10:10 + '[' -n '' ']'
2013-07-15 14:10:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:10 libvirt_type = qemu
2013-07-15 14:10:10 ' /etc/nova/nova.conf
2013-07-15 14:10:10 + iniset /etc/nova/nova.conf DEFAULT libvirt_cpu_mode none
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=libvirt_cpu_mode
2013-07-15 14:10:10 + local value=none
2013-07-15 14:10:10 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:10 + ini_has_option /etc/nova/nova.conf DEFAULT libvirt_cpu_mode
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=libvirt_cpu_mode
2013-07-15 14:10:10 + local line
2013-07-15 14:10:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^libvirt_cpu_mode[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:10 + line=
2013-07-15 14:10:10 + '[' -n '' ']'
2013-07-15 14:10:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:10 libvirt_cpu_mode = none
2013-07-15 14:10:10 ' /etc/nova/nova.conf
2013-07-15 14:10:10 + iniset /etc/nova/nova.conf DEFAULT instance_name_template instance-%08x
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=instance_name_template
2013-07-15 14:10:10 + local value=instance-%08x
2013-07-15 14:10:10 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:10 + ini_has_option /etc/nova/nova.conf DEFAULT instance_name_template
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=instance_name_template
2013-07-15 14:10:10 + local line
2013-07-15 14:10:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^instance_name_template[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:10 + line=
2013-07-15 14:10:10 + '[' -n '' ']'
2013-07-15 14:10:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:10 instance_name_template = instance-%08x
2013-07-15 14:10:10 ' /etc/nova/nova.conf
2013-07-15 14:10:10 + is_service_enabled n-api
2013-07-15 14:10:10 + services=n-api
2013-07-15 14:10:10 + for service in '${services}'
2013-07-15 14:10:10 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-api, ]]
2013-07-15 14:10:10 + return 0
2013-07-15 14:10:10 + iniset /etc/nova/nova.conf DEFAULT enabled_apis ec2,osapi_compute,metadata
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=enabled_apis
2013-07-15 14:10:10 + local value=ec2,osapi_compute,metadata
2013-07-15 14:10:10 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:10 + ini_has_option /etc/nova/nova.conf DEFAULT enabled_apis
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=enabled_apis
2013-07-15 14:10:10 + local line
2013-07-15 14:10:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^enabled_apis[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:10 + line=
2013-07-15 14:10:10 + '[' -n '' ']'
2013-07-15 14:10:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:10 enabled_apis = ec2,osapi_compute,metadata
2013-07-15 14:10:10 ' /etc/nova/nova.conf
2013-07-15 14:10:10 + is_service_enabled tls-proxy
2013-07-15 14:10:10 + services=tls-proxy
2013-07-15 14:10:10 + for service in '${services}'
2013-07-15 14:10:10 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-15 14:10:10 + [[ tls-proxy == \n\o\v\a ]]
2013-07-15 14:10:10 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:10:10 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:10 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:10:10 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:10 + [[ tls-proxy == \s\w\i\f\t ]]
2013-07-15 14:10:10 + [[ tls-proxy == s-* ]]
2013-07-15 14:10:10 + return 1
2013-07-15 14:10:10 + is_service_enabled cinder
2013-07-15 14:10:10 + services=cinder
2013-07-15 14:10:10 + for service in '${services}'
2013-07-15 14:10:10 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,cinder, ]]
2013-07-15 14:10:10 + return 0
2013-07-15 14:10:10 + iniset /etc/nova/nova.conf DEFAULT volume_api_class nova.volume.cinder.API
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=volume_api_class
2013-07-15 14:10:10 + local value=nova.volume.cinder.API
2013-07-15 14:10:10 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:10 + ini_has_option /etc/nova/nova.conf DEFAULT volume_api_class
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:10 + local option=volume_api_class
2013-07-15 14:10:10 + local line
2013-07-15 14:10:10 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^volume_api_class[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:10 + line=
2013-07-15 14:10:10 + '[' -n '' ']'
2013-07-15 14:10:10 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:10 volume_api_class = nova.volume.cinder.API
2013-07-15 14:10:10 ' /etc/nova/nova.conf
2013-07-15 14:10:10 + '[' -n /opt/stack/data/nova ']'
2013-07-15 14:10:10 + iniset /etc/nova/nova.conf DEFAULT state_path /opt/stack/data/nova
2013-07-15 14:10:10 + local file=/etc/nova/nova.conf
2013-07-15 14:10:10 + local section=DEFAULT
2013-07-15 14:10:11 + local option=state_path
2013-07-15 14:10:11 + local value=/opt/stack/data/nova
2013-07-15 14:10:11 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:11 + ini_has_option /etc/nova/nova.conf DEFAULT state_path
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=state_path
2013-07-15 14:10:11 + local line
2013-07-15 14:10:11 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^state_path[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:11 + line=
2013-07-15 14:10:11 + '[' -n '' ']'
2013-07-15 14:10:11 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:11 state_path = /opt/stack/data/nova
2013-07-15 14:10:11 ' /etc/nova/nova.conf
2013-07-15 14:10:11 + iniset /etc/nova/nova.conf DEFAULT lock_path /opt/stack/data/nova
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=lock_path
2013-07-15 14:10:11 + local value=/opt/stack/data/nova
2013-07-15 14:10:11 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:11 + ini_has_option /etc/nova/nova.conf DEFAULT lock_path
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=lock_path
2013-07-15 14:10:11 + local line
2013-07-15 14:10:11 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^lock_path[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:11 + line=
2013-07-15 14:10:11 + '[' -n '' ']'
2013-07-15 14:10:11 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:11 lock_path = /opt/stack/data/nova
2013-07-15 14:10:11 ' /etc/nova/nova.conf
2013-07-15 14:10:11 + '[' -n /opt/stack/data/nova/instances ']'
2013-07-15 14:10:11 + iniset /etc/nova/nova.conf DEFAULT instances_path /opt/stack/data/nova/instances
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=instances_path
2013-07-15 14:10:11 + local value=/opt/stack/data/nova/instances
2013-07-15 14:10:11 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:11 + ini_has_option /etc/nova/nova.conf DEFAULT instances_path
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=instances_path
2013-07-15 14:10:11 + local line
2013-07-15 14:10:11 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^instances_path[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:11 + line=
2013-07-15 14:10:11 + '[' -n '' ']'
2013-07-15 14:10:11 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:11 instances_path = /opt/stack/data/nova/instances
2013-07-15 14:10:11 ' /etc/nova/nova.conf
2013-07-15 14:10:11 + '[' False '!=' False ']'
2013-07-15 14:10:11 + '[' True '!=' False ']'
2013-07-15 14:10:11 + iniset /etc/nova/nova.conf DEFAULT use_syslog True
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=use_syslog
2013-07-15 14:10:11 + local value=True
2013-07-15 14:10:11 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:11 + ini_has_option /etc/nova/nova.conf DEFAULT use_syslog
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=use_syslog
2013-07-15 14:10:11 + local line
2013-07-15 14:10:11 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^use_syslog[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:11 + line=
2013-07-15 14:10:11 + '[' -n '' ']'
2013-07-15 14:10:11 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:11 use_syslog = True
2013-07-15 14:10:11 ' /etc/nova/nova.conf
2013-07-15 14:10:11 + '[' True '!=' True ']'
2013-07-15 14:10:11 + '[' True == True ']'
2013-07-15 14:10:11 + '[' True == False ']'
2013-07-15 14:10:11 + iniset /etc/nova/nova.conf DEFAULT logging_context_format_string '%(asctime)s.%(msecs)03d %(levelname)s %(name)s [%(request_id)s %(user_name)s %(project_name)s] %(instance)s%(message)s'
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=logging_context_format_string
2013-07-15 14:10:11 + local 'value=%(asctime)s.%(msecs)03d %(levelname)s %(name)s [%(request_id)s %(user_name)s %(project_name)s] %(instance)s%(message)s'
2013-07-15 14:10:11 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:11 + ini_has_option /etc/nova/nova.conf DEFAULT logging_context_format_string
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=logging_context_format_string
2013-07-15 14:10:11 + local line
2013-07-15 14:10:11 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^logging_context_format_string[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:11 + line=
2013-07-15 14:10:11 + '[' -n '' ']'
2013-07-15 14:10:11 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:11 logging_context_format_string = %(asctime)s.%(msecs)03d %(levelname)s %(name)s [%(request_id)s %(user_name)s %(project_name)s] %(instance)s%(message)s
2013-07-15 14:10:11 ' /etc/nova/nova.conf
2013-07-15 14:10:11 + is_service_enabled ceilometer
2013-07-15 14:10:11 + services=ceilometer
2013-07-15 14:10:11 + for service in '${services}'
2013-07-15 14:10:11 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,ceilometer, ]]
2013-07-15 14:10:11 + [[ ceilometer == \n\o\v\a ]]
2013-07-15 14:10:11 + [[ ceilometer == \c\i\n\d\e\r ]]
2013-07-15 14:10:11 + [[ ceilometer == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:11 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ ceilometer- ]]
2013-07-15 14:10:11 + [[ ceilometer == \g\l\a\n\c\e ]]
2013-07-15 14:10:11 + [[ ceilometer == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:11 + [[ ceilometer == \s\w\i\f\t ]]
2013-07-15 14:10:11 + [[ ceilometer == s-* ]]
2013-07-15 14:10:11 + return 1
2013-07-15 14:10:11 + [[ -z '' ]]
2013-07-15 14:10:11 + [[ -n '' ]]
2013-07-15 14:10:11 + is_service_enabled n-cpu
2013-07-15 14:10:11 + services=n-cpu
2013-07-15 14:10:11 + for service in '${services}'
2013-07-15 14:10:11 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cpu, ]]
2013-07-15 14:10:11 + return 0
2013-07-15 14:10:11 + NOVNCPROXY_URL=http://54.248.87.124:6080/vnc_auto.html
2013-07-15 14:10:11 + iniset /etc/nova/nova.conf DEFAULT novncproxy_base_url http://54.248.87.124:6080/vnc_auto.html
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=novncproxy_base_url
2013-07-15 14:10:11 + local value=http://54.248.87.124:6080/vnc_auto.html
2013-07-15 14:10:11 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:11 + ini_has_option /etc/nova/nova.conf DEFAULT novncproxy_base_url
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=novncproxy_base_url
2013-07-15 14:10:11 + local line
2013-07-15 14:10:11 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^novncproxy_base_url[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:11 + line=
2013-07-15 14:10:11 + '[' -n '' ']'
2013-07-15 14:10:11 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:11 novncproxy_base_url = http://54.248.87.124:6080/vnc_auto.html
2013-07-15 14:10:11 ' /etc/nova/nova.conf
2013-07-15 14:10:11 + XVPVNCPROXY_URL=http://54.248.87.124:6081/console
2013-07-15 14:10:11 + iniset /etc/nova/nova.conf DEFAULT xvpvncproxy_base_url http://54.248.87.124:6081/console
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=xvpvncproxy_base_url
2013-07-15 14:10:11 + local value=http://54.248.87.124:6081/console
2013-07-15 14:10:11 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:11 + ini_has_option /etc/nova/nova.conf DEFAULT xvpvncproxy_base_url
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=xvpvncproxy_base_url
2013-07-15 14:10:11 + local line
2013-07-15 14:10:11 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^xvpvncproxy_base_url[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:11 + line=
2013-07-15 14:10:11 + '[' -n '' ']'
2013-07-15 14:10:11 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:11 xvpvncproxy_base_url = http://54.248.87.124:6081/console
2013-07-15 14:10:11 ' /etc/nova/nova.conf
2013-07-15 14:10:11 + SPICEHTML5PROXY_URL=http://54.248.87.124:6082/spice_auto.html
2013-07-15 14:10:11 + iniset /etc/nova/nova.conf spice html5proxy_base_url http://54.248.87.124:6082/spice_auto.html
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=spice
2013-07-15 14:10:11 + local option=html5proxy_base_url
2013-07-15 14:10:11 + local value=http://54.248.87.124:6082/spice_auto.html
2013-07-15 14:10:11 + grep -q '^\[spice\]' /etc/nova/nova.conf
2013-07-15 14:10:11 + echo -e '\n[spice]'
2013-07-15 14:10:11 + ini_has_option /etc/nova/nova.conf spice html5proxy_base_url
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=spice
2013-07-15 14:10:11 + local option=html5proxy_base_url
2013-07-15 14:10:11 + local line
2013-07-15 14:10:11 ++ sed -ne '/^\[spice\]/,/^\[.*\]/ { /^html5proxy_base_url[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:11 + line=
2013-07-15 14:10:11 + '[' -n '' ']'
2013-07-15 14:10:11 + sed -i -e '/^\[spice\]/ a\
2013-07-15 14:10:11 html5proxy_base_url = http://54.248.87.124:6082/spice_auto.html
2013-07-15 14:10:11 ' /etc/nova/nova.conf
2013-07-15 14:10:11 + '[' libvirt = xenserver ']'
2013-07-15 14:10:11 + VNCSERVER_PROXYCLIENT_ADDRESS=127.0.0.1
2013-07-15 14:10:11 + is_service_enabled n-novnc
2013-07-15 14:10:11 + services=n-novnc
2013-07-15 14:10:11 + for service in '${services}'
2013-07-15 14:10:11 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-novnc, ]]
2013-07-15 14:10:11 + return 0
2013-07-15 14:10:11 + VNCSERVER_LISTEN=127.0.0.1
2013-07-15 14:10:11 + iniset /etc/nova/nova.conf DEFAULT vnc_enabled true
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=vnc_enabled
2013-07-15 14:10:11 + local value=true
2013-07-15 14:10:11 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:11 + ini_has_option /etc/nova/nova.conf DEFAULT vnc_enabled
2013-07-15 14:10:11 + local file=/etc/nova/nova.conf
2013-07-15 14:10:11 + local section=DEFAULT
2013-07-15 14:10:11 + local option=vnc_enabled
2013-07-15 14:10:11 + local line
2013-07-15 14:10:11 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^vnc_enabled[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:11 + line=
2013-07-15 14:10:12 + '[' -n '' ']'
2013-07-15 14:10:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:12 vnc_enabled = true
2013-07-15 14:10:12 ' /etc/nova/nova.conf
2013-07-15 14:10:12 + iniset /etc/nova/nova.conf DEFAULT vncserver_listen 127.0.0.1
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=vncserver_listen
2013-07-15 14:10:12 + local value=127.0.0.1
2013-07-15 14:10:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:12 + ini_has_option /etc/nova/nova.conf DEFAULT vncserver_listen
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=vncserver_listen
2013-07-15 14:10:12 + local line
2013-07-15 14:10:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^vncserver_listen[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:12 + line=
2013-07-15 14:10:12 + '[' -n '' ']'
2013-07-15 14:10:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:12 vncserver_listen = 127.0.0.1
2013-07-15 14:10:12 ' /etc/nova/nova.conf
2013-07-15 14:10:12 + iniset /etc/nova/nova.conf DEFAULT vncserver_proxyclient_address 127.0.0.1
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=vncserver_proxyclient_address
2013-07-15 14:10:12 + local value=127.0.0.1
2013-07-15 14:10:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:12 + ini_has_option /etc/nova/nova.conf DEFAULT vncserver_proxyclient_address
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=vncserver_proxyclient_address
2013-07-15 14:10:12 + local line
2013-07-15 14:10:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^vncserver_proxyclient_address[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:12 + line=
2013-07-15 14:10:12 + '[' -n '' ']'
2013-07-15 14:10:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:12 vncserver_proxyclient_address = 127.0.0.1
2013-07-15 14:10:12 ' /etc/nova/nova.conf
2013-07-15 14:10:12 + is_service_enabled n-spice
2013-07-15 14:10:12 + services=n-spice
2013-07-15 14:10:12 + for service in '${services}'
2013-07-15 14:10:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-spice, ]]
2013-07-15 14:10:12 + [[ n-spice == \n\o\v\a ]]
2013-07-15 14:10:12 + [[ n-spice == \c\i\n\d\e\r ]]
2013-07-15 14:10:12 + [[ n-spice == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:12 + [[ n-spice == \g\l\a\n\c\e ]]
2013-07-15 14:10:12 + [[ n-spice == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:12 + [[ n-spice == \s\w\i\f\t ]]
2013-07-15 14:10:12 + [[ n-spice == s-* ]]
2013-07-15 14:10:12 + return 1
2013-07-15 14:10:12 + iniset /etc/nova/nova.conf spice enabled false
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=spice
2013-07-15 14:10:12 + local option=enabled
2013-07-15 14:10:12 + local value=false
2013-07-15 14:10:12 + grep -q '^\[spice\]' /etc/nova/nova.conf
2013-07-15 14:10:12 + ini_has_option /etc/nova/nova.conf spice enabled
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=spice
2013-07-15 14:10:12 + local option=enabled
2013-07-15 14:10:12 + local line
2013-07-15 14:10:12 ++ sed -ne '/^\[spice\]/,/^\[.*\]/ { /^enabled[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:12 + line=
2013-07-15 14:10:12 + '[' -n '' ']'
2013-07-15 14:10:12 + sed -i -e '/^\[spice\]/ a\
2013-07-15 14:10:12 enabled = false
2013-07-15 14:10:12 ' /etc/nova/nova.conf
2013-07-15 14:10:12 + iniset /etc/nova/nova.conf DEFAULT ec2_dmz_host 54.248.87.124
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=ec2_dmz_host
2013-07-15 14:10:12 + local value=54.248.87.124
2013-07-15 14:10:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:12 + ini_has_option /etc/nova/nova.conf DEFAULT ec2_dmz_host
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=ec2_dmz_host
2013-07-15 14:10:12 + local line
2013-07-15 14:10:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^ec2_dmz_host[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:12 + line=
2013-07-15 14:10:12 + '[' -n '' ']'
2013-07-15 14:10:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:12 ec2_dmz_host = 54.248.87.124
2013-07-15 14:10:12 ' /etc/nova/nova.conf
2013-07-15 14:10:12 + iniset_rpc_backend nova /etc/nova/nova.conf DEFAULT
2013-07-15 14:10:12 + local package=nova
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + is_service_enabled zeromq
2013-07-15 14:10:12 + services=zeromq
2013-07-15 14:10:12 + for service in '${services}'
2013-07-15 14:10:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,zeromq, ]]
2013-07-15 14:10:12 + [[ zeromq == \n\o\v\a ]]
2013-07-15 14:10:12 + [[ zeromq == \c\i\n\d\e\r ]]
2013-07-15 14:10:12 + [[ zeromq == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:12 + [[ zeromq == \g\l\a\n\c\e ]]
2013-07-15 14:10:12 + [[ zeromq == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:12 + [[ zeromq == \s\w\i\f\t ]]
2013-07-15 14:10:12 + [[ zeromq == s-* ]]
2013-07-15 14:10:12 + return 1
2013-07-15 14:10:12 + is_service_enabled qpid
2013-07-15 14:10:12 + services=qpid
2013-07-15 14:10:12 + for service in '${services}'
2013-07-15 14:10:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,qpid, ]]
2013-07-15 14:10:12 + [[ qpid == \n\o\v\a ]]
2013-07-15 14:10:12 + [[ qpid == \c\i\n\d\e\r ]]
2013-07-15 14:10:12 + [[ qpid == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:12 + [[ qpid == \g\l\a\n\c\e ]]
2013-07-15 14:10:12 + [[ qpid == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:12 + [[ qpid == \s\w\i\f\t ]]
2013-07-15 14:10:12 + [[ qpid == s-* ]]
2013-07-15 14:10:12 + return 1
2013-07-15 14:10:12 + is_service_enabled rabbit
2013-07-15 14:10:12 + services=rabbit
2013-07-15 14:10:12 + for service in '${services}'
2013-07-15 14:10:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,rabbit, ]]
2013-07-15 14:10:12 + return 0
2013-07-15 14:10:12 + iniset /etc/nova/nova.conf DEFAULT rpc_backend nova.openstack.common.rpc.impl_kombu
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=rpc_backend
2013-07-15 14:10:12 + local value=nova.openstack.common.rpc.impl_kombu
2013-07-15 14:10:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:12 + ini_has_option /etc/nova/nova.conf DEFAULT rpc_backend
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=rpc_backend
2013-07-15 14:10:12 + local line
2013-07-15 14:10:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rpc_backend[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:12 + line=
2013-07-15 14:10:12 + '[' -n '' ']'
2013-07-15 14:10:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:12 rpc_backend = nova.openstack.common.rpc.impl_kombu
2013-07-15 14:10:12 ' /etc/nova/nova.conf
2013-07-15 14:10:12 + iniset /etc/nova/nova.conf DEFAULT rabbit_host localhost
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=rabbit_host
2013-07-15 14:10:12 + local value=localhost
2013-07-15 14:10:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:12 + ini_has_option /etc/nova/nova.conf DEFAULT rabbit_host
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=rabbit_host
2013-07-15 14:10:12 + local line
2013-07-15 14:10:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rabbit_host[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:12 + line=
2013-07-15 14:10:12 + '[' -n '' ']'
2013-07-15 14:10:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:12 rabbit_host = localhost
2013-07-15 14:10:12 ' /etc/nova/nova.conf
2013-07-15 14:10:12 + iniset /etc/nova/nova.conf DEFAULT rabbit_password admin
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=rabbit_password
2013-07-15 14:10:12 + local value=admin
2013-07-15 14:10:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:12 + ini_has_option /etc/nova/nova.conf DEFAULT rabbit_password
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=rabbit_password
2013-07-15 14:10:12 + local line
2013-07-15 14:10:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^rabbit_password[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:12 + line=
2013-07-15 14:10:12 + '[' -n '' ']'
2013-07-15 14:10:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:12 rabbit_password = admin
2013-07-15 14:10:12 ' /etc/nova/nova.conf
2013-07-15 14:10:12 + iniset /etc/nova/nova.conf DEFAULT glance_api_servers 54.248.87.124:9292
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=glance_api_servers
2013-07-15 14:10:12 + local value=54.248.87.124:9292
2013-07-15 14:10:12 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:12 + ini_has_option /etc/nova/nova.conf DEFAULT glance_api_servers
2013-07-15 14:10:12 + local file=/etc/nova/nova.conf
2013-07-15 14:10:12 + local section=DEFAULT
2013-07-15 14:10:12 + local option=glance_api_servers
2013-07-15 14:10:12 + local line
2013-07-15 14:10:12 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^glance_api_servers[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:12 + line=
2013-07-15 14:10:12 + '[' -n '' ']'
2013-07-15 14:10:12 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:12 glance_api_servers = 54.248.87.124:9292
2013-07-15 14:10:12 ' /etc/nova/nova.conf
2013-07-15 14:10:12 + init_nova
2013-07-15 14:10:12 + is_service_enabled mysql postgresql
2013-07-15 14:10:12 + services='mysql postgresql'
2013-07-15 14:10:12 + for service in '${services}'
2013-07-15 14:10:13 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,mysql, ]]
2013-07-15 14:10:13 + return 0
2013-07-15 14:10:13 + is_service_enabled n-api
2013-07-15 14:10:13 + services=n-api
2013-07-15 14:10:13 + for service in '${services}'
2013-07-15 14:10:13 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-api, ]]
2013-07-15 14:10:13 + return 0
2013-07-15 14:10:13 + recreate_database nova latin1
2013-07-15 14:10:13 + local db=nova
2013-07-15 14:10:13 + local charset=latin1
2013-07-15 14:10:13 + recreate_database_mysql nova latin1
2013-07-15 14:10:13 + local db=nova
2013-07-15 14:10:13 + local charset=latin1
2013-07-15 14:10:13 + mysql -uroot -padmin -e 'DROP DATABASE IF EXISTS nova;'
2013-07-15 14:10:13 + mysql -uroot -padmin -e 'CREATE DATABASE nova CHARACTER SET latin1;'
2013-07-15 14:10:13 + /opt/stack/nova/bin/nova-manage db sync
2013-07-15 14:10:20 + is_baremetal
2013-07-15 14:10:20 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-15 14:10:20 + return 1
2013-07-15 14:10:20 + create_nova_cache_dir
2013-07-15 14:10:20 + sudo mkdir -p /var/cache/nova
2013-07-15 14:10:20 + sudo chown ubuntu /var/cache/nova
2013-07-15 14:10:20 + rm -f '/var/cache/nova/*'
2013-07-15 14:10:20 + create_nova_keys_dir
2013-07-15 14:10:20 + sudo mkdir -p /opt/stack/data/nova/keys
2013-07-15 14:10:20 + sudo chown -R ubuntu /opt/stack/data/nova
2013-07-15 14:10:20 + is_service_enabled quantum
2013-07-15 14:10:20 + services=quantum
2013-07-15 14:10:20 + for service in '${services}'
2013-07-15 14:10:20 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-15 14:10:20 + [[ quantum == \n\o\v\a ]]
2013-07-15 14:10:20 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-15 14:10:20 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:20 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-15 14:10:20 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:20 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-15 14:10:20 + [[ quantum == \s\w\i\f\t ]]
2013-07-15 14:10:20 + [[ quantum == s-* ]]
2013-07-15 14:10:20 + return 1
2013-07-15 14:10:20 + is_service_enabled n-net
2013-07-15 14:10:20 + services=n-net
2013-07-15 14:10:20 + for service in '${services}'
2013-07-15 14:10:20 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-net, ]]
2013-07-15 14:10:20 + return 0
2013-07-15 14:10:20 + create_nova_conf_nova_network
2013-07-15 14:10:20 + iniset /etc/nova/nova.conf DEFAULT network_manager nova.network.manager.FlatDHCPManager
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=network_manager
2013-07-15 14:10:20 + local value=nova.network.manager.FlatDHCPManager
2013-07-15 14:10:20 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:20 + ini_has_option /etc/nova/nova.conf DEFAULT network_manager
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=network_manager
2013-07-15 14:10:20 + local line
2013-07-15 14:10:20 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^network_manager[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:20 + line=
2013-07-15 14:10:20 + '[' -n '' ']'
2013-07-15 14:10:20 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:20 network_manager = nova.network.manager.FlatDHCPManager
2013-07-15 14:10:20 ' /etc/nova/nova.conf
2013-07-15 14:10:20 + iniset /etc/nova/nova.conf DEFAULT public_interface br100
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=public_interface
2013-07-15 14:10:20 + local value=br100
2013-07-15 14:10:20 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:20 + ini_has_option /etc/nova/nova.conf DEFAULT public_interface
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=public_interface
2013-07-15 14:10:20 + local line
2013-07-15 14:10:20 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^public_interface[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:20 + line=
2013-07-15 14:10:20 + '[' -n '' ']'
2013-07-15 14:10:20 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:20 public_interface = br100
2013-07-15 14:10:20 ' /etc/nova/nova.conf
2013-07-15 14:10:20 + iniset /etc/nova/nova.conf DEFAULT vlan_interface eth0
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=vlan_interface
2013-07-15 14:10:20 + local value=eth0
2013-07-15 14:10:20 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:20 + ini_has_option /etc/nova/nova.conf DEFAULT vlan_interface
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=vlan_interface
2013-07-15 14:10:20 + local line
2013-07-15 14:10:20 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^vlan_interface[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:20 + line=
2013-07-15 14:10:20 + '[' -n '' ']'
2013-07-15 14:10:20 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:20 vlan_interface = eth0
2013-07-15 14:10:20 ' /etc/nova/nova.conf
2013-07-15 14:10:20 + iniset /etc/nova/nova.conf DEFAULT flat_network_bridge br100
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=flat_network_bridge
2013-07-15 14:10:20 + local value=br100
2013-07-15 14:10:20 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:20 + ini_has_option /etc/nova/nova.conf DEFAULT flat_network_bridge
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=flat_network_bridge
2013-07-15 14:10:20 + local line
2013-07-15 14:10:20 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^flat_network_bridge[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:20 + line=
2013-07-15 14:10:20 + '[' -n '' ']'
2013-07-15 14:10:20 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:20 flat_network_bridge = br100
2013-07-15 14:10:20 ' /etc/nova/nova.conf
2013-07-15 14:10:20 + '[' -n eth0 ']'
2013-07-15 14:10:20 + iniset /etc/nova/nova.conf DEFAULT flat_interface eth0
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=flat_interface
2013-07-15 14:10:20 + local value=eth0
2013-07-15 14:10:20 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:20 + ini_has_option /etc/nova/nova.conf DEFAULT flat_interface
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=flat_interface
2013-07-15 14:10:20 + local line
2013-07-15 14:10:20 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^flat_interface[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:20 + line=
2013-07-15 14:10:20 + '[' -n '' ']'
2013-07-15 14:10:20 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:20 flat_interface = eth0
2013-07-15 14:10:20 ' /etc/nova/nova.conf
2013-07-15 14:10:20 + '[' libvirt = xenserver ']'
2013-07-15 14:10:20 + '[' libvirt = openvz ']'
2013-07-15 14:10:20 + '[' libvirt = baremetal ']'
2013-07-15 14:10:20 + echo_summary 'Using libvirt virtualization driver'
2013-07-15 14:10:20 + [[ -t 3 ]]
2013-07-15 14:10:20 + [[ True != \T\r\u\e ]]
2013-07-15 14:10:20 + echo -e Using libvirt virtualization driver
2013-07-15 14:10:20 + iniset /etc/nova/nova.conf DEFAULT compute_driver libvirt.LibvirtDriver
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=compute_driver
2013-07-15 14:10:20 + local value=libvirt.LibvirtDriver
2013-07-15 14:10:20 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:20 Using libvirt virtualization driver
2013-07-15 14:10:20 + ini_has_option /etc/nova/nova.conf DEFAULT compute_driver
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=compute_driver
2013-07-15 14:10:20 + local line
2013-07-15 14:10:20 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^compute_driver[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:20 + line=
2013-07-15 14:10:20 + '[' -n '' ']'
2013-07-15 14:10:20 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:20 compute_driver = libvirt.LibvirtDriver
2013-07-15 14:10:20 ' /etc/nova/nova.conf
2013-07-15 14:10:20 + LIBVIRT_FIREWALL_DRIVER=nova.virt.libvirt.firewall.IptablesFirewallDriver
2013-07-15 14:10:20 + iniset /etc/nova/nova.conf DEFAULT firewall_driver nova.virt.libvirt.firewall.IptablesFirewallDriver
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=firewall_driver
2013-07-15 14:10:20 + local value=nova.virt.libvirt.firewall.IptablesFirewallDriver
2013-07-15 14:10:20 + grep -q '^\[DEFAULT\]' /etc/nova/nova.conf
2013-07-15 14:10:20 + ini_has_option /etc/nova/nova.conf DEFAULT firewall_driver
2013-07-15 14:10:20 + local file=/etc/nova/nova.conf
2013-07-15 14:10:20 + local section=DEFAULT
2013-07-15 14:10:20 + local option=firewall_driver
2013-07-15 14:10:20 + local line
2013-07-15 14:10:20 ++ sed -ne '/^\[DEFAULT\]/,/^\[.*\]/ { /^firewall_driver[ \t]*=/ p; }' /etc/nova/nova.conf
2013-07-15 14:10:20 + line=
2013-07-15 14:10:20 + '[' -n '' ']'
2013-07-15 14:10:20 + sed -i -e '/^\[DEFAULT\]/ a\
2013-07-15 14:10:20 firewall_driver = nova.virt.libvirt.firewall.IptablesFirewallDriver
2013-07-15 14:10:20 ' /etc/nova/nova.conf
2013-07-15 14:10:21 + is_service_enabled nova
2013-07-15 14:10:21 + services=nova
2013-07-15 14:10:21 + for service in '${services}'
2013-07-15 14:10:21 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-15 14:10:21 + [[ nova == \n\o\v\a ]]
2013-07-15 14:10:21 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-15 14:10:21 + return 0
2013-07-15 14:10:21 + is_baremetal
2013-07-15 14:10:21 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-15 14:10:21 + return 1
2013-07-15 14:10:21 + is_service_enabled s-proxy
2013-07-15 14:10:21 + services=s-proxy
2013-07-15 14:10:21 + for service in '${services}'
2013-07-15 14:10:21 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,s-proxy, ]]
2013-07-15 14:10:21 + [[ s-proxy == \n\o\v\a ]]
2013-07-15 14:10:21 + [[ s-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:10:21 + [[ s-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:21 + [[ s-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:10:21 + [[ s-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:21 + [[ s-proxy == \s\w\i\f\t ]]
2013-07-15 14:10:21 + [[ s-proxy == s-* ]]
2013-07-15 14:10:21 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ swift ]]
2013-07-15 14:10:21 + return 1
2013-07-15 14:10:21 + is_service_enabled g-api g-reg
2013-07-15 14:10:21 + services='g-api g-reg'
2013-07-15 14:10:21 + for service in '${services}'
2013-07-15 14:10:21 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,g-api, ]]
2013-07-15 14:10:21 + return 0
2013-07-15 14:10:21 + echo_summary 'Starting Glance'
2013-07-15 14:10:21 + [[ -t 3 ]]
2013-07-15 14:10:21 + [[ True != \T\r\u\e ]]
2013-07-15 14:10:21 + echo -e Starting Glance
2013-07-15 14:10:21 + start_glance
2013-07-15 14:10:21 Starting Glance
2013-07-15 14:10:21 + screen_it g-reg 'cd /opt/stack/glance; /opt/stack/glance/bin/glance-registry --config-file=/etc/glance/glance-registry.conf'
2013-07-15 14:10:21 + SCREEN_NAME=stack
2013-07-15 14:10:21 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:21 ++ trueorfalse True True
2013-07-15 14:10:21 ++ local default=True
2013-07-15 14:10:21 ++ local testval=True
2013-07-15 14:10:21 ++ [[ -z True ]]
2013-07-15 14:10:21 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:21 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:21 ++ echo True
2013-07-15 14:10:21 ++ return
2013-07-15 14:10:21 + USE_SCREEN=True
2013-07-15 14:10:21 + is_service_enabled g-reg
2013-07-15 14:10:21 + services=g-reg
2013-07-15 14:10:21 + for service in '${services}'
2013-07-15 14:10:21 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,g-reg, ]]
2013-07-15 14:10:21 + return 0
2013-07-15 14:10:21 + screen_rc g-reg 'cd /opt/stack/glance; /opt/stack/glance/bin/glance-registry --config-file=/etc/glance/glance-registry.conf'
2013-07-15 14:10:21 + SCREEN_NAME=stack
2013-07-15 14:10:21 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:21 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:21 + grep g-reg /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:21 ++ echo -ne '\015'
2013-07-15 14:10:21 + NL=$'\r'
2013-07-15 14:10:21 + echo 'screen -t g-reg bash'
2013-07-15 14:10:21 + echo 'stuff "cd /opt/stack/glance; /opt/stack/glance/bin/glance-registry --config-file=/etc/glance/glance-registry.conf"'
2013-07-15 14:10:21 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:21 + screen -S stack -X screen -t g-reg
2013-07-15 14:10:21 + [[ -n '' ]]
2013-07-15 14:10:21 + sleep 1.5
2013-07-15 14:10:21 ++ echo -ne '\015'
2013-07-15 14:10:21 + NL=$'\r'
2013-07-15 14:10:21 + screen -S stack -p g-reg -X stuff 'cd /opt/stack/glance; /opt/stack/glance/bin/glance-registry --config-file=/etc/glance/glance-registry.conf || touch "/opt/stack/status/stack/g-reg.failure"'
2013-07-15 14:10:21 + screen_it g-api 'cd /opt/stack/glance; /opt/stack/glance/bin/glance-api --config-file=/etc/glance/glance-api.conf'
2013-07-15 14:10:21 + SCREEN_NAME=stack
2013-07-15 14:10:21 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:21 ++ trueorfalse True True
2013-07-15 14:10:21 ++ local default=True
2013-07-15 14:10:21 ++ local testval=True
2013-07-15 14:10:21 ++ [[ -z True ]]
2013-07-15 14:10:21 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:21 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:21 ++ echo True
2013-07-15 14:10:21 ++ return
2013-07-15 14:10:22 + USE_SCREEN=True
2013-07-15 14:10:22 + is_service_enabled g-api
2013-07-15 14:10:22 + services=g-api
2013-07-15 14:10:22 + for service in '${services}'
2013-07-15 14:10:22 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,g-api, ]]
2013-07-15 14:10:22 + return 0
2013-07-15 14:10:22 + screen_rc g-api 'cd /opt/stack/glance; /opt/stack/glance/bin/glance-api --config-file=/etc/glance/glance-api.conf'
2013-07-15 14:10:22 + SCREEN_NAME=stack
2013-07-15 14:10:22 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:22 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:22 + grep g-api /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:22 ++ echo -ne '\015'
2013-07-15 14:10:22 + NL=$'\r'
2013-07-15 14:10:22 + echo 'screen -t g-api bash'
2013-07-15 14:10:22 + echo 'stuff "cd /opt/stack/glance; /opt/stack/glance/bin/glance-api --config-file=/etc/glance/glance-api.conf"'
2013-07-15 14:10:22 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:22 + screen -S stack -X screen -t g-api
2013-07-15 14:10:22 + [[ -n '' ]]
2013-07-15 14:10:22 + sleep 1.5
2013-07-15 14:10:23 ++ echo -ne '\015'
2013-07-15 14:10:23 + NL=$'\r'
2013-07-15 14:10:23 + screen -S stack -p g-api -X stuff 'cd /opt/stack/glance; /opt/stack/glance/bin/glance-api --config-file=/etc/glance/glance-api.conf || touch "/opt/stack/status/stack/g-api.failure"'
2013-07-15 14:10:23 + echo 'Waiting for g-api (54.248.87.124:9292) to start...'
2013-07-15 14:10:23 Waiting for g-api (54.248.87.124:9292) to start...
2013-07-15 14:10:23 + timeout 60 sh -c 'while ! http_proxy= wget -q -O- http://54.248.87.124:9292; do sleep 1; done'
2013-07-15 14:10:24 {"versions": [{"status": "CURRENT", "id": "v2.1", "links": [{"href": "http://54.248.87.124:9292/v2/", "rel": "self"}]}, {"status": "SUPPORTED", "id": "v2.0", "links": [{"href": "http://54.248.87.124:9292/v2/", "rel": "self"}]}, {"status": "CURRENT", "id": "v1.1", "links": [{"href": "http://54.248.87.124:9292/v1/", "rel": "self"}]}, {"status": "SUPPORTED", "id": "v1.0", "links": [{"href": "http://54.248.87.124:9292/v1/", "rel": "self"}]}]}+ is_service_enabled key
2013-07-15 14:10:24 + services=key
2013-07-15 14:10:24 + for service in '${services}'
2013-07-15 14:10:24 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,key, ]]
2013-07-15 14:10:24 + return 0
2013-07-15 14:10:24 + is_service_enabled swift3
2013-07-15 14:10:24 + services=swift3
2013-07-15 14:10:24 + for service in '${services}'
2013-07-15 14:10:24 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,swift3, ]]
2013-07-15 14:10:24 + [[ swift3 == \n\o\v\a ]]
2013-07-15 14:10:24 + [[ swift3 == \c\i\n\d\e\r ]]
2013-07-15 14:10:24 + [[ swift3 == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:24 + [[ swift3 == \g\l\a\n\c\e ]]
2013-07-15 14:10:24 + [[ swift3 == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:24 + [[ swift3 == \s\w\i\f\t ]]
2013-07-15 14:10:24 + [[ swift3 == s-* ]]
2013-07-15 14:10:24 + return 1
2013-07-15 14:10:24 + is_service_enabled zeromq
2013-07-15 14:10:24 + services=zeromq
2013-07-15 14:10:24 + for service in '${services}'
2013-07-15 14:10:24 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,zeromq, ]]
2013-07-15 14:10:24 + [[ zeromq == \n\o\v\a ]]
2013-07-15 14:10:24 + [[ zeromq == \c\i\n\d\e\r ]]
2013-07-15 14:10:24 + [[ zeromq == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:24 + [[ zeromq == \g\l\a\n\c\e ]]
2013-07-15 14:10:24 + [[ zeromq == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:24 + [[ zeromq == \s\w\i\f\t ]]
2013-07-15 14:10:24 + [[ zeromq == s-* ]]
2013-07-15 14:10:24 + return 1
2013-07-15 14:10:24 + is_service_enabled n-api
2013-07-15 14:10:24 + services=n-api
2013-07-15 14:10:24 + for service in '${services}'
2013-07-15 14:10:24 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-api, ]]
2013-07-15 14:10:24 + return 0
2013-07-15 14:10:24 + echo_summary 'Starting Nova API'
2013-07-15 14:10:24 + [[ -t 3 ]]
2013-07-15 14:10:24 + [[ True != \T\r\u\e ]]
2013-07-15 14:10:24 + echo -e Starting Nova API
2013-07-15 14:10:24 Starting Nova API
2013-07-15 14:10:24 + start_nova_api
2013-07-15 14:10:24 + local service_port=8774
2013-07-15 14:10:24 + is_service_enabled tls-proxy
2013-07-15 14:10:24 + services=tls-proxy
2013-07-15 14:10:24 + for service in '${services}'
2013-07-15 14:10:24 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-15 14:10:24 + [[ tls-proxy == \n\o\v\a ]]
2013-07-15 14:10:24 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:10:24 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:24 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:10:24 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:24 + [[ tls-proxy == \s\w\i\f\t ]]
2013-07-15 14:10:24 + [[ tls-proxy == s-* ]]
2013-07-15 14:10:24 + return 1
2013-07-15 14:10:24 + screen_it n-api 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-api'
2013-07-15 14:10:24 + SCREEN_NAME=stack
2013-07-15 14:10:24 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:24 ++ trueorfalse True True
2013-07-15 14:10:24 ++ local default=True
2013-07-15 14:10:24 ++ local testval=True
2013-07-15 14:10:24 ++ [[ -z True ]]
2013-07-15 14:10:24 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:24 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:24 ++ echo True
2013-07-15 14:10:24 ++ return
2013-07-15 14:10:24 + USE_SCREEN=True
2013-07-15 14:10:24 + is_service_enabled n-api
2013-07-15 14:10:24 + services=n-api
2013-07-15 14:10:24 + for service in '${services}'
2013-07-15 14:10:24 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-api, ]]
2013-07-15 14:10:24 + return 0
2013-07-15 14:10:24 + screen_rc n-api 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-api'
2013-07-15 14:10:24 + SCREEN_NAME=stack
2013-07-15 14:10:24 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:24 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:24 + grep n-api /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:24 ++ echo -ne '\015'
2013-07-15 14:10:24 + NL=$'\r'
2013-07-15 14:10:24 + echo 'screen -t n-api bash'
2013-07-15 14:10:24 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-api"'
2013-07-15 14:10:24 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:24 + screen -S stack -X screen -t n-api
2013-07-15 14:10:24 + [[ -n '' ]]
2013-07-15 14:10:24 + sleep 1.5
2013-07-15 14:10:26 ++ echo -ne '\015'
2013-07-15 14:10:26 + NL=$'\r'
2013-07-15 14:10:26 + screen -S stack -p n-api -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-api || touch "/opt/stack/status/stack/n-api.failure"'
2013-07-15 14:10:26 + echo 'Waiting for nova-api to start...'
2013-07-15 14:10:26 Waiting for nova-api to start...
2013-07-15 14:10:26 + wait_for_service 60 http://54.248.87.124:8774
2013-07-15 14:10:26 + local timeout=60
2013-07-15 14:10:26 + local url=http://54.248.87.124:8774
2013-07-15 14:10:26 + timeout 60 sh -c 'while ! http_proxy= https_proxy= curl -s http://54.248.87.124:8774 >/dev/null; do sleep 1; done'
2013-07-15 14:10:28 + is_service_enabled tls-proxy
2013-07-15 14:10:28 + services=tls-proxy
2013-07-15 14:10:28 + for service in '${services}'
2013-07-15 14:10:28 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-15 14:10:28 + [[ tls-proxy == \n\o\v\a ]]
2013-07-15 14:10:28 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:10:28 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:28 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:10:28 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:28 + [[ tls-proxy == \s\w\i\f\t ]]
2013-07-15 14:10:28 + [[ tls-proxy == s-* ]]
2013-07-15 14:10:28 + return 1
2013-07-15 14:10:28 + is_service_enabled q-svc
2013-07-15 14:10:28 + services=q-svc
2013-07-15 14:10:28 + for service in '${services}'
2013-07-15 14:10:28 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,q-svc, ]]
2013-07-15 14:10:28 + [[ q-svc == \n\o\v\a ]]
2013-07-15 14:10:28 + [[ q-svc == \c\i\n\d\e\r ]]
2013-07-15 14:10:28 + [[ q-svc == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:28 + [[ q-svc == \g\l\a\n\c\e ]]
2013-07-15 14:10:28 + [[ q-svc == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:28 + [[ q-svc == \s\w\i\f\t ]]
2013-07-15 14:10:28 + [[ q-svc == s-* ]]
2013-07-15 14:10:28 + return 1
2013-07-15 14:10:28 + is_service_enabled mysql postgresql
2013-07-15 14:10:28 + services='mysql postgresql'
2013-07-15 14:10:28 + for service in '${services}'
2013-07-15 14:10:28 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,mysql, ]]
2013-07-15 14:10:28 + return 0
2013-07-15 14:10:28 + is_service_enabled n-net
2013-07-15 14:10:28 + services=n-net
2013-07-15 14:10:28 + for service in '${services}'
2013-07-15 14:10:28 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-net, ]]
2013-07-15 14:10:28 + return 0
2013-07-15 14:10:28 + /opt/stack/nova/bin/nova-manage network create private 10.0.0.0/24 1 256
2013-07-15 14:10:28 2013-07-15 14:10:28.823 25304 INFO nova.network.driver [-] Loading network driver 'nova.network.linux_net'
2013-07-15 14:10:28 2013-07-15 14:10:28.825 25304 DEBUG nova.servicegroup.api [-] ServiceGroup driver defined as an instance of db __new__ /opt/stack/nova/nova/servicegroup/api.py:61
2013-07-15 14:10:28 2013-07-15 14:10:28.946 DEBUG nova.openstack.common.lockutils [req-8ef69baf-502c-4aa5-bdcd-9601b6ef07e3 None None] Got semaphore "dbapi_backend" for method "__get_backend"... inner /opt/stack/nova/nova/openstack/common/lockutils.py:186
2013-07-15 14:10:29 + /opt/stack/nova/bin/nova-manage floating create 172.24.4.224/28 --pool=public
2013-07-15 14:10:30 2013-07-15 14:10:30.248 DEBUG nova.openstack.common.lockutils [req-b7ee8818-7701-41a1-aa00-cf59ef665a67 None None] Got semaphore "dbapi_backend" for method "__get_backend"... inner /opt/stack/nova/nova/openstack/common/lockutils.py:186
2013-07-15 14:10:30 + /opt/stack/nova/bin/nova-manage floating create --ip_range=192.168.253.0/29 --pool=test
2013-07-15 14:10:31 2013-07-15 14:10:31.391 DEBUG nova.openstack.common.lockutils [req-c26c2f3d-49ae-4140-88ac-6b6df47171f8 None None] Got semaphore "dbapi_backend" for method "__get_backend"... inner /opt/stack/nova/nova/openstack/common/lockutils.py:186
2013-07-15 14:10:31 + is_service_enabled quantum
2013-07-15 14:10:31 + services=quantum
2013-07-15 14:10:31 + for service in '${services}'
2013-07-15 14:10:31 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-15 14:10:31 + [[ quantum == \n\o\v\a ]]
2013-07-15 14:10:31 + [[ quantum == \c\i\n\d\e\r ]]
2013-07-15 14:10:31 + [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:31 + [[ quantum == \g\l\a\n\c\e ]]
2013-07-15 14:10:31 + [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:31 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-15 14:10:31 + [[ quantum == \s\w\i\f\t ]]
2013-07-15 14:10:31 + [[ quantum == s-* ]]
2013-07-15 14:10:31 + return 1
2013-07-15 14:10:31 + is_service_enabled nova
2013-07-15 14:10:31 + services=nova
2013-07-15 14:10:31 + for service in '${services}'
2013-07-15 14:10:31 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-15 14:10:31 + [[ nova == \n\o\v\a ]]
2013-07-15 14:10:31 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-15 14:10:31 + return 0
2013-07-15 14:10:31 + echo_summary 'Starting Nova'
2013-07-15 14:10:31 + [[ -t 3 ]]
2013-07-15 14:10:31 + [[ True != \T\r\u\e ]]
2013-07-15 14:10:31 + echo -e Starting Nova
2013-07-15 14:10:31 + start_nova
2013-07-15 14:10:31 + screen_it n-cond 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-conductor'
2013-07-15 14:10:31 + SCREEN_NAME=stack
2013-07-15 14:10:32 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:32 Starting Nova
2013-07-15 14:10:32 ++ trueorfalse True True
2013-07-15 14:10:32 ++ local default=True
2013-07-15 14:10:32 ++ local testval=True
2013-07-15 14:10:32 ++ [[ -z True ]]
2013-07-15 14:10:32 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:32 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:32 ++ echo True
2013-07-15 14:10:32 ++ return
2013-07-15 14:10:32 + USE_SCREEN=True
2013-07-15 14:10:32 + is_service_enabled n-cond
2013-07-15 14:10:32 + services=n-cond
2013-07-15 14:10:32 + for service in '${services}'
2013-07-15 14:10:32 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cond, ]]
2013-07-15 14:10:32 + return 0
2013-07-15 14:10:32 + screen_rc n-cond 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-conductor'
2013-07-15 14:10:32 + SCREEN_NAME=stack
2013-07-15 14:10:32 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:32 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:32 + grep n-cond /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:32 ++ echo -ne '\015'
2013-07-15 14:10:32 + NL=$'\r'
2013-07-15 14:10:32 + echo 'screen -t n-cond bash'
2013-07-15 14:10:32 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-conductor"'
2013-07-15 14:10:32 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:32 + screen -S stack -X screen -t n-cond
2013-07-15 14:10:32 + [[ -n '' ]]
2013-07-15 14:10:32 + sleep 1.5
2013-07-15 14:10:33 ++ echo -ne '\015'
2013-07-15 14:10:33 + NL=$'\r'
2013-07-15 14:10:33 + screen -S stack -p n-cond -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-conductor || touch "/opt/stack/status/stack/n-cond.failure"'
2013-07-15 14:10:33 + screen_it n-cpu 'cd /opt/stack/nova && sg libvirtd /opt/stack/nova/bin/nova-compute'
2013-07-15 14:10:33 + SCREEN_NAME=stack
2013-07-15 14:10:33 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:33 ++ trueorfalse True True
2013-07-15 14:10:33 ++ local default=True
2013-07-15 14:10:33 ++ local testval=True
2013-07-15 14:10:33 ++ [[ -z True ]]
2013-07-15 14:10:33 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:33 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:33 ++ echo True
2013-07-15 14:10:33 ++ return
2013-07-15 14:10:33 + USE_SCREEN=True
2013-07-15 14:10:33 + is_service_enabled n-cpu
2013-07-15 14:10:33 + services=n-cpu
2013-07-15 14:10:33 + for service in '${services}'
2013-07-15 14:10:33 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cpu, ]]
2013-07-15 14:10:33 + return 0
2013-07-15 14:10:33 + screen_rc n-cpu 'cd /opt/stack/nova && sg libvirtd /opt/stack/nova/bin/nova-compute'
2013-07-15 14:10:33 + SCREEN_NAME=stack
2013-07-15 14:10:33 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:33 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:33 + grep n-cpu /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:33 ++ echo -ne '\015'
2013-07-15 14:10:33 + NL=$'\r'
2013-07-15 14:10:33 + echo 'screen -t n-cpu bash'
2013-07-15 14:10:33 + echo 'stuff "cd /opt/stack/nova && sg libvirtd /opt/stack/nova/bin/nova-compute"'
2013-07-15 14:10:33 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:33 + screen -S stack -X screen -t n-cpu
2013-07-15 14:10:33 + [[ -n '' ]]
2013-07-15 14:10:33 + sleep 1.5
2013-07-15 14:10:34 ++ echo -ne '\015'
2013-07-15 14:10:34 + NL=$'\r'
2013-07-15 14:10:34 + screen -S stack -p n-cpu -X stuff 'cd /opt/stack/nova && sg libvirtd /opt/stack/nova/bin/nova-compute || touch "/opt/stack/status/stack/n-cpu.failure"'
2013-07-15 14:10:34 + screen_it n-crt 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-cert'
2013-07-15 14:10:34 + SCREEN_NAME=stack
2013-07-15 14:10:34 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:34 ++ trueorfalse True True
2013-07-15 14:10:35 ++ local default=True
2013-07-15 14:10:35 ++ local testval=True
2013-07-15 14:10:35 ++ [[ -z True ]]
2013-07-15 14:10:35 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:35 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:35 ++ echo True
2013-07-15 14:10:35 ++ return
2013-07-15 14:10:35 + USE_SCREEN=True
2013-07-15 14:10:35 + is_service_enabled n-crt
2013-07-15 14:10:35 + services=n-crt
2013-07-15 14:10:35 + for service in '${services}'
2013-07-15 14:10:35 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-crt, ]]
2013-07-15 14:10:35 + return 0
2013-07-15 14:10:35 + screen_rc n-crt 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-cert'
2013-07-15 14:10:35 + SCREEN_NAME=stack
2013-07-15 14:10:35 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:35 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:35 + grep n-crt /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:35 ++ echo -ne '\015'
2013-07-15 14:10:35 + NL=$'\r'
2013-07-15 14:10:35 + echo 'screen -t n-crt bash'
2013-07-15 14:10:35 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-cert"'
2013-07-15 14:10:35 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:35 + screen -S stack -X screen -t n-crt
2013-07-15 14:10:35 + [[ -n '' ]]
2013-07-15 14:10:35 + sleep 1.5
2013-07-15 14:10:36 ++ echo -ne '\015'
2013-07-15 14:10:36 + NL=$'\r'
2013-07-15 14:10:36 + screen -S stack -p n-crt -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-cert || touch "/opt/stack/status/stack/n-crt.failure"'
2013-07-15 14:10:36 + screen_it n-net 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-network'
2013-07-15 14:10:36 + SCREEN_NAME=stack
2013-07-15 14:10:36 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:36 ++ trueorfalse True True
2013-07-15 14:10:36 ++ local default=True
2013-07-15 14:10:36 ++ local testval=True
2013-07-15 14:10:36 ++ [[ -z True ]]
2013-07-15 14:10:36 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:36 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:36 ++ echo True
2013-07-15 14:10:36 ++ return
2013-07-15 14:10:36 + USE_SCREEN=True
2013-07-15 14:10:36 + is_service_enabled n-net
2013-07-15 14:10:36 + services=n-net
2013-07-15 14:10:36 + for service in '${services}'
2013-07-15 14:10:36 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-net, ]]
2013-07-15 14:10:36 + return 0
2013-07-15 14:10:36 + screen_rc n-net 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-network'
2013-07-15 14:10:36 + SCREEN_NAME=stack
2013-07-15 14:10:36 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:36 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:36 + grep n-net /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:36 ++ echo -ne '\015'
2013-07-15 14:10:36 + NL=$'\r'
2013-07-15 14:10:36 + echo 'screen -t n-net bash'
2013-07-15 14:10:36 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-network"'
2013-07-15 14:10:36 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:36 + screen -S stack -X screen -t n-net
2013-07-15 14:10:36 + [[ -n '' ]]
2013-07-15 14:10:36 + sleep 1.5
2013-07-15 14:10:38 ++ echo -ne '\015'
2013-07-15 14:10:38 + NL=$'\r'
2013-07-15 14:10:38 + screen -S stack -p n-net -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-network || touch "/opt/stack/status/stack/n-net.failure"'
2013-07-15 14:10:38 + screen_it n-sch 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-scheduler'
2013-07-15 14:10:38 + SCREEN_NAME=stack
2013-07-15 14:10:38 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:38 ++ trueorfalse True True
2013-07-15 14:10:38 ++ local default=True
2013-07-15 14:10:38 ++ local testval=True
2013-07-15 14:10:38 ++ [[ -z True ]]
2013-07-15 14:10:38 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:38 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:38 ++ echo True
2013-07-15 14:10:38 ++ return
2013-07-15 14:10:38 + USE_SCREEN=True
2013-07-15 14:10:38 + is_service_enabled n-sch
2013-07-15 14:10:38 + services=n-sch
2013-07-15 14:10:38 + for service in '${services}'
2013-07-15 14:10:38 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-sch, ]]
2013-07-15 14:10:38 + return 0
2013-07-15 14:10:38 + screen_rc n-sch 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-scheduler'
2013-07-15 14:10:38 + SCREEN_NAME=stack
2013-07-15 14:10:38 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:38 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:38 + grep n-sch /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:38 ++ echo -ne '\015'
2013-07-15 14:10:38 + NL=$'\r'
2013-07-15 14:10:38 + echo 'screen -t n-sch bash'
2013-07-15 14:10:38 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-scheduler"'
2013-07-15 14:10:38 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:38 + screen -S stack -X screen -t n-sch
2013-07-15 14:10:38 + [[ -n '' ]]
2013-07-15 14:10:38 + sleep 1.5
2013-07-15 14:10:39 ++ echo -ne '\015'
2013-07-15 14:10:39 + NL=$'\r'
2013-07-15 14:10:39 + screen -S stack -p n-sch -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-scheduler || touch "/opt/stack/status/stack/n-sch.failure"'
2013-07-15 14:10:39 + screen_it n-novnc 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-novncproxy --config-file /etc/nova/nova.conf --web /opt/stack/noVNC'
2013-07-15 14:10:39 + SCREEN_NAME=stack
2013-07-15 14:10:39 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:39 ++ trueorfalse True True
2013-07-15 14:10:39 ++ local default=True
2013-07-15 14:10:39 ++ local testval=True
2013-07-15 14:10:39 ++ [[ -z True ]]
2013-07-15 14:10:39 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:39 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:39 ++ echo True
2013-07-15 14:10:39 ++ return
2013-07-15 14:10:39 + USE_SCREEN=True
2013-07-15 14:10:39 + is_service_enabled n-novnc
2013-07-15 14:10:39 + services=n-novnc
2013-07-15 14:10:39 + for service in '${services}'
2013-07-15 14:10:39 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-novnc, ]]
2013-07-15 14:10:39 + return 0
2013-07-15 14:10:39 + screen_rc n-novnc 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-novncproxy --config-file /etc/nova/nova.conf --web /opt/stack/noVNC'
2013-07-15 14:10:39 + SCREEN_NAME=stack
2013-07-15 14:10:39 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:39 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:39 + grep n-novnc /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:39 ++ echo -ne '\015'
2013-07-15 14:10:39 + NL=$'\r'
2013-07-15 14:10:39 + echo 'screen -t n-novnc bash'
2013-07-15 14:10:39 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-novncproxy --config-file /etc/nova/nova.conf --web /opt/stack/noVNC"'
2013-07-15 14:10:39 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:39 + screen -S stack -X screen -t n-novnc
2013-07-15 14:10:39 + [[ -n '' ]]
2013-07-15 14:10:39 + sleep 1.5
2013-07-15 14:10:41 ++ echo -ne '\015'
2013-07-15 14:10:41 + NL=$'\r'
2013-07-15 14:10:41 + screen -S stack -p n-novnc -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-novncproxy --config-file /etc/nova/nova.conf --web /opt/stack/noVNC || touch "/opt/stack/status/stack/n-novnc.failure"'
2013-07-15 14:10:41 + screen_it n-xvnc 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-xvpvncproxy --config-file /etc/nova/nova.conf'
2013-07-15 14:10:41 + SCREEN_NAME=stack
2013-07-15 14:10:41 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:41 ++ trueorfalse True True
2013-07-15 14:10:41 ++ local default=True
2013-07-15 14:10:41 ++ local testval=True
2013-07-15 14:10:41 ++ [[ -z True ]]
2013-07-15 14:10:41 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:41 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:41 ++ echo True
2013-07-15 14:10:41 ++ return
2013-07-15 14:10:41 + USE_SCREEN=True
2013-07-15 14:10:41 + is_service_enabled n-xvnc
2013-07-15 14:10:41 + services=n-xvnc
2013-07-15 14:10:41 + for service in '${services}'
2013-07-15 14:10:41 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-xvnc, ]]
2013-07-15 14:10:41 + return 0
2013-07-15 14:10:41 + screen_rc n-xvnc 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-xvpvncproxy --config-file /etc/nova/nova.conf'
2013-07-15 14:10:41 + SCREEN_NAME=stack
2013-07-15 14:10:41 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:41 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:41 + grep n-xvnc /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:41 ++ echo -ne '\015'
2013-07-15 14:10:41 + NL=$'\r'
2013-07-15 14:10:41 + echo 'screen -t n-xvnc bash'
2013-07-15 14:10:41 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-xvpvncproxy --config-file /etc/nova/nova.conf"'
2013-07-15 14:10:41 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:41 + screen -S stack -X screen -t n-xvnc
2013-07-15 14:10:41 + [[ -n '' ]]
2013-07-15 14:10:41 + sleep 1.5
2013-07-15 14:10:42 ++ echo -ne '\015'
2013-07-15 14:10:42 + NL=$'\r'
2013-07-15 14:10:42 + screen -S stack -p n-xvnc -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-xvpvncproxy --config-file /etc/nova/nova.conf || touch "/opt/stack/status/stack/n-xvnc.failure"'
2013-07-15 14:10:42 + screen_it n-spice 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-spicehtml5proxy --config-file /etc/nova/nova.conf --web /opt/stack/spice-html5'
2013-07-15 14:10:42 + SCREEN_NAME=stack
2013-07-15 14:10:42 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:42 ++ trueorfalse True True
2013-07-15 14:10:42 ++ local default=True
2013-07-15 14:10:42 ++ local testval=True
2013-07-15 14:10:42 ++ [[ -z True ]]
2013-07-15 14:10:42 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:42 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:42 ++ echo True
2013-07-15 14:10:42 ++ return
2013-07-15 14:10:42 + USE_SCREEN=True
2013-07-15 14:10:42 + is_service_enabled n-spice
2013-07-15 14:10:42 + services=n-spice
2013-07-15 14:10:42 + for service in '${services}'
2013-07-15 14:10:42 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-spice, ]]
2013-07-15 14:10:42 + [[ n-spice == \n\o\v\a ]]
2013-07-15 14:10:42 + [[ n-spice == \c\i\n\d\e\r ]]
2013-07-15 14:10:42 + [[ n-spice == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:42 + [[ n-spice == \g\l\a\n\c\e ]]
2013-07-15 14:10:42 + [[ n-spice == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:42 + [[ n-spice == \s\w\i\f\t ]]
2013-07-15 14:10:42 + [[ n-spice == s-* ]]
2013-07-15 14:10:42 + return 1
2013-07-15 14:10:42 + screen_it n-cauth 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-consoleauth'
2013-07-15 14:10:42 + SCREEN_NAME=stack
2013-07-15 14:10:43 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:43 ++ trueorfalse True True
2013-07-15 14:10:43 ++ local default=True
2013-07-15 14:10:43 ++ local testval=True
2013-07-15 14:10:43 ++ [[ -z True ]]
2013-07-15 14:10:43 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:43 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:43 ++ echo True
2013-07-15 14:10:43 ++ return
2013-07-15 14:10:43 + USE_SCREEN=True
2013-07-15 14:10:43 + is_service_enabled n-cauth
2013-07-15 14:10:43 + services=n-cauth
2013-07-15 14:10:43 + for service in '${services}'
2013-07-15 14:10:43 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-cauth, ]]
2013-07-15 14:10:43 + return 0
2013-07-15 14:10:43 + screen_rc n-cauth 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-consoleauth'
2013-07-15 14:10:43 + SCREEN_NAME=stack
2013-07-15 14:10:43 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:43 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:43 + grep n-cauth /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:43 ++ echo -ne '\015'
2013-07-15 14:10:43 + NL=$'\r'
2013-07-15 14:10:43 + echo 'screen -t n-cauth bash'
2013-07-15 14:10:43 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-consoleauth"'
2013-07-15 14:10:43 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:43 + screen -S stack -X screen -t n-cauth
2013-07-15 14:10:43 + [[ -n '' ]]
2013-07-15 14:10:43 + sleep 1.5
2013-07-15 14:10:44 ++ echo -ne '\015'
2013-07-15 14:10:44 + NL=$'\r'
2013-07-15 14:10:44 + screen -S stack -p n-cauth -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-consoleauth || touch "/opt/stack/status/stack/n-cauth.failure"'
2013-07-15 14:10:44 + is_service_enabled swift3
2013-07-15 14:10:44 + services=swift3
2013-07-15 14:10:44 + for service in '${services}'
2013-07-15 14:10:44 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,swift3, ]]
2013-07-15 14:10:44 + [[ swift3 == \n\o\v\a ]]
2013-07-15 14:10:44 + [[ swift3 == \c\i\n\d\e\r ]]
2013-07-15 14:10:44 + [[ swift3 == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:44 + [[ swift3 == \g\l\a\n\c\e ]]
2013-07-15 14:10:44 + [[ swift3 == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:44 + [[ swift3 == \s\w\i\f\t ]]
2013-07-15 14:10:44 + [[ swift3 == s-* ]]
2013-07-15 14:10:44 + return 1
2013-07-15 14:10:44 + screen_it n-obj 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-objectstore'
2013-07-15 14:10:44 + SCREEN_NAME=stack
2013-07-15 14:10:44 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:44 ++ trueorfalse True True
2013-07-15 14:10:44 ++ local default=True
2013-07-15 14:10:44 ++ local testval=True
2013-07-15 14:10:44 ++ [[ -z True ]]
2013-07-15 14:10:44 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:44 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:44 ++ echo True
2013-07-15 14:10:44 ++ return
2013-07-15 14:10:44 + USE_SCREEN=True
2013-07-15 14:10:44 + is_service_enabled n-obj
2013-07-15 14:10:44 + services=n-obj
2013-07-15 14:10:44 + for service in '${services}'
2013-07-15 14:10:44 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,n-obj, ]]
2013-07-15 14:10:44 + return 0
2013-07-15 14:10:44 + screen_rc n-obj 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-objectstore'
2013-07-15 14:10:44 + SCREEN_NAME=stack
2013-07-15 14:10:44 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:44 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:44 + grep n-obj /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:44 ++ echo -ne '\015'
2013-07-15 14:10:44 + NL=$'\r'
2013-07-15 14:10:44 + echo 'screen -t n-obj bash'
2013-07-15 14:10:44 + echo 'stuff "cd /opt/stack/nova && /opt/stack/nova/bin/nova-objectstore"'
2013-07-15 14:10:44 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:44 + screen -S stack -X screen -t n-obj
2013-07-15 14:10:44 + [[ -n '' ]]
2013-07-15 14:10:44 + sleep 1.5
2013-07-15 14:10:45 ++ echo -ne '\015'
2013-07-15 14:10:45 + NL=$'\r'
2013-07-15 14:10:45 + screen -S stack -p n-obj -X stuff 'cd /opt/stack/nova && /opt/stack/nova/bin/nova-objectstore || touch "/opt/stack/status/stack/n-obj.failure"'
2013-07-15 14:10:45 + echo start_nova
2013-07-15 14:10:45 start_nova
2013-07-15 14:10:45 + echo 'nova  conf' /etc/nova/nova.conf
2013-07-15 14:10:45 nova  conf /etc/nova/nova.conf
2013-07-15 14:10:45 + is_service_enabled cinder
2013-07-15 14:10:45 + services=cinder
2013-07-15 14:10:45 + for service in '${services}'
2013-07-15 14:10:45 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,cinder, ]]
2013-07-15 14:10:45 + return 0
2013-07-15 14:10:45 + echo_summary 'Starting Cinder'
2013-07-15 14:10:45 + [[ -t 3 ]]
2013-07-15 14:10:45 + [[ True != \T\r\u\e ]]
2013-07-15 14:10:46 + echo -e Starting Cinder
2013-07-15 14:10:46 + start_cinder
2013-07-15 14:10:46 + is_service_enabled c-vol
2013-07-15 14:10:46 + services=c-vol
2013-07-15 14:10:46 + for service in '${services}'
2013-07-15 14:10:46 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-vol, ]]
2013-07-15 14:10:46 + return 0
2013-07-15 14:10:46 + _configure_tgt_for_config_d
2013-07-15 14:10:46 + [[ ! -d /etc/tgt/conf.d/ ]]
2013-07-15 14:10:46 + [[ ! -f /etc/tgt/conf.d/stack.conf ]]
2013-07-15 14:10:46 + is_ubuntu
2013-07-15 14:10:46 + [[ -z deb ]]
2013-07-15 14:10:46 + '[' deb = deb ']'
2013-07-15 14:10:46 + sudo stop tgt
2013-07-15 14:10:46 Starting Cinder
2013-07-15 14:10:46 stop: Unknown instance: 
2013-07-15 14:10:46 + true
2013-07-15 14:10:46 + sudo start tgt
2013-07-15 14:10:46 tgt start/running, process 26791
2013-07-15 14:10:46 + screen_it c-api 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-api --config-file /etc/cinder/cinder.conf'
2013-07-15 14:10:46 + SCREEN_NAME=stack
2013-07-15 14:10:46 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:46 ++ trueorfalse True True
2013-07-15 14:10:46 ++ local default=True
2013-07-15 14:10:46 ++ local testval=True
2013-07-15 14:10:46 ++ [[ -z True ]]
2013-07-15 14:10:46 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:46 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:46 ++ echo True
2013-07-15 14:10:46 ++ return
2013-07-15 14:10:46 + USE_SCREEN=True
2013-07-15 14:10:46 + is_service_enabled c-api
2013-07-15 14:10:46 + services=c-api
2013-07-15 14:10:46 + for service in '${services}'
2013-07-15 14:10:46 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-api, ]]
2013-07-15 14:10:46 + return 0
2013-07-15 14:10:46 + screen_rc c-api 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-api --config-file /etc/cinder/cinder.conf'
2013-07-15 14:10:46 + SCREEN_NAME=stack
2013-07-15 14:10:46 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:46 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:46 + grep c-api /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:46 ++ echo -ne '\015'
2013-07-15 14:10:46 + NL=$'\r'
2013-07-15 14:10:46 + echo 'screen -t c-api bash'
2013-07-15 14:10:46 + echo 'stuff "cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-api --config-file /etc/cinder/cinder.conf"'
2013-07-15 14:10:46 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:46 + screen -S stack -X screen -t c-api
2013-07-15 14:10:46 + [[ -n '' ]]
2013-07-15 14:10:46 + sleep 1.5
2013-07-15 14:10:47 ++ echo -ne '\015'
2013-07-15 14:10:47 + NL=$'\r'
2013-07-15 14:10:47 + screen -S stack -p c-api -X stuff 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-api --config-file /etc/cinder/cinder.conf || touch "/opt/stack/status/stack/c-api.failure"'
2013-07-15 14:10:47 + screen_it c-vol 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-volume --config-file /etc/cinder/cinder.conf'
2013-07-15 14:10:47 + SCREEN_NAME=stack
2013-07-15 14:10:47 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:47 ++ trueorfalse True True
2013-07-15 14:10:47 ++ local default=True
2013-07-15 14:10:47 ++ local testval=True
2013-07-15 14:10:47 ++ [[ -z True ]]
2013-07-15 14:10:47 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:47 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:47 ++ echo True
2013-07-15 14:10:47 ++ return
2013-07-15 14:10:47 + USE_SCREEN=True
2013-07-15 14:10:47 + is_service_enabled c-vol
2013-07-15 14:10:47 + services=c-vol
2013-07-15 14:10:47 + for service in '${services}'
2013-07-15 14:10:47 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-vol, ]]
2013-07-15 14:10:47 + return 0
2013-07-15 14:10:47 + screen_rc c-vol 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-volume --config-file /etc/cinder/cinder.conf'
2013-07-15 14:10:47 + SCREEN_NAME=stack
2013-07-15 14:10:47 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:47 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:47 + grep c-vol /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:47 ++ echo -ne '\015'
2013-07-15 14:10:47 + NL=$'\r'
2013-07-15 14:10:47 + echo 'screen -t c-vol bash'
2013-07-15 14:10:47 + echo 'stuff "cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-volume --config-file /etc/cinder/cinder.conf"'
2013-07-15 14:10:47 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:47 + screen -S stack -X screen -t c-vol
2013-07-15 14:10:47 + [[ -n '' ]]
2013-07-15 14:10:47 + sleep 1.5
2013-07-15 14:10:49 ++ echo -ne '\015'
2013-07-15 14:10:49 + NL=$'\r'
2013-07-15 14:10:49 + screen -S stack -p c-vol -X stuff 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-volume --config-file /etc/cinder/cinder.conf || touch "/opt/stack/status/stack/c-vol.failure"'
2013-07-15 14:10:49 + screen_it c-sch 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf'
2013-07-15 14:10:49 + SCREEN_NAME=stack
2013-07-15 14:10:49 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:49 ++ trueorfalse True True
2013-07-15 14:10:49 ++ local default=True
2013-07-15 14:10:49 ++ local testval=True
2013-07-15 14:10:49 ++ [[ -z True ]]
2013-07-15 14:10:49 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:49 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:49 ++ echo True
2013-07-15 14:10:49 ++ return
2013-07-15 14:10:49 + USE_SCREEN=True
2013-07-15 14:10:49 + is_service_enabled c-sch
2013-07-15 14:10:49 + services=c-sch
2013-07-15 14:10:49 + for service in '${services}'
2013-07-15 14:10:49 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-sch, ]]
2013-07-15 14:10:49 + return 0
2013-07-15 14:10:49 + screen_rc c-sch 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf'
2013-07-15 14:10:49 + SCREEN_NAME=stack
2013-07-15 14:10:49 + SCREENRC=/home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:49 + [[ ! -e /home/ubuntu/devstack/stack-screenrc ]]
2013-07-15 14:10:49 + grep c-sch /home/ubuntu/devstack/stack-screenrc
2013-07-15 14:10:49 ++ echo -ne '\015'
2013-07-15 14:10:49 + NL=$'\r'
2013-07-15 14:10:49 + echo 'screen -t c-sch bash'
2013-07-15 14:10:49 + echo 'stuff "cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf"'
2013-07-15 14:10:49 + [[ True = \T\r\u\e ]]
2013-07-15 14:10:49 + screen -S stack -X screen -t c-sch
2013-07-15 14:10:49 + [[ -n '' ]]
2013-07-15 14:10:49 + sleep 1.5
2013-07-15 14:10:50 ++ echo -ne '\015'
2013-07-15 14:10:50 + NL=$'\r'
2013-07-15 14:10:50 + screen -S stack -p c-sch -X stuff 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-scheduler --config-file /etc/cinder/cinder.conf || touch "/opt/stack/status/stack/c-sch.failure"'
2013-07-15 14:10:50 + screen_it c-bak 'cd /opt/stack/cinder && /opt/stack/cinder/bin/cinder-backup --config-file /etc/cinder/cinder.conf'
2013-07-15 14:10:50 + SCREEN_NAME=stack
2013-07-15 14:10:50 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:10:50 ++ trueorfalse True True
2013-07-15 14:10:50 ++ local default=True
2013-07-15 14:10:50 ++ local testval=True
2013-07-15 14:10:50 ++ [[ -z True ]]
2013-07-15 14:10:50 ++ [[ 0 no false False FALSE =~ True ]]
2013-07-15 14:10:50 ++ [[ 1 yes true True TRUE =~ True ]]
2013-07-15 14:10:50 ++ echo True
2013-07-15 14:10:50 ++ return
2013-07-15 14:10:50 + USE_SCREEN=True
2013-07-15 14:10:50 + is_service_enabled c-bak
2013-07-15 14:10:50 + services=c-bak
2013-07-15 14:10:50 + for service in '${services}'
2013-07-15 14:10:50 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-bak, ]]
2013-07-15 14:10:50 + [[ c-bak == \n\o\v\a ]]
2013-07-15 14:10:50 + [[ c-bak == \c\i\n\d\e\r ]]
2013-07-15 14:10:50 + [[ c-bak == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:51 + [[ c-bak == \g\l\a\n\c\e ]]
2013-07-15 14:10:51 + [[ c-bak == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:51 + [[ c-bak == \s\w\i\f\t ]]
2013-07-15 14:10:51 + [[ c-bak == s-* ]]
2013-07-15 14:10:51 + return 1
2013-07-15 14:10:51 + is_service_enabled c-api
2013-07-15 14:10:51 + services=c-api
2013-07-15 14:10:51 + for service in '${services}'
2013-07-15 14:10:51 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,c-api, ]]
2013-07-15 14:10:51 + return 0
2013-07-15 14:10:51 + is_service_enabled tls-proxy
2013-07-15 14:10:51 + services=tls-proxy
2013-07-15 14:10:51 + for service in '${services}'
2013-07-15 14:10:51 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tls-proxy, ]]
2013-07-15 14:10:51 + [[ tls-proxy == \n\o\v\a ]]
2013-07-15 14:10:51 + [[ tls-proxy == \c\i\n\d\e\r ]]
2013-07-15 14:10:51 + [[ tls-proxy == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:51 + [[ tls-proxy == \g\l\a\n\c\e ]]
2013-07-15 14:10:51 + [[ tls-proxy == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:51 + [[ tls-proxy == \s\w\i\f\t ]]
2013-07-15 14:10:51 + [[ tls-proxy == s-* ]]
2013-07-15 14:10:51 + return 1
2013-07-15 14:10:51 + is_service_enabled ceilometer
2013-07-15 14:10:51 + services=ceilometer
2013-07-15 14:10:51 + for service in '${services}'
2013-07-15 14:10:51 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,ceilometer, ]]
2013-07-15 14:10:51 + [[ ceilometer == \n\o\v\a ]]
2013-07-15 14:10:51 + [[ ceilometer == \c\i\n\d\e\r ]]
2013-07-15 14:10:51 + [[ ceilometer == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:51 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ ceilometer- ]]
2013-07-15 14:10:51 + [[ ceilometer == \g\l\a\n\c\e ]]
2013-07-15 14:10:51 + [[ ceilometer == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:51 + [[ ceilometer == \s\w\i\f\t ]]
2013-07-15 14:10:51 + [[ ceilometer == s-* ]]
2013-07-15 14:10:51 + return 1
2013-07-15 14:10:51 + is_service_enabled heat
2013-07-15 14:10:51 + services=heat
2013-07-15 14:10:51 + for service in '${services}'
2013-07-15 14:10:51 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,heat, ]]
2013-07-15 14:10:51 + [[ heat == \n\o\v\a ]]
2013-07-15 14:10:51 + [[ heat == \c\i\n\d\e\r ]]
2013-07-15 14:10:51 + [[ heat == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:10:51 + [[ heat == \g\l\a\n\c\e ]]
2013-07-15 14:10:51 + [[ heat == \q\u\a\n\t\u\m ]]
2013-07-15 14:10:51 + [[ heat == \s\w\i\f\t ]]
2013-07-15 14:10:51 + [[ heat == s-* ]]
2013-07-15 14:10:51 + return 1
2013-07-15 14:10:51 + is_service_enabled nova
2013-07-15 14:10:51 + services=nova
2013-07-15 14:10:51 + for service in '${services}'
2013-07-15 14:10:51 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-15 14:10:51 + [[ nova == \n\o\v\a ]]
2013-07-15 14:10:51 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-15 14:10:51 + return 0
2013-07-15 14:10:51 + is_service_enabled key
2013-07-15 14:10:51 + services=key
2013-07-15 14:10:51 + for service in '${services}'
2013-07-15 14:10:51 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,key, ]]
2013-07-15 14:10:51 + return 0
2013-07-15 14:10:51 + /home/ubuntu/devstack/tools/create_userrc.sh -PA --target-dir /home/ubuntu/devstack/accrc
2013-07-15 14:10:54 Wrote x509 root cert to /home/ubuntu/devstack/accrc/cacert.pem
2013-07-15 14:10:56 +-----------+----------------------------------+
2013-07-15 14:10:56 |  Property |              Value               |
2013-07-15 14:10:56 +-----------+----------------------------------+
2013-07-15 14:10:56 |   access  | 0986550068ea4b1382a4ac18affd78a9 |
2013-07-15 14:10:56 |   secret  | 12add9ec22004db38661dc9c3a2707c5 |
2013-07-15 14:10:56 | tenant_id | 55002efcbf994d1bb432025e8f592fb6 |
2013-07-15 14:10:56 |  user_id  | 4df873bd7018476a88b72ea2033f4279 |
2013-07-15 14:10:56 +-----------+----------------------------------+
2013-07-15 14:10:58 Wrote private key to /home/ubuntu/devstack/accrc/admin/admin-pk.pem
2013-07-15 14:10:58 Wrote x509 certificate to /home/ubuntu/devstack/accrc/admin/admin-cert.pem
2013-07-15 14:11:00 +-----------+----------------------------------+
2013-07-15 14:11:00 |  Property |              Value               |
2013-07-15 14:11:00 +-----------+----------------------------------+
2013-07-15 14:11:00 |   access  | 2f021d2700f244e3924b96d78726b33f |
2013-07-15 14:11:00 |   secret  | 26014449e3de4cc8a55e6adbf381a8d0 |
2013-07-15 14:11:00 | tenant_id | f2d8fc4b00ec486998f1a85cc5bb837d |
2013-07-15 14:11:00 |  user_id  | 13ccf32f1bda4778832b4c63e446d3c4 |
2013-07-15 14:11:00 +-----------+----------------------------------+
2013-07-15 14:11:02 Wrote private key to /home/ubuntu/devstack/accrc/alt_demo/alt_demo-pk.pem
2013-07-15 14:11:02 Wrote x509 certificate to /home/ubuntu/devstack/accrc/alt_demo/alt_demo-cert.pem
2013-07-15 14:11:04 +-----------+----------------------------------+
2013-07-15 14:11:04 |  Property |              Value               |
2013-07-15 14:11:04 +-----------+----------------------------------+
2013-07-15 14:11:04 |   access  | 32d596d075154fdd974b37437d11ff25 |
2013-07-15 14:11:04 |   secret  | 70d4702546614eb9b0a3cc206bab05e0 |
2013-07-15 14:11:04 | tenant_id | f5b85f13e4f94276af49163498d6c96a |
2013-07-15 14:11:04 |  user_id  | 4df873bd7018476a88b72ea2033f4279 |
2013-07-15 14:11:04 +-----------+----------------------------------+
2013-07-15 14:11:05 Wrote private key to /home/ubuntu/devstack/accrc/demo/admin-pk.pem
2013-07-15 14:11:06 Wrote x509 certificate to /home/ubuntu/devstack/accrc/demo/admin-cert.pem
2013-07-15 14:11:07 +-----------+----------------------------------+
2013-07-15 14:11:07 |  Property |              Value               |
2013-07-15 14:11:07 +-----------+----------------------------------+
2013-07-15 14:11:07 |   access  | 5eb8804ca069418ebdc19b72683c1276 |
2013-07-15 14:11:07 |   secret  | 604e1f28bc1045bb87d0d0f423e3c28e |
2013-07-15 14:11:07 | tenant_id | f5b85f13e4f94276af49163498d6c96a |
2013-07-15 14:11:07 |  user_id  | 4b39b0db77454854844adaf263b4cc28 |
2013-07-15 14:11:07 +-----------+----------------------------------+
2013-07-15 14:11:08 Wrote private key to /home/ubuntu/devstack/accrc/demo/demo-pk.pem
2013-07-15 14:11:08 Wrote x509 certificate to /home/ubuntu/devstack/accrc/demo/demo-cert.pem
2013-07-15 14:11:10 +-----------+----------------------------------+
2013-07-15 14:11:10 |  Property |              Value               |
2013-07-15 14:11:10 +-----------+----------------------------------+
2013-07-15 14:11:10 |   access  | 6df2d7d69ad848e595115cbfd53273ef |
2013-07-15 14:11:10 |   secret  | 51ee00c1ee524b73b26fde444e2088a4 |
2013-07-15 14:11:10 | tenant_id | 242f471bd6254daf89db3f8a23f249cc |
2013-07-15 14:11:10 |  user_id  | 4b39b0db77454854844adaf263b4cc28 |
2013-07-15 14:11:10 +-----------+----------------------------------+
2013-07-15 14:11:12 Wrote private key to /home/ubuntu/devstack/accrc/invisible_to_admin/demo-pk.pem
2013-07-15 14:11:12 Wrote x509 certificate to /home/ubuntu/devstack/accrc/invisible_to_admin/demo-cert.pem
2013-07-15 14:11:12 + is_service_enabled g-reg
2013-07-15 14:11:12 + services=g-reg
2013-07-15 14:11:12 + for service in '${services}'
2013-07-15 14:11:12 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,g-reg, ]]
2013-07-15 14:11:12 + return 0
2013-07-15 14:11:12 ++ get_field 2
2013-07-15 14:11:12 ++ read data
2013-07-15 14:11:12 ++ grep ' id '
2013-07-15 14:11:12 ++ keystone token-get
2013-07-15 14:11:13 ++ '[' 2 -lt 0 ']'
2013-07-15 14:11:13 ++ field='$3'
2013-07-15 14:11:13 ++ echo '|     id    | MIIKaQYJKoZIhvcNAQcCoIIKWjCCClYCAQExCTAHBgUrDgMCGjCCCUIGCSqGSIb3DQEHAaCCCTMEggkveyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0xNVQxNDoxMToxMy4xODM2NDUiLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTE2VDE0OjExOjEzWiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImRlc2NyaXB0aW9uIjogbnVsbCwgImVuYWJsZWQiOiB0cnVlLCAiaWQiOiAiNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAibmFtZSI6ICJhZG1pbiJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3NC92Mi81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAiaWQiOiAiMjY5MGI0ZTFkZDQ0NDczMjlmMjM3ZDY1YjgwNmJjNGQiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozMzMzIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyIsICJpZCI6ICIxMzIxNGIwNDNjNjg0MGY1OTNkMmY3OTU0NDU1ZDEzMCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6OTI5MiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIiLCAiaWQiOiAiM2UwMzc3OGQ4NWI4NGFhMWJkNTI3ZTgwZGQ0MmU2NzEiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4Nzc2L3YxLzU1MDAyZWZjYmY5OTRkMWJiNDMyMDI1ZThmNTkyZmI2IiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJpZCI6ICI0YjM3NjNkZGI1ZTY0NDgxYWEyYTI4YWE5MmUxMjI3YiIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4NzczL3NlcnZpY2VzL0FkbWluIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCIsICJpZCI6ICIxYWVmYjlhNDc1YmU0NjNiODhmNDVlZjQ3ZDg1NDg4OCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozNTM1Ny92Mi4wIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6NTAwMC92Mi4wIiwgImlkIjogIjhjMDM2NDlhMTczMDQxOWM5NDc3M2I1NmJlNjc5NmJlIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI0ZGY4NzNiZDcwMTg0NzZhODhiNzJlYTIwMzNmNDI3OSIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjZkOTQxZjRiYmVkODRiZmNhNjViYmJiYWJmMjhhNGNkIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGASciN25ecjeZqN5bBsTHMlTwfr0hTjYQCpVM+LTIcSUBhiNBJCXzdNhPj35-LtRzYszjMSMtAlGkOeS1HdlA8E6LAq8p72a1b1fGujOFYcoZbPKQC+sF3JWMA4pj6zEi6jHg-u8Ft5fl19EnC4cyeJDvv3JQCYIInbQk1dovuXyU= |'
2013-07-15 14:11:13 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:11:13 ++ read data
2013-07-15 14:11:13 + TOKEN=MIIKaQYJKoZIhvcNAQcCoIIKWjCCClYCAQExCTAHBgUrDgMCGjCCCUIGCSqGSIb3DQEHAaCCCTMEggkveyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0xNVQxNDoxMToxMy4xODM2NDUiLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTE2VDE0OjExOjEzWiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImRlc2NyaXB0aW9uIjogbnVsbCwgImVuYWJsZWQiOiB0cnVlLCAiaWQiOiAiNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAibmFtZSI6ICJhZG1pbiJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3NC92Mi81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAiaWQiOiAiMjY5MGI0ZTFkZDQ0NDczMjlmMjM3ZDY1YjgwNmJjNGQiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozMzMzIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyIsICJpZCI6ICIxMzIxNGIwNDNjNjg0MGY1OTNkMmY3OTU0NDU1ZDEzMCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6OTI5MiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIiLCAiaWQiOiAiM2UwMzc3OGQ4NWI4NGFhMWJkNTI3ZTgwZGQ0MmU2NzEiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4Nzc2L3YxLzU1MDAyZWZjYmY5OTRkMWJiNDMyMDI1ZThmNTkyZmI2IiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJpZCI6ICI0YjM3NjNkZGI1ZTY0NDgxYWEyYTI4YWE5MmUxMjI3YiIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4NzczL3NlcnZpY2VzL0FkbWluIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCIsICJpZCI6ICIxYWVmYjlhNDc1YmU0NjNiODhmNDVlZjQ3ZDg1NDg4OCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozNTM1Ny92Mi4wIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6NTAwMC92Mi4wIiwgImlkIjogIjhjMDM2NDlhMTczMDQxOWM5NDc3M2I1NmJlNjc5NmJlIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI0ZGY4NzNiZDcwMTg0NzZhODhiNzJlYTIwMzNmNDI3OSIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjZkOTQxZjRiYmVkODRiZmNhNjViYmJiYWJmMjhhNGNkIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGASciN25ecjeZqN5bBsTHMlTwfr0hTjYQCpVM+LTIcSUBhiNBJCXzdNhPj35-LtRzYszjMSMtAlGkOeS1HdlA8E6LAq8p72a1b1fGujOFYcoZbPKQC+sF3JWMA4pj6zEi6jHg-u8Ft5fl19EnC4cyeJDvv3JQCYIInbQk1dovuXyU=
2013-07-15 14:11:13 + is_baremetal
2013-07-15 14:11:13 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-15 14:11:13 + return 1
2013-07-15 14:11:13 + echo_summary 'Uploading images'
2013-07-15 14:11:13 + [[ -t 3 ]]
2013-07-15 14:11:13 + [[ True != \T\r\u\e ]]
2013-07-15 14:11:13 + echo -e Uploading images
2013-07-15 14:11:13 + [[ -n '' ]]
2013-07-15 14:11:13 + for image_url in '${IMAGE_URLS//,/ }'
2013-07-15 14:11:13 + upload_image http://download.cirros-cloud.net/0.3.1/cirros-0.3.1-x86_64-uec.tar.gz MIIKaQYJKoZIhvcNAQcCoIIKWjCCClYCAQExCTAHBgUrDgMCGjCCCUIGCSqGSIb3DQEHAaCCCTMEggkveyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0xNVQxNDoxMToxMy4xODM2NDUiLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTE2VDE0OjExOjEzWiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImRlc2NyaXB0aW9uIjogbnVsbCwgImVuYWJsZWQiOiB0cnVlLCAiaWQiOiAiNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAibmFtZSI6ICJhZG1pbiJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3NC92Mi81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAiaWQiOiAiMjY5MGI0ZTFkZDQ0NDczMjlmMjM3ZDY1YjgwNmJjNGQiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozMzMzIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyIsICJpZCI6ICIxMzIxNGIwNDNjNjg0MGY1OTNkMmY3OTU0NDU1ZDEzMCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6OTI5MiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIiLCAiaWQiOiAiM2UwMzc3OGQ4NWI4NGFhMWJkNTI3ZTgwZGQ0MmU2NzEiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4Nzc2L3YxLzU1MDAyZWZjYmY5OTRkMWJiNDMyMDI1ZThmNTkyZmI2IiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJpZCI6ICI0YjM3NjNkZGI1ZTY0NDgxYWEyYTI4YWE5MmUxMjI3YiIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4NzczL3NlcnZpY2VzL0FkbWluIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCIsICJpZCI6ICIxYWVmYjlhNDc1YmU0NjNiODhmNDVlZjQ3ZDg1NDg4OCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozNTM1Ny92Mi4wIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6NTAwMC92Mi4wIiwgImlkIjogIjhjMDM2NDlhMTczMDQxOWM5NDc3M2I1NmJlNjc5NmJlIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI0ZGY4NzNiZDcwMTg0NzZhODhiNzJlYTIwMzNmNDI3OSIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjZkOTQxZjRiYmVkODRiZmNhNjViYmJiYWJmMjhhNGNkIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGASciN25ecjeZqN5bBsTHMlTwfr0hTjYQCpVM+LTIcSUBhiNBJCXzdNhPj35-LtRzYszjMSMtAlGkOeS1HdlA8E6LAq8p72a1b1fGujOFYcoZbPKQC+sF3JWMA4pj6zEi6jHg-u8Ft5fl19EnC4cyeJDvv3JQCYIInbQk1dovuXyU=
2013-07-15 14:11:13 + local image_url=http://download.cirros-cloud.net/0.3.1/cirros-0.3.1-x86_64-uec.tar.gz
2013-07-15 14:11:13 + local token=MIIKaQYJKoZIhvcNAQcCoIIKWjCCClYCAQExCTAHBgUrDgMCGjCCCUIGCSqGSIb3DQEHAaCCCTMEggkveyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0xNVQxNDoxMToxMy4xODM2NDUiLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTE2VDE0OjExOjEzWiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImRlc2NyaXB0aW9uIjogbnVsbCwgImVuYWJsZWQiOiB0cnVlLCAiaWQiOiAiNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAibmFtZSI6ICJhZG1pbiJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3NC92Mi81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAiaWQiOiAiMjY5MGI0ZTFkZDQ0NDczMjlmMjM3ZDY1YjgwNmJjNGQiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozMzMzIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyIsICJpZCI6ICIxMzIxNGIwNDNjNjg0MGY1OTNkMmY3OTU0NDU1ZDEzMCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6OTI5MiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIiLCAiaWQiOiAiM2UwMzc3OGQ4NWI4NGFhMWJkNTI3ZTgwZGQ0MmU2NzEiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4Nzc2L3YxLzU1MDAyZWZjYmY5OTRkMWJiNDMyMDI1ZThmNTkyZmI2IiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJpZCI6ICI0YjM3NjNkZGI1ZTY0NDgxYWEyYTI4YWE5MmUxMjI3YiIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4NzczL3NlcnZpY2VzL0FkbWluIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCIsICJpZCI6ICIxYWVmYjlhNDc1YmU0NjNiODhmNDVlZjQ3ZDg1NDg4OCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozNTM1Ny92Mi4wIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6NTAwMC92Mi4wIiwgImlkIjogIjhjMDM2NDlhMTczMDQxOWM5NDc3M2I1NmJlNjc5NmJlIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI0ZGY4NzNiZDcwMTg0NzZhODhiNzJlYTIwMzNmNDI3OSIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjZkOTQxZjRiYmVkODRiZmNhNjViYmJiYWJmMjhhNGNkIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGASciN25ecjeZqN5bBsTHMlTwfr0hTjYQCpVM+LTIcSUBhiNBJCXzdNhPj35-LtRzYszjMSMtAlGkOeS1HdlA8E6LAq8p72a1b1fGujOFYcoZbPKQC+sF3JWMA4pj6zEi6jHg-u8Ft5fl19EnC4cyeJDvv3JQCYIInbQk1dovuXyU=
2013-07-15 14:11:13 + mkdir -p /home/ubuntu/devstack/files/images
2013-07-15 14:11:13 Uploading images
2013-07-15 14:11:13 ++ basename http://download.cirros-cloud.net/0.3.1/cirros-0.3.1-x86_64-uec.tar.gz
2013-07-15 14:11:13 + IMAGE_FNAME=cirros-0.3.1-x86_64-uec.tar.gz
2013-07-15 14:11:13 + [[ ! -f /home/ubuntu/devstack/files/cirros-0.3.1-x86_64-uec.tar.gz ]]
2013-07-15 14:11:13 ++ stat -c %s /home/ubuntu/devstack/files/cirros-0.3.1-x86_64-uec.tar.gz
2013-07-15 14:11:13 + [[ 8633554 = \0 ]]
2013-07-15 14:11:13 + [[ http://download.cirros-cloud.net/0.3.1/cirros-0.3.1-x86_64-uec.tar.gz =~ openvz ]]
2013-07-15 14:11:13 + [[ http://download.cirros-cloud.net/0.3.1/cirros-0.3.1-x86_64-uec.tar.gz =~ \.vhd\.tgz ]]
2013-07-15 14:11:13 + KERNEL=
2013-07-15 14:11:13 + RAMDISK=
2013-07-15 14:11:13 + DISK_FORMAT=
2013-07-15 14:11:13 + CONTAINER_FORMAT=
2013-07-15 14:11:13 + UNPACK=
2013-07-15 14:11:13 + case "$IMAGE_FNAME" in
2013-07-15 14:11:13 + '[' cirros-0.3.1-x86_64-uec '!=' cirros-0.3.1-x86_64-uec.tar.gz ']'
2013-07-15 14:11:13 + IMAGE_NAME=cirros-0.3.1-x86_64-uec
2013-07-15 14:11:13 + xdir=/home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec
2013-07-15 14:11:13 + rm -Rf /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec
2013-07-15 14:11:13 + mkdir /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec
2013-07-15 14:11:13 + tar -zxf /home/ubuntu/devstack/files/cirros-0.3.1-x86_64-uec.tar.gz -C /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec
2013-07-15 14:11:13 ++ for f in '"$xdir/"*-vmlinuz*' '"$xdir/"aki-*/image'
2013-07-15 14:11:13 ++ '[' -f /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz ']'
2013-07-15 14:11:13 ++ echo /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz
2013-07-15 14:11:13 ++ break
2013-07-15 14:11:13 ++ true
2013-07-15 14:11:13 + KERNEL=/home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz
2013-07-15 14:11:13 ++ for f in '"$xdir/"*-initrd*' '"$xdir/"ari-*/image'
2013-07-15 14:11:13 ++ '[' -f /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd ']'
2013-07-15 14:11:13 ++ echo /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd
2013-07-15 14:11:13 ++ break
2013-07-15 14:11:13 ++ true
2013-07-15 14:11:13 + RAMDISK=/home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd
2013-07-15 14:11:13 ++ for f in '"$xdir/"*.img' '"$xdir/"ami-*/image'
2013-07-15 14:11:13 ++ '[' -f /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-blank.img ']'
2013-07-15 14:11:13 ++ echo /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-blank.img
2013-07-15 14:11:13 ++ break
2013-07-15 14:11:13 ++ true
2013-07-15 14:11:13 + IMAGE=/home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-blank.img
2013-07-15 14:11:13 + [[ -z cirros-0.3.1-x86_64-uec ]]
2013-07-15 14:11:13 + '[' '' = bare ']'
2013-07-15 14:11:13 + KERNEL_ID=
2013-07-15 14:11:13 + RAMDISK_ID=
2013-07-15 14:11:13 + '[' -n /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz ']'
2013-07-15 14:11:13 ++ get_field 2
2013-07-15 14:11:13 ++ glance --os-auth-token MIIKaQYJKoZIhvcNAQcCoIIKWjCCClYCAQExCTAHBgUrDgMCGjCCCUIGCSqGSIb3DQEHAaCCCTMEggkveyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0xNVQxNDoxMToxMy4xODM2NDUiLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTE2VDE0OjExOjEzWiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImRlc2NyaXB0aW9uIjogbnVsbCwgImVuYWJsZWQiOiB0cnVlLCAiaWQiOiAiNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAibmFtZSI6ICJhZG1pbiJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3NC92Mi81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAiaWQiOiAiMjY5MGI0ZTFkZDQ0NDczMjlmMjM3ZDY1YjgwNmJjNGQiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozMzMzIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyIsICJpZCI6ICIxMzIxNGIwNDNjNjg0MGY1OTNkMmY3OTU0NDU1ZDEzMCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6OTI5MiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIiLCAiaWQiOiAiM2UwMzc3OGQ4NWI4NGFhMWJkNTI3ZTgwZGQ0MmU2NzEiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4Nzc2L3YxLzU1MDAyZWZjYmY5OTRkMWJiNDMyMDI1ZThmNTkyZmI2IiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJpZCI6ICI0YjM3NjNkZGI1ZTY0NDgxYWEyYTI4YWE5MmUxMjI3YiIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4NzczL3NlcnZpY2VzL0FkbWluIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCIsICJpZCI6ICIxYWVmYjlhNDc1YmU0NjNiODhmNDVlZjQ3ZDg1NDg4OCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozNTM1Ny92Mi4wIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6NTAwMC92Mi4wIiwgImlkIjogIjhjMDM2NDlhMTczMDQxOWM5NDc3M2I1NmJlNjc5NmJlIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI0ZGY4NzNiZDcwMTg0NzZhODhiNzJlYTIwMzNmNDI3OSIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjZkOTQxZjRiYmVkODRiZmNhNjViYmJiYWJmMjhhNGNkIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGASciN25ecjeZqN5bBsTHMlTwfr0hTjYQCpVM+LTIcSUBhiNBJCXzdNhPj35-LtRzYszjMSMtAlGkOeS1HdlA8E6LAq8p72a1b1fGujOFYcoZbPKQC+sF3JWMA4pj6zEi6jHg-u8Ft5fl19EnC4cyeJDvv3JQCYIInbQk1dovuXyU= --os-image-url http://54.248.87.124:9292 image-create --name cirros-0.3.1-x86_64-uec-kernel --public --container-format aki --disk-format aki
2013-07-15 14:11:13 ++ read data
2013-07-15 14:11:13 ++ grep ' id '
2013-07-15 14:11:15 ++ '[' 2 -lt 0 ']'
2013-07-15 14:11:15 ++ field='$3'
2013-07-15 14:11:15 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:11:15 ++ echo '| id               | db973775-5158-475a-b28a-2c4b40054916 |'
2013-07-15 14:11:15 ++ read data
2013-07-15 14:11:15 + KERNEL_ID=db973775-5158-475a-b28a-2c4b40054916
2013-07-15 14:11:15 + '[' -n /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd ']'
2013-07-15 14:11:15 ++ grep ' id '
2013-07-15 14:11:15 ++ glance --os-auth-token MIIKaQYJKoZIhvcNAQcCoIIKWjCCClYCAQExCTAHBgUrDgMCGjCCCUIGCSqGSIb3DQEHAaCCCTMEggkveyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0xNVQxNDoxMToxMy4xODM2NDUiLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTE2VDE0OjExOjEzWiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImRlc2NyaXB0aW9uIjogbnVsbCwgImVuYWJsZWQiOiB0cnVlLCAiaWQiOiAiNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAibmFtZSI6ICJhZG1pbiJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3NC92Mi81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAiaWQiOiAiMjY5MGI0ZTFkZDQ0NDczMjlmMjM3ZDY1YjgwNmJjNGQiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozMzMzIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyIsICJpZCI6ICIxMzIxNGIwNDNjNjg0MGY1OTNkMmY3OTU0NDU1ZDEzMCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6OTI5MiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIiLCAiaWQiOiAiM2UwMzc3OGQ4NWI4NGFhMWJkNTI3ZTgwZGQ0MmU2NzEiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4Nzc2L3YxLzU1MDAyZWZjYmY5OTRkMWJiNDMyMDI1ZThmNTkyZmI2IiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJpZCI6ICI0YjM3NjNkZGI1ZTY0NDgxYWEyYTI4YWE5MmUxMjI3YiIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4NzczL3NlcnZpY2VzL0FkbWluIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCIsICJpZCI6ICIxYWVmYjlhNDc1YmU0NjNiODhmNDVlZjQ3ZDg1NDg4OCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozNTM1Ny92Mi4wIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6NTAwMC92Mi4wIiwgImlkIjogIjhjMDM2NDlhMTczMDQxOWM5NDc3M2I1NmJlNjc5NmJlIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI0ZGY4NzNiZDcwMTg0NzZhODhiNzJlYTIwMzNmNDI3OSIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjZkOTQxZjRiYmVkODRiZmNhNjViYmJiYWJmMjhhNGNkIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGASciN25ecjeZqN5bBsTHMlTwfr0hTjYQCpVM+LTIcSUBhiNBJCXzdNhPj35-LtRzYszjMSMtAlGkOeS1HdlA8E6LAq8p72a1b1fGujOFYcoZbPKQC+sF3JWMA4pj6zEi6jHg-u8Ft5fl19EnC4cyeJDvv3JQCYIInbQk1dovuXyU= --os-image-url http://54.248.87.124:9292 image-create --name cirros-0.3.1-x86_64-uec-ramdisk --public --container-format ari --disk-format ari
2013-07-15 14:11:15 ++ get_field 2
2013-07-15 14:11:15 ++ read data
2013-07-15 14:11:15 ++ '[' 2 -lt 0 ']'
2013-07-15 14:11:15 ++ field='$3'
2013-07-15 14:11:15 ++ echo '| id               | b4cbbd5e-036f-48b7-bc68-9738b0f2d87e |'
2013-07-15 14:11:15 ++ awk '-F[ \t]*\\|[ \t]*' '{print $3}'
2013-07-15 14:11:15 ++ read data
2013-07-15 14:11:15 + RAMDISK_ID=b4cbbd5e-036f-48b7-bc68-9738b0f2d87e
2013-07-15 14:11:15 + glance --os-auth-token MIIKaQYJKoZIhvcNAQcCoIIKWjCCClYCAQExCTAHBgUrDgMCGjCCCUIGCSqGSIb3DQEHAaCCCTMEggkveyJhY2Nlc3MiOiB7InRva2VuIjogeyJpc3N1ZWRfYXQiOiAiMjAxMy0wNy0xNVQxNDoxMToxMy4xODM2NDUiLCAiZXhwaXJlcyI6ICIyMDEzLTA3LTE2VDE0OjExOjEzWiIsICJpZCI6ICJwbGFjZWhvbGRlciIsICJ0ZW5hbnQiOiB7ImRlc2NyaXB0aW9uIjogbnVsbCwgImVuYWJsZWQiOiB0cnVlLCAiaWQiOiAiNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAibmFtZSI6ICJhZG1pbiJ9fSwgInNlcnZpY2VDYXRhbG9nIjogW3siZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3NC92Mi81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYiLCAiaWQiOiAiMjY5MGI0ZTFkZDQ0NDczMjlmMjM3ZDY1YjgwNmJjNGQiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0Ojg3NzQvdjIvNTUwMDJlZmNiZjk5NGQxYmI0MzIwMjVlOGY1OTJmYjYifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiY29tcHV0ZSIsICJuYW1lIjogIm5vdmEifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozMzMzIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyIsICJpZCI6ICIxMzIxNGIwNDNjNjg0MGY1OTNkMmY3OTU0NDU1ZDEzMCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6MzMzMyJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJzMyIsICJuYW1lIjogInMzIn0sIHsiZW5kcG9pbnRzIjogW3siYWRtaW5VUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6OTI5MiIsICJyZWdpb24iOiAiUmVnaW9uT25lIiwgImludGVybmFsVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIiLCAiaWQiOiAiM2UwMzc3OGQ4NWI4NGFhMWJkNTI3ZTgwZGQ0MmU2NzEiLCAicHVibGljVVJMIjogImh0dHA6Ly81NC4yNDguODcuMTI0OjkyOTIifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaW1hZ2UiLCAibmFtZSI6ICJnbGFuY2UifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4Nzc2L3YxLzU1MDAyZWZjYmY5OTRkMWJiNDMyMDI1ZThmNTkyZmI2IiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiIsICJpZCI6ICI0YjM3NjNkZGI1ZTY0NDgxYWEyYTI4YWE5MmUxMjI3YiIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3Ni92MS81NTAwMmVmY2JmOTk0ZDFiYjQzMjAyNWU4ZjU5MmZiNiJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJ2b2x1bWUiLCAibmFtZSI6ICJjaW5kZXIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo4NzczL3NlcnZpY2VzL0FkbWluIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCIsICJpZCI6ICIxYWVmYjlhNDc1YmU0NjNiODhmNDVlZjQ3ZDg1NDg4OCIsICJwdWJsaWNVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6ODc3My9zZXJ2aWNlcy9DbG91ZCJ9XSwgImVuZHBvaW50c19saW5rcyI6IFtdLCAidHlwZSI6ICJlYzIiLCAibmFtZSI6ICJlYzIifSwgeyJlbmRwb2ludHMiOiBbeyJhZG1pblVSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDozNTM1Ny92Mi4wIiwgInJlZ2lvbiI6ICJSZWdpb25PbmUiLCAiaW50ZXJuYWxVUkwiOiAiaHR0cDovLzU0LjI0OC44Ny4xMjQ6NTAwMC92Mi4wIiwgImlkIjogIjhjMDM2NDlhMTczMDQxOWM5NDc3M2I1NmJlNjc5NmJlIiwgInB1YmxpY1VSTCI6ICJodHRwOi8vNTQuMjQ4Ljg3LjEyNDo1MDAwL3YyLjAifV0sICJlbmRwb2ludHNfbGlua3MiOiBbXSwgInR5cGUiOiAiaWRlbnRpdHkiLCAibmFtZSI6ICJrZXlzdG9uZSJ9XSwgInVzZXIiOiB7InVzZXJuYW1lIjogImFkbWluIiwgInJvbGVzX2xpbmtzIjogW10sICJpZCI6ICI0ZGY4NzNiZDcwMTg0NzZhODhiNzJlYTIwMzNmNDI3OSIsICJyb2xlcyI6IFt7Im5hbWUiOiAiYWRtaW4ifV0sICJuYW1lIjogImFkbWluIn0sICJtZXRhZGF0YSI6IHsiaXNfYWRtaW4iOiAwLCAicm9sZXMiOiBbIjZkOTQxZjRiYmVkODRiZmNhNjViYmJiYWJmMjhhNGNkIl19fX0xgf8wgfwCAQEwXDBXMQswCQYDVQQGEwJVUzEOMAwGA1UECBMFVW5zZXQxDjAMBgNVBAcTBVVuc2V0MQ4wDAYDVQQKEwVVbnNldDEYMBYGA1UEAxMPd3d3LmV4YW1wbGUuY29tAgEBMAcGBSsOAwIaMA0GCSqGSIb3DQEBAQUABIGASciN25ecjeZqN5bBsTHMlTwfr0hTjYQCpVM+LTIcSUBhiNBJCXzdNhPj35-LtRzYszjMSMtAlGkOeS1HdlA8E6LAq8p72a1b1fGujOFYcoZbPKQC+sF3JWMA4pj6zEi6jHg-u8Ft5fl19EnC4cyeJDvv3JQCYIInbQk1dovuXyU= --os-image-url http://54.248.87.124:9292 image-create --name cirros-0.3.1-x86_64-uec --public --container-format ami --disk-format ami --property kernel_id=db973775-5158-475a-b28a-2c4b40054916 --property ramdisk_id=b4cbbd5e-036f-48b7-bc68-9738b0f2d87e
2013-07-15 14:11:16 +-----------------------+--------------------------------------+
2013-07-15 14:11:16 | Property              | Value                                |
2013-07-15 14:11:16 +-----------------------+--------------------------------------+
2013-07-15 14:11:16 | Property 'kernel_id'  | db973775-5158-475a-b28a-2c4b40054916 |
2013-07-15 14:11:16 | Property 'ramdisk_id' | b4cbbd5e-036f-48b7-bc68-9738b0f2d87e |
2013-07-15 14:11:16 | checksum              | f8a2eeee2dc65b3d9b6e63678955bd83     |
2013-07-15 14:11:16 | container_format      | ami                                  |
2013-07-15 14:11:16 | created_at            | 2013-07-15T14:11:16                  |
2013-07-15 14:11:16 | deleted               | False                                |
2013-07-15 14:11:16 | deleted_at            | None                                 |
2013-07-15 14:11:16 | disk_format           | ami                                  |
2013-07-15 14:11:16 | id                    | 7c2e6c95-4401-4da9-9a3f-346a9f4c05ec |
2013-07-15 14:11:16 | is_public             | True                                 |
2013-07-15 14:11:16 | min_disk              | 0                                    |
2013-07-15 14:11:16 | min_ram               | 0                                    |
2013-07-15 14:11:16 | name                  | cirros-0.3.1-x86_64-uec              |
2013-07-15 14:11:16 | owner                 | 55002efcbf994d1bb432025e8f592fb6     |
2013-07-15 14:11:16 | protected             | False                                |
2013-07-15 14:11:16 | size                  | 25165824                             |
2013-07-15 14:11:16 | status                | active                               |
2013-07-15 14:11:16 | updated_at            | 2013-07-15T14:11:16                  |
2013-07-15 14:11:16 +-----------------------+--------------------------------------+
2013-07-15 14:11:16 + is_service_enabled nova
2013-07-15 14:11:16 + services=nova
2013-07-15 14:11:16 + for service in '${services}'
2013-07-15 14:11:16 + [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,nova, ]]
2013-07-15 14:11:16 + [[ nova == \n\o\v\a ]]
2013-07-15 14:11:16 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ n- ]]
2013-07-15 14:11:16 + return 0
2013-07-15 14:11:16 + is_baremetal
2013-07-15 14:11:16 + [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ baremetal ]]
2013-07-15 14:11:16 + return 1
2013-07-15 14:11:17 ++ date +%F-%H%M%S
2013-07-15 14:11:17 + CURRENT_RUN_TIME=2013-07-15-141116
2013-07-15 14:11:17 + echo '# 2013-07-15-141116'
2013-07-15 14:11:17 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-15 14:11:17 + echo BASE_SQL_CONN=mysql://root:admin@localhost
2013-07-15 14:11:17 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-15 14:11:17 + echo ENABLED_SERVICES=g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql
2013-07-15 14:11:17 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-15 14:11:17 + echo HOST_IP=54.248.87.124
2013-07-15 14:11:17 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-15 14:11:17 + echo LOGFILE=stack.sh.log.2013-07-15-140758
2013-07-15 14:11:17 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-15 14:11:17 + echo SERVICE_HOST=54.248.87.124
2013-07-15 14:11:17 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-15 14:11:17 + echo SERVICE_PROTOCOL=http
2013-07-15 14:11:17 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-15 14:11:17 + echo STACK_USER=ubuntu
2013-07-15 14:11:17 + for i in BASE_SQL_CONN ENABLED_SERVICES HOST_IP LOGFILE SERVICE_HOST SERVICE_PROTOCOL STACK_USER TLS_IP
2013-07-15 14:11:17 + echo TLS_IP=
2013-07-15 14:11:17 + [[ -d /home/ubuntu/devstack/extras.d ]]
2013-07-15 14:11:17 + for i in '$TOP_DIR/extras.d/*.sh'
2013-07-15 14:11:17 + [[ -r /home/ubuntu/devstack/extras.d/80-tempest.sh ]]
2013-07-15 14:11:17 + source /home/ubuntu/devstack/extras.d/80-tempest.sh stack
2013-07-15 14:11:17 ++ source /home/ubuntu/devstack/lib/tempest
2013-07-15 14:11:17 ++++ set +o
2013-07-15 14:11:17 ++++ grep xtrace
2013-07-15 14:11:17 +++ XTRACE='set -o xtrace'
2013-07-15 14:11:17 +++ set +o xtrace
2013-07-15 14:11:17 ++ [[ stack == \s\t\a\c\k ]]
2013-07-15 14:11:17 ++ is_service_enabled tempest
2013-07-15 14:11:17 ++ services=tempest
2013-07-15 14:11:17 ++ for service in '${services}'
2013-07-15 14:11:17 ++ [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,tempest, ]]
2013-07-15 14:11:17 ++ return 0
2013-07-15 14:11:17 ++ echo_summary 'Configuring Tempest'
2013-07-15 14:11:17 ++ [[ -t 3 ]]
2013-07-15 14:11:17 ++ [[ True != \T\r\u\e ]]
2013-07-15 14:11:17 ++ echo -e Configuring Tempest
2013-07-15 14:11:17 Configuring Tempest
2013-07-15 14:11:17 ++ install_tempest
2013-07-15 14:11:17 ++ git_clone https://github.com/openstack/tempest.git /opt/stack/tempest master
2013-07-15 14:11:17 ++ [[ False = \T\r\u\e ]]
2013-07-15 14:11:17 ++ GIT_REMOTE=https://github.com/openstack/tempest.git
2013-07-15 14:11:17 ++ GIT_DEST=/opt/stack/tempest
2013-07-15 14:11:17 ++ GIT_REF=master
2013-07-15 14:11:17 ++ echo master
2013-07-15 14:11:17 ++ egrep -q '^refs'
2013-07-15 14:11:17 ++ [[ ! -d /opt/stack/tempest ]]
2013-07-15 14:11:17 ++ [[ '' == \y\e\s ]]
2013-07-15 14:11:17 ++ configure_tempest
2013-07-15 14:11:17 ++ setup_develop /opt/stack/tempest
2013-07-15 14:11:17 ++ [[ False = True ]]
2013-07-15 14:11:17 ++ SUDO_CMD=sudo
2013-07-15 14:11:17 ++ cd /opt/stack/tempest
2013-07-15 14:11:17 ++ python setup.py egg_info
2013-07-15 14:11:17 running egg_info
2013-07-15 14:11:17 writing requirements to tempest.egg-info/requires.txt
2013-07-15 14:11:17 writing tempest.egg-info/PKG-INFO
2013-07-15 14:11:17 writing top-level names to tempest.egg-info/top_level.txt
2013-07-15 14:11:17 writing dependency_links to tempest.egg-info/dependency_links.txt
2013-07-15 14:11:17 writing manifest file 'tempest.egg-info/SOURCES.txt'
2013-07-15 14:11:17 +++ awk '/^.+/ {print "-f " $1}' tempest.egg-info/dependency_links.txt
2013-07-15 14:11:17 ++ raw_links=
2013-07-15 14:11:17 +++ xargs
2013-07-15 14:11:17 +++ echo
2013-07-15 14:11:17 ++ depend_links=
2013-07-15 14:11:17 +++ '[' '!' -r tempest.egg-info/requires.txt ']'
2013-07-15 14:11:17 +++ echo '-r *-info/requires.txt'
2013-07-15 14:11:17 ++ require_file='-r *-info/requires.txt'
2013-07-15 14:11:17 ++ pip_install -r tempest.egg-info/requires.txt
2013-07-15 14:11:17 ++ [[ False = \T\r\u\e ]]
2013-07-15 14:11:17 ++ [[ -z -r tempest.egg-info/requires.txt ]]
2013-07-15 14:11:17 ++ [[ -z deb ]]
2013-07-15 14:11:17 ++ [[ False = True ]]
2013-07-15 14:11:17 ++ SUDO_PIP=sudo
2013-07-15 14:11:17 +++ get_pip_command
2013-07-15 14:11:17 +++ is_fedora
2013-07-15 14:11:17 +++ [[ -z Ubuntu ]]
2013-07-15 14:11:17 +++ '[' Ubuntu = Fedora ']'
2013-07-15 14:11:17 +++ '[' Ubuntu = 'Red Hat' ']'
2013-07-15 14:11:17 +++ '[' Ubuntu = CentOS ']'
2013-07-15 14:11:17 +++ which pip
2013-07-15 14:11:17 ++ CMD_PIP=/usr/bin/pip
2013-07-15 14:11:18 ++ [[ '' != \F\a\l\s\e ]]
2013-07-15 14:11:18 ++ PIP_MIRROR_OPT=--use-mirrors
2013-07-15 14:11:18 ++ sudo PIP_DOWNLOAD_CACHE=/var/cache/pip HTTP_PROXY= HTTPS_PROXY= NO_PROXY= /usr/bin/pip install --use-mirrors -r tempest.egg-info/requires.txt
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): d2to1>=0.2.10,<0.3 in /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg (from -r tempest.egg-info/requires.txt (line 1))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): pbr>=0.5,<0.6 in /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg (from -r tempest.egg-info/requires.txt (line 2))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): anyjson in /usr/lib/python2.7/dist-packages (from -r tempest.egg-info/requires.txt (line 3))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): nose in /usr/lib/python2.7/dist-packages (from -r tempest.egg-info/requires.txt (line 4))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): httplib2>=0.7.0 in /usr/lib/python2.7/dist-packages (from -r tempest.egg-info/requires.txt (line 5))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): testtools>=0.9.32 in /usr/local/lib/python2.7/dist-packages (from -r tempest.egg-info/requires.txt (line 6))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): lxml in /usr/lib/python2.7/dist-packages (from -r tempest.egg-info/requires.txt (line 7))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): boto>=2.2.1 in /usr/lib/python2.7/dist-packages (from -r tempest.egg-info/requires.txt (line 8))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): paramiko in /usr/lib/python2.7/dist-packages (from -r tempest.egg-info/requires.txt (line 9))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): netaddr in /usr/local/lib/python2.7/dist-packages (from -r tempest.egg-info/requires.txt (line 10))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): python-glanceclient>=0.5.0 in /opt/stack/python-glanceclient (from -r tempest.egg-info/requires.txt (line 11))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): python-keystoneclient>=0.2.0 in /opt/stack/python-keystoneclient (from -r tempest.egg-info/requires.txt (line 12))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): python-novaclient>=2.10.0 in /opt/stack/python-novaclient (from -r tempest.egg-info/requires.txt (line 13))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): python-neutronclient>=2.2.3,<3.0.0 in /opt/stack/python-neutronclient (from -r tempest.egg-info/requires.txt (line 14))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): python-cinderclient>=1.0.4 in /opt/stack/python-cinderclient (from -r tempest.egg-info/requires.txt (line 15))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): testresources in /usr/local/lib/python2.7/dist-packages (from -r tempest.egg-info/requires.txt (line 16))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): keyring in /usr/lib/python2.7/dist-packages (from -r tempest.egg-info/requires.txt (line 17))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): testrepository in /usr/local/lib/python2.7/dist-packages (from -r tempest.egg-info/requires.txt (line 18))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): oslo.config>=1.1.0 in /usr/local/lib/python2.7/dist-packages (from -r tempest.egg-info/requires.txt (line 19))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): sqlalchemy in /usr/local/lib/python2.7/dist-packages (from -r tempest.egg-info/requires.txt (line 20))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): distribute in /usr/lib/python2.7/dist-packages (from d2to1>=0.2.10,<0.3->-r tempest.egg-info/requires.txt (line 1))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): setuptools-git>=0.4 in /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg (from pbr>=0.5,<0.6->-r tempest.egg-info/requires.txt (line 2))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): extras in /usr/local/lib/python2.7/dist-packages (from testtools>=0.9.32->-r tempest.egg-info/requires.txt (line 6))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): python-mimeparse in /usr/local/lib/python2.7/dist-packages (from testtools>=0.9.32->-r tempest.egg-info/requires.txt (line 6))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): prettytable>=0.6,<0.8 in /usr/local/lib/python2.7/dist-packages (from python-glanceclient>=0.5.0->-r tempest.egg-info/requires.txt (line 11))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): pyOpenSSL in /usr/lib/python2.7/dist-packages (from python-glanceclient>=0.5.0->-r tempest.egg-info/requires.txt (line 11))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): warlock>=0.7.0,<2 in /usr/local/lib/python2.7/dist-packages (from python-glanceclient>=0.5.0->-r tempest.egg-info/requires.txt (line 11))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): iso8601>=0.1.4 in /usr/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.0->-r tempest.egg-info/requires.txt (line 12))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): requests>=0.8.8 in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.0->-r tempest.egg-info/requires.txt (line 12))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): simplejson in /usr/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.0->-r tempest.egg-info/requires.txt (line 12))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): six in /usr/local/lib/python2.7/dist-packages (from python-keystoneclient>=0.2.0->-r tempest.egg-info/requires.txt (line 12))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): cliff>=1.4 in /usr/local/lib/python2.7/dist-packages (from python-neutronclient>=2.2.3,<3.0.0->-r tempest.egg-info/requires.txt (line 14))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): pyparsing>=1.5.6,<2.0 in /usr/local/lib/python2.7/dist-packages (from python-neutronclient>=2.2.3,<3.0.0->-r tempest.egg-info/requires.txt (line 14))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): fixtures in /usr/local/lib/python2.7/dist-packages (from testrepository->-r tempest.egg-info/requires.txt (line 18))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): python-subunit>=0.0.10 in /usr/local/lib/python2.7/dist-packages (from testrepository->-r tempest.egg-info/requires.txt (line 18))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): jsonschema>=0.7,<3 in /usr/local/lib/python2.7/dist-packages (from warlock>=0.7.0,<2->python-glanceclient>=0.5.0->-r tempest.egg-info/requires.txt (line 11))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): jsonpatch>=0.10,<2 in /usr/local/lib/python2.7/dist-packages (from warlock>=0.7.0,<2->python-glanceclient>=0.5.0->-r tempest.egg-info/requires.txt (line 11))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): cmd2>=0.6.4 in /usr/local/lib/python2.7/dist-packages (from cliff>=1.4->python-neutronclient>=2.2.3,<3.0.0->-r tempest.egg-info/requires.txt (line 14))
2013-07-15 14:11:18 Requirement already satisfied (use --upgrade to upgrade): jsonpointer>=1.0 in /usr/local/lib/python2.7/dist-packages (from jsonpatch>=0.10,<2->warlock>=0.7.0,<2->python-glanceclient>=0.5.0->-r tempest.egg-info/requires.txt (line 11))
2013-07-15 14:11:18 Cleaning up...
2013-07-15 14:11:18 ++ sudo HTTP_PROXY= HTTPS_PROXY= NO_PROXY= python setup.py develop
2013-07-15 14:11:19 running develop
2013-07-15 14:11:19 Checking .pth file support in /usr/local/lib/python2.7/dist-packages/
2013-07-15 14:11:19 /usr/bin/python -E -c pass
2013-07-15 14:11:19 TEST PASSED: /usr/local/lib/python2.7/dist-packages/ appears to support .pth files
2013-07-15 14:11:19 running egg_info
2013-07-15 14:11:19 writing requirements to tempest.egg-info/requires.txt
2013-07-15 14:11:19 writing tempest.egg-info/PKG-INFO
2013-07-15 14:11:19 writing top-level names to tempest.egg-info/top_level.txt
2013-07-15 14:11:19 writing dependency_links to tempest.egg-info/dependency_links.txt
2013-07-15 14:11:19 writing manifest file 'tempest.egg-info/SOURCES.txt'
2013-07-15 14:11:19 running build_ext
2013-07-15 14:11:19 Creating /usr/local/lib/python2.7/dist-packages/tempest.egg-link (link to .)
2013-07-15 14:11:19 tempest 2013.2.a1359.gd0e9fbe is already the active version in easy-install.pth
2013-07-15 14:11:19 Installing tempest script to /usr/local/bin
2013-07-15 14:11:19 
2013-07-15 14:11:19 Installed /opt/stack/tempest
2013-07-15 14:11:19 Processing dependencies for tempest==2013.2.a1359.gd0e9fbe
2013-07-15 14:11:19 Searching for SQLAlchemy==0.7.9
2013-07-15 14:11:19 Best match: SQLAlchemy 0.7.9
2013-07-15 14:11:19 SQLAlchemy 0.7.9 is already the active version in easy-install.pth
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for oslo.config==1.1.1
2013-07-15 14:11:19 Best match: oslo.config 1.1.1
2013-07-15 14:11:19 oslo.config 1.1.1 is already the active version in easy-install.pth
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for testrepository==0.0.15
2013-07-15 14:11:19 Best match: testrepository 0.0.15
2013-07-15 14:11:19 testrepository 0.0.15 is already the active version in easy-install.pth
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for keyring==0.9.2
2013-07-15 14:11:19 Best match: keyring 0.9.2
2013-07-15 14:11:19 Adding keyring 0.9.2 to easy-install.pth file
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for testresources==0.2.7
2013-07-15 14:11:19 Best match: testresources 0.2.7
2013-07-15 14:11:19 testresources 0.2.7 is already the active version in easy-install.pth
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for python-cinderclient==1.0.4.61.gaef613f
2013-07-15 14:11:19 Best match: python-cinderclient 1.0.4.61.gaef613f
2013-07-15 14:11:19 python-cinderclient 1.0.4.61.gaef613f is already the active version in easy-install.pth
2013-07-15 14:11:19 Installing cinder script to /usr/local/bin
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /opt/stack/python-cinderclient
2013-07-15 14:11:19 Searching for python-neutronclient==2.2.4.8.g2fade1b
2013-07-15 14:11:19 Best match: python-neutronclient 2.2.4.8.g2fade1b
2013-07-15 14:11:19 python-neutronclient 2.2.4.8.g2fade1b is already the active version in easy-install.pth
2013-07-15 14:11:19 Installing neutron script to /usr/local/bin
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /opt/stack/python-neutronclient
2013-07-15 14:11:19 Searching for python-novaclient==2.13.0.110.ga45c49b
2013-07-15 14:11:19 Best match: python-novaclient 2.13.0.110.ga45c49b
2013-07-15 14:11:19 python-novaclient 2.13.0.110.ga45c49b is already the active version in easy-install.pth
2013-07-15 14:11:19 Installing nova script to /usr/local/bin
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /opt/stack/python-novaclient
2013-07-15 14:11:19 Searching for python-keystoneclient==0.3.1.11.gf2ad113
2013-07-15 14:11:19 Best match: python-keystoneclient 0.3.1.11.gf2ad113
2013-07-15 14:11:19 Removing python-keystoneclient 0.2.5 from easy-install.pth file
2013-07-15 14:11:19 python-keystoneclient 0.3.1.11.gf2ad113 is already the active version in easy-install.pth
2013-07-15 14:11:19 Installing keystone script to /usr/local/bin
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /opt/stack/python-keystoneclient
2013-07-15 14:11:19 Searching for python-glanceclient==0.9.0.48.g8427208
2013-07-15 14:11:19 Best match: python-glanceclient 0.9.0.48.g8427208
2013-07-15 14:11:19 python-glanceclient 0.9.0.48.g8427208 is already the active version in easy-install.pth
2013-07-15 14:11:19 Installing glance script to /usr/local/bin
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /opt/stack/python-glanceclient
2013-07-15 14:11:19 Searching for netaddr==0.7.10
2013-07-15 14:11:19 Best match: netaddr 0.7.10
2013-07-15 14:11:19 Adding netaddr 0.7.10 to easy-install.pth file
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for paramiko==1.7.7.1
2013-07-15 14:11:19 Best match: paramiko 1.7.7.1
2013-07-15 14:11:19 Adding paramiko 1.7.7.1 to easy-install.pth file
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for boto==2.2.2
2013-07-15 14:11:19 Best match: boto 2.2.2
2013-07-15 14:11:19 Adding boto 2.2.2 to easy-install.pth file
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for lxml==2.3.2
2013-07-15 14:11:19 Best match: lxml 2.3.2
2013-07-15 14:11:19 Adding lxml 2.3.2 to easy-install.pth file
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for testtools==0.9.32
2013-07-15 14:11:19 Best match: testtools 0.9.32
2013-07-15 14:11:19 testtools 0.9.32 is already the active version in easy-install.pth
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for httplib2==0.7.2
2013-07-15 14:11:19 Best match: httplib2 0.7.2
2013-07-15 14:11:19 Adding httplib2 0.7.2 to easy-install.pth file
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for nose==1.1.2
2013-07-15 14:11:19 Best match: nose 1.1.2
2013-07-15 14:11:19 Adding nose 1.1.2 to easy-install.pth file
2013-07-15 14:11:19 Installing nosetests script to /usr/local/bin
2013-07-15 14:11:19 Installing nosetests-2.7 script to /usr/local/bin
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for anyjson==0.3.1
2013-07-15 14:11:19 Best match: anyjson 0.3.1
2013-07-15 14:11:19 Adding anyjson 0.3.1 to easy-install.pth file
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for pbr==0.5.18
2013-07-15 14:11:19 Best match: pbr 0.5.18
2013-07-15 14:11:19 Processing pbr-0.5.18-py2.7.egg
2013-07-15 14:11:19 Removing pbr 0.5.18 from easy-install.pth file
2013-07-15 14:11:19 pbr 0.5.18 is already the active version in easy-install.pth
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/local/lib/python2.7/dist-packages/pbr-0.5.18-py2.7.egg
2013-07-15 14:11:19 Searching for d2to1==0.2.10
2013-07-15 14:11:19 Best match: d2to1 0.2.10
2013-07-15 14:11:19 Processing d2to1-0.2.10-py2.7.egg
2013-07-15 14:11:19 Removing d2to1 0.2.10 from easy-install.pth file
2013-07-15 14:11:19 d2to1 0.2.10 is already the active version in easy-install.pth
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/local/lib/python2.7/dist-packages/d2to1-0.2.10-py2.7.egg
2013-07-15 14:11:19 Searching for python-subunit==0.0.13
2013-07-15 14:11:19 Best match: python-subunit 0.0.13
2013-07-15 14:11:19 Adding python-subunit 0.0.13 to easy-install.pth file
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for fixtures==0.3.12
2013-07-15 14:11:19 Best match: fixtures 0.3.12
2013-07-15 14:11:19 fixtures 0.3.12 is already the active version in easy-install.pth
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:19 Searching for six==1.3.0
2013-07-15 14:11:19 Best match: six 1.3.0
2013-07-15 14:11:19 six 1.3.0 is already the active version in easy-install.pth
2013-07-15 14:11:19 
2013-07-15 14:11:19 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for simplejson==2.3.2
2013-07-15 14:11:20 Best match: simplejson 2.3.2
2013-07-15 14:11:20 Adding simplejson 2.3.2 to easy-install.pth file
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for requests==1.2.3
2013-07-15 14:11:20 Best match: requests 1.2.3
2013-07-15 14:11:20 requests 1.2.3 is already the active version in easy-install.pth
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for prettytable==0.7.2
2013-07-15 14:11:20 Best match: prettytable 0.7.2
2013-07-15 14:11:20 prettytable 0.7.2 is already the active version in easy-install.pth
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for pyparsing==1.5.7
2013-07-15 14:11:20 Best match: pyparsing 1.5.7
2013-07-15 14:11:20 pyparsing 1.5.7 is already the active version in easy-install.pth
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for iso8601==0.1.4
2013-07-15 14:11:20 Best match: iso8601 0.1.4
2013-07-15 14:11:20 Adding iso8601 0.1.4 to easy-install.pth file
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for cliff==1.4
2013-07-15 14:11:20 Best match: cliff 1.4
2013-07-15 14:11:20 cliff 1.4 is already the active version in easy-install.pth
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for warlock==1.0.1
2013-07-15 14:11:20 Best match: warlock 1.0.1
2013-07-15 14:11:20 warlock 1.0.1 is already the active version in easy-install.pth
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for pyOpenSSL==0.12
2013-07-15 14:11:20 Best match: pyOpenSSL 0.12
2013-07-15 14:11:20 Adding pyOpenSSL 0.12 to easy-install.pth file
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for python-mimeparse==0.1.4
2013-07-15 14:11:20 Best match: python-mimeparse 0.1.4
2013-07-15 14:11:20 python-mimeparse 0.1.4 is already the active version in easy-install.pth
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for extras==0.0.3
2013-07-15 14:11:20 Best match: extras 0.0.3
2013-07-15 14:11:20 extras 0.0.3 is already the active version in easy-install.pth
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for setuptools-git==1.0
2013-07-15 14:11:20 Best match: setuptools-git 1.0
2013-07-15 14:11:20 Processing setuptools_git-1.0-py2.7.egg
2013-07-15 14:11:20 Removing setuptools-git 1.0 from easy-install.pth file
2013-07-15 14:11:20 setuptools-git 1.0 is already the active version in easy-install.pth
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/local/lib/python2.7/dist-packages/setuptools_git-1.0-py2.7.egg
2013-07-15 14:11:20 Searching for distribute==0.6.24dev-r0
2013-07-15 14:11:20 Best match: distribute 0.6.24dev-r0
2013-07-15 14:11:20 Adding distribute 0.6.24dev-r0 to easy-install.pth file
2013-07-15 14:11:20 Installing easy_install script to /usr/local/bin
2013-07-15 14:11:20 Installing easy_install-2.7 script to /usr/local/bin
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for cmd2==0.6.5.1
2013-07-15 14:11:20 Best match: cmd2 0.6.5.1
2013-07-15 14:11:20 Adding cmd2 0.6.5.1 to easy-install.pth file
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for jsonpatch==1.1
2013-07-15 14:11:20 Best match: jsonpatch 1.1
2013-07-15 14:11:20 jsonpatch 1.1 is already the active version in easy-install.pth
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for jsonschema==2.0.0
2013-07-15 14:11:20 Best match: jsonschema 2.0.0
2013-07-15 14:11:20 jsonschema 2.0.0 is already the active version in easy-install.pth
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:20 Searching for jsonpointer==1.0
2013-07-15 14:11:20 Best match: jsonpointer 1.0
2013-07-15 14:11:20 jsonpointer 1.0 is already the active version in easy-install.pth
2013-07-15 14:11:20 
2013-07-15 14:11:20 Using /usr/local/lib/python2.7/dist-packages
2013-07-15 14:11:20 Finished processing dependencies for tempest==2013.2.a1359.gd0e9fbe
2013-07-15 14:11:20 ++ local image_lines
2013-07-15 14:11:20 ++ local images
2013-07-15 14:11:20 ++ local num_images
2013-07-15 14:11:20 ++ local image_uuid
2013-07-15 14:11:20 ++ local image_uuid_alt
2013-07-15 14:11:20 ++ local errexit
2013-07-15 14:11:20 ++ local password
2013-07-15 14:11:20 ++ local line
2013-07-15 14:11:20 ++ local flavors
2013-07-15 14:11:20 ++ local flavors_ref
2013-07-15 14:11:20 ++ local flavor_lines
2013-07-15 14:11:20 ++ local public_network_id
2013-07-15 14:11:20 ++ local public_router_id
2013-07-15 14:11:20 ++ local tenant_networks_reachable
2013-07-15 14:11:20 ++ local boto_instance_type=m1.tiny
2013-07-15 14:11:20 +++ grep errexit
2013-07-15 14:11:20 +++ set +o
2013-07-15 14:11:20 ++ errexit='set +o errexit'
2013-07-15 14:11:20 ++ set -o errexit
2013-07-15 14:11:20 ++ ifs=' 	
2013-07-15 14:11:20 '
2013-07-15 14:11:20 ++ declare -a images
2013-07-15 14:11:20 ++ read -r IMAGE_NAME IMAGE_UUID
2013-07-15 14:11:20 +++ glance image-list --status=active
2013-07-15 14:11:20 +++ awk '-F|' '!/^(+--)|ID|aki|ari/ { print $3,$2 }'
2013-07-15 14:11:20 ++ '[' cirros-0.3.1-x86_64-uec = cirros-0.3.1-x86_64-uec ']'
2013-07-15 14:11:20 ++ image_uuid=7c2e6c95-4401-4da9-9a3f-346a9f4c05ec
2013-07-15 14:11:20 ++ image_uuid_alt=7c2e6c95-4401-4da9-9a3f-346a9f4c05ec
2013-07-15 14:11:20 ++ images+=($IMAGE_UUID)
2013-07-15 14:11:20 ++ read -r IMAGE_NAME IMAGE_UUID
2013-07-15 14:11:20 ++ case "${#images[*]}" in
2013-07-15 14:11:20 ++ '[' -z 7c2e6c95-4401-4da9-9a3f-346a9f4c05ec ']'
2013-07-15 14:11:20 ++ cp /opt/stack/tempest/etc/tempest.conf.sample /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:20 ++ password=admin
2013-07-15 14:11:20 ++ ALT_USERNAME=alt_demo
2013-07-15 14:11:20 ++ ALT_TENANT_NAME=alt_demo
2013-07-15 14:11:20 ++ [[ -z '' ]]
2013-07-15 14:11:20 ++ nova flavor-create m1.nano 42 64 0 1
2013-07-15 14:11:21 +----+---------+-----------+------+-----------+------+-------+-------------+-----------+
2013-07-15 14:11:21 | ID | Name    | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |
2013-07-15 14:11:21 +----+---------+-----------+------+-----------+------+-------+-------------+-----------+
2013-07-15 14:11:21 | 42 | m1.nano | 64        | 0    | 0         |      | 1     | 1.0         | True      |
2013-07-15 14:11:21 +----+---------+-----------+------+-----------+------+-------+-------------+-----------+
2013-07-15 14:11:21 ++ flavor_ref=42
2013-07-15 14:11:21 ++ boto_instance_type=m1.nano
2013-07-15 14:11:21 ++ nova flavor-create m1.micro 84 128 0 1
2013-07-15 14:11:22 +----+----------+-----------+------+-----------+------+-------+-------------+-----------+
2013-07-15 14:11:22 | ID | Name     | Memory_MB | Disk | Ephemeral | Swap | VCPUs | RXTX_Factor | Is_Public |
2013-07-15 14:11:22 +----+----------+-----------+------+-----------+------+-------+-------------+-----------+
2013-07-15 14:11:22 | 84 | m1.micro | 128       | 0    | 0         |      | 1     | 1.0         | True      |
2013-07-15 14:11:22 +----+----------+-----------+------+-----------+------+-------+-------------+-----------+
2013-07-15 14:11:22 ++ flavor_ref_alt=84
2013-07-15 14:11:22 ++ '[' True '!=' False ']'
2013-07-15 14:11:22 ++ tenant_networks_reachable=false
2013-07-15 14:11:22 ++ is_service_enabled q-l3
2013-07-15 14:11:22 ++ services=q-l3
2013-07-15 14:11:22 ++ for service in '${services}'
2013-07-15 14:11:22 ++ [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,q-l3, ]]
2013-07-15 14:11:22 ++ [[ q-l3 == \n\o\v\a ]]
2013-07-15 14:11:22 ++ [[ q-l3 == \c\i\n\d\e\r ]]
2013-07-15 14:11:22 ++ [[ q-l3 == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:11:22 ++ [[ q-l3 == \g\l\a\n\c\e ]]
2013-07-15 14:11:22 ++ [[ q-l3 == \q\u\a\n\t\u\m ]]
2013-07-15 14:11:22 ++ [[ q-l3 == \s\w\i\f\t ]]
2013-07-15 14:11:22 ++ [[ q-l3 == s-* ]]
2013-07-15 14:11:22 ++ return 1
2013-07-15 14:11:22 ++ iniset /opt/stack/tempest/etc/tempest.conf compute build_timeout 400
2013-07-15 14:11:22 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:22 ++ local section=compute
2013-07-15 14:11:22 ++ local option=build_timeout
2013-07-15 14:11:22 ++ local value=400
2013-07-15 14:11:22 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:22 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute build_timeout
2013-07-15 14:11:22 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:22 ++ local section=compute
2013-07-15 14:11:22 ++ local option=build_timeout
2013-07-15 14:11:22 ++ local line
2013-07-15 14:11:22 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^build_timeout[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:22 ++ line='build_timeout = 600'
2013-07-15 14:11:22 ++ '[' -n 'build_timeout = 600' ']'
2013-07-15 14:11:22 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(build_timeout[ \t]*=[ \t]*\).*$|\1400|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:22 ++ iniset /opt/stack/tempest/etc/tempest.conf volume build_timeout 400
2013-07-15 14:11:22 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:22 ++ local section=volume
2013-07-15 14:11:22 ++ local option=build_timeout
2013-07-15 14:11:22 ++ local value=400
2013-07-15 14:11:22 ++ grep -q '^\[volume\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:22 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf volume build_timeout
2013-07-15 14:11:22 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:22 ++ local section=volume
2013-07-15 14:11:22 ++ local option=build_timeout
2013-07-15 14:11:22 ++ local line
2013-07-15 14:11:22 +++ sed -ne '/^\[volume\]/,/^\[.*\]/ { /^build_timeout[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:22 ++ line='build_timeout = 300'
2013-07-15 14:11:22 ++ '[' -n 'build_timeout = 300' ']'
2013-07-15 14:11:22 ++ sed -i -e '/^\[volume\]/,/^\[.*\]/ s|^\(build_timeout[ \t]*=[ \t]*\).*$|\1400|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:22 ++ iniset /opt/stack/tempest/etc/tempest.conf boto build_timeout 400
2013-07-15 14:11:22 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:22 ++ local section=boto
2013-07-15 14:11:22 ++ local option=build_timeout
2013-07-15 14:11:22 ++ local value=400
2013-07-15 14:11:22 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:22 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto build_timeout
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=boto
2013-07-15 14:11:23 ++ local option=build_timeout
2013-07-15 14:11:23 ++ local line
2013-07-15 14:11:23 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^build_timeout[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ line='build_timeout = 120'
2013-07-15 14:11:23 ++ '[' -n 'build_timeout = 120' ']'
2013-07-15 14:11:23 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(build_timeout[ \t]*=[ \t]*\).*$|\1400|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ iniset /opt/stack/tempest/etc/tempest.conf compute build_interval 3
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=compute
2013-07-15 14:11:23 ++ local option=build_interval
2013-07-15 14:11:23 ++ local value=3
2013-07-15 14:11:23 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute build_interval
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=compute
2013-07-15 14:11:23 ++ local option=build_interval
2013-07-15 14:11:23 ++ local line
2013-07-15 14:11:23 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^build_interval[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ line='build_interval = 10'
2013-07-15 14:11:23 ++ '[' -n 'build_interval = 10' ']'
2013-07-15 14:11:23 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(build_interval[ \t]*=[ \t]*\).*$|\13|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ iniset /opt/stack/tempest/etc/tempest.conf volume build_interval 3
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=volume
2013-07-15 14:11:23 ++ local option=build_interval
2013-07-15 14:11:23 ++ local value=3
2013-07-15 14:11:23 ++ grep -q '^\[volume\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf volume build_interval
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=volume
2013-07-15 14:11:23 ++ local option=build_interval
2013-07-15 14:11:23 ++ local line
2013-07-15 14:11:23 +++ sed -ne '/^\[volume\]/,/^\[.*\]/ { /^build_interval[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ line='build_interval = 10'
2013-07-15 14:11:23 ++ '[' -n 'build_interval = 10' ']'
2013-07-15 14:11:23 ++ sed -i -e '/^\[volume\]/,/^\[.*\]/ s|^\(build_interval[ \t]*=[ \t]*\).*$|\13|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ iniset /opt/stack/tempest/etc/tempest.conf boto build_interval 3
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=boto
2013-07-15 14:11:23 ++ local option=build_interval
2013-07-15 14:11:23 ++ local value=3
2013-07-15 14:11:23 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto build_interval
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=boto
2013-07-15 14:11:23 ++ local option=build_interval
2013-07-15 14:11:23 ++ local line
2013-07-15 14:11:23 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^build_interval[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ line='build_interval = 1'
2013-07-15 14:11:23 ++ '[' -n 'build_interval = 1' ']'
2013-07-15 14:11:23 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(build_interval[ \t]*=[ \t]*\).*$|\13|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ iniset /opt/stack/tempest/etc/tempest.conf boto http_socket_timeout 5
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=boto
2013-07-15 14:11:23 ++ local option=http_socket_timeout
2013-07-15 14:11:23 ++ local value=5
2013-07-15 14:11:23 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto http_socket_timeout
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=boto
2013-07-15 14:11:23 ++ local option=http_socket_timeout
2013-07-15 14:11:23 ++ local line
2013-07-15 14:11:23 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^http_socket_timeout[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ line='http_socket_timeout = 5'
2013-07-15 14:11:23 ++ '[' -n 'http_socket_timeout = 5' ']'
2013-07-15 14:11:23 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(http_socket_timeout[ \t]*=[ \t]*\).*$|\15|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ iniset /opt/stack/tempest/etc/tempest.conf identity uri http://54.248.87.124:5000/v2.0/
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=identity
2013-07-15 14:11:23 ++ local option=uri
2013-07-15 14:11:23 ++ local value=http://54.248.87.124:5000/v2.0/
2013-07-15 14:11:23 ++ grep -q '^\[identity\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf identity uri
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=identity
2013-07-15 14:11:23 ++ local option=uri
2013-07-15 14:11:23 ++ local line
2013-07-15 14:11:23 +++ sed -ne '/^\[identity\]/,/^\[.*\]/ { /^uri[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ line='uri = http://127.0.0.1:5000/v2.0/'
2013-07-15 14:11:23 ++ '[' -n 'uri = http://127.0.0.1:5000/v2.0/' ']'
2013-07-15 14:11:23 ++ sed -i -e '/^\[identity\]/,/^\[.*\]/ s|^\(uri[ \t]*=[ \t]*\).*$|\1http://54.248.87.124:5000/v2.0/|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ iniset /opt/stack/tempest/etc/tempest.conf identity password admin
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=identity
2013-07-15 14:11:23 ++ local option=password
2013-07-15 14:11:23 ++ local value=admin
2013-07-15 14:11:23 ++ grep -q '^\[identity\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf identity password
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=identity
2013-07-15 14:11:23 ++ local option=password
2013-07-15 14:11:23 ++ local line
2013-07-15 14:11:23 +++ sed -ne '/^\[identity\]/,/^\[.*\]/ { /^password[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ line='password = secret'
2013-07-15 14:11:23 ++ '[' -n 'password = secret' ']'
2013-07-15 14:11:23 ++ sed -i -e '/^\[identity\]/,/^\[.*\]/ s|^\(password[ \t]*=[ \t]*\).*$|\1admin|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ iniset /opt/stack/tempest/etc/tempest.conf identity alt_username alt_demo
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=identity
2013-07-15 14:11:23 ++ local option=alt_username
2013-07-15 14:11:23 ++ local value=alt_demo
2013-07-15 14:11:23 ++ grep -q '^\[identity\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf identity alt_username
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=identity
2013-07-15 14:11:23 ++ local option=alt_username
2013-07-15 14:11:23 ++ local line
2013-07-15 14:11:23 +++ sed -ne '/^\[identity\]/,/^\[.*\]/ { /^alt_username[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ line='alt_username = alt_demo'
2013-07-15 14:11:23 ++ '[' -n 'alt_username = alt_demo' ']'
2013-07-15 14:11:23 ++ sed -i -e '/^\[identity\]/,/^\[.*\]/ s|^\(alt_username[ \t]*=[ \t]*\).*$|\1alt_demo|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ iniset /opt/stack/tempest/etc/tempest.conf identity alt_password admin
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=identity
2013-07-15 14:11:23 ++ local option=alt_password
2013-07-15 14:11:23 ++ local value=admin
2013-07-15 14:11:23 ++ grep -q '^\[identity\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf identity alt_password
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=identity
2013-07-15 14:11:23 ++ local option=alt_password
2013-07-15 14:11:23 ++ local line
2013-07-15 14:11:23 +++ sed -ne '/^\[identity\]/,/^\[.*\]/ { /^alt_password[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ line='alt_password = secret'
2013-07-15 14:11:23 ++ '[' -n 'alt_password = secret' ']'
2013-07-15 14:11:23 ++ sed -i -e '/^\[identity\]/,/^\[.*\]/ s|^\(alt_password[ \t]*=[ \t]*\).*$|\1admin|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ iniset /opt/stack/tempest/etc/tempest.conf identity alt_tenant_name alt_demo
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=identity
2013-07-15 14:11:23 ++ local option=alt_tenant_name
2013-07-15 14:11:23 ++ local value=alt_demo
2013-07-15 14:11:23 ++ grep -q '^\[identity\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf identity alt_tenant_name
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=identity
2013-07-15 14:11:23 ++ local option=alt_tenant_name
2013-07-15 14:11:23 ++ local line
2013-07-15 14:11:23 +++ sed -ne '/^\[identity\]/,/^\[.*\]/ { /^alt_tenant_name[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ line='alt_tenant_name = alt_demo'
2013-07-15 14:11:23 ++ '[' -n 'alt_tenant_name = alt_demo' ']'
2013-07-15 14:11:23 ++ sed -i -e '/^\[identity\]/,/^\[.*\]/ s|^\(alt_tenant_name[ \t]*=[ \t]*\).*$|\1alt_demo|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ iniset /opt/stack/tempest/etc/tempest.conf identity admin_password admin
2013-07-15 14:11:23 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:23 ++ local section=identity
2013-07-15 14:11:23 ++ local option=admin_password
2013-07-15 14:11:23 ++ local value=admin
2013-07-15 14:11:24 ++ grep -q '^\[identity\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf identity admin_password
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=identity
2013-07-15 14:11:24 ++ local option=admin_password
2013-07-15 14:11:24 ++ local line
2013-07-15 14:11:24 +++ sed -ne '/^\[identity\]/,/^\[.*\]/ { /^admin_password[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ line='admin_password = secret'
2013-07-15 14:11:24 ++ '[' -n 'admin_password = secret' ']'
2013-07-15 14:11:24 ++ sed -i -e '/^\[identity\]/,/^\[.*\]/ s|^\(admin_password[ \t]*=[ \t]*\).*$|\1admin|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ iniset /opt/stack/tempest/etc/tempest.conf compute change_password_available False
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=change_password_available
2013-07-15 14:11:24 ++ local value=False
2013-07-15 14:11:24 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute change_password_available
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=change_password_available
2013-07-15 14:11:24 ++ local line
2013-07-15 14:11:24 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^change_password_available[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ line=change_password_available=true
2013-07-15 14:11:24 ++ '[' -n change_password_available=true ']'
2013-07-15 14:11:24 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(change_password_available[ \t]*=[ \t]*\).*$|\1False|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ is_service_enabled quantum
2013-07-15 14:11:24 ++ services=quantum
2013-07-15 14:11:24 ++ for service in '${services}'
2013-07-15 14:11:24 ++ [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-15 14:11:24 ++ [[ quantum == \n\o\v\a ]]
2013-07-15 14:11:24 ++ [[ quantum == \c\i\n\d\e\r ]]
2013-07-15 14:11:24 ++ [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:11:24 ++ [[ quantum == \g\l\a\n\c\e ]]
2013-07-15 14:11:24 ++ [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-15 14:11:24 ++ [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-15 14:11:24 ++ [[ quantum == \s\w\i\f\t ]]
2013-07-15 14:11:24 ++ [[ quantum == s-* ]]
2013-07-15 14:11:24 ++ return 1
2013-07-15 14:11:24 ++ iniset /opt/stack/tempest/etc/tempest.conf compute allow_tenant_isolation True
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=allow_tenant_isolation
2013-07-15 14:11:24 ++ local value=True
2013-07-15 14:11:24 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute allow_tenant_isolation
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=allow_tenant_isolation
2013-07-15 14:11:24 ++ local line
2013-07-15 14:11:24 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^allow_tenant_isolation[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ line='allow_tenant_isolation = true'
2013-07-15 14:11:24 ++ '[' -n 'allow_tenant_isolation = true' ']'
2013-07-15 14:11:24 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(allow_tenant_isolation[ \t]*=[ \t]*\).*$|\1True|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ iniset /opt/stack/tempest/etc/tempest.conf compute ssh_user cirros
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=ssh_user
2013-07-15 14:11:24 ++ local value=cirros
2013-07-15 14:11:24 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute ssh_user
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=ssh_user
2013-07-15 14:11:24 ++ local line
2013-07-15 14:11:24 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^ssh_user[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ line='ssh_user = cirros'
2013-07-15 14:11:24 ++ '[' -n 'ssh_user = cirros' ']'
2013-07-15 14:11:24 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(ssh_user[ \t]*=[ \t]*\).*$|\1cirros|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ iniset /opt/stack/tempest/etc/tempest.conf compute network_for_ssh private
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=network_for_ssh
2013-07-15 14:11:24 ++ local value=private
2013-07-15 14:11:24 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute network_for_ssh
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=network_for_ssh
2013-07-15 14:11:24 ++ local line
2013-07-15 14:11:24 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^network_for_ssh[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ line='network_for_ssh = private'
2013-07-15 14:11:24 ++ '[' -n 'network_for_ssh = private' ']'
2013-07-15 14:11:24 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(network_for_ssh[ \t]*=[ \t]*\).*$|\1private|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ iniset /opt/stack/tempest/etc/tempest.conf compute ip_version_for_ssh 4
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=ip_version_for_ssh
2013-07-15 14:11:24 ++ local value=4
2013-07-15 14:11:24 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute ip_version_for_ssh
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=ip_version_for_ssh
2013-07-15 14:11:24 ++ local line
2013-07-15 14:11:24 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^ip_version_for_ssh[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ line='ip_version_for_ssh = 4'
2013-07-15 14:11:24 ++ '[' -n 'ip_version_for_ssh = 4' ']'
2013-07-15 14:11:24 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(ip_version_for_ssh[ \t]*=[ \t]*\).*$|\14|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ iniset /opt/stack/tempest/etc/tempest.conf compute ssh_timeout 400
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=ssh_timeout
2013-07-15 14:11:24 ++ local value=400
2013-07-15 14:11:24 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute ssh_timeout
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=ssh_timeout
2013-07-15 14:11:24 ++ local line
2013-07-15 14:11:24 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^ssh_timeout[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ line='ssh_timeout = 300'
2013-07-15 14:11:24 ++ '[' -n 'ssh_timeout = 300' ']'
2013-07-15 14:11:24 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(ssh_timeout[ \t]*=[ \t]*\).*$|\1400|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ iniset /opt/stack/tempest/etc/tempest.conf compute image_ref 7c2e6c95-4401-4da9-9a3f-346a9f4c05ec
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=image_ref
2013-07-15 14:11:24 ++ local value=7c2e6c95-4401-4da9-9a3f-346a9f4c05ec
2013-07-15 14:11:24 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute image_ref
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=image_ref
2013-07-15 14:11:24 ++ local line
2013-07-15 14:11:24 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^image_ref[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ line='image_ref = {$IMAGE_ID}'
2013-07-15 14:11:24 ++ '[' -n 'image_ref = {$IMAGE_ID}' ']'
2013-07-15 14:11:24 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(image_ref[ \t]*=[ \t]*\).*$|\17c2e6c95-4401-4da9-9a3f-346a9f4c05ec|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ iniset /opt/stack/tempest/etc/tempest.conf compute image_ssh_user cirros
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=image_ssh_user
2013-07-15 14:11:24 ++ local value=cirros
2013-07-15 14:11:24 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute image_ssh_user
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=image_ssh_user
2013-07-15 14:11:24 ++ local line
2013-07-15 14:11:24 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^image_ssh_user[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ line='image_ssh_user = root'
2013-07-15 14:11:24 ++ '[' -n 'image_ssh_user = root' ']'
2013-07-15 14:11:24 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(image_ssh_user[ \t]*=[ \t]*\).*$|\1cirros|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ iniset /opt/stack/tempest/etc/tempest.conf compute image_ref_alt 7c2e6c95-4401-4da9-9a3f-346a9f4c05ec
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=image_ref_alt
2013-07-15 14:11:24 ++ local value=7c2e6c95-4401-4da9-9a3f-346a9f4c05ec
2013-07-15 14:11:24 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute image_ref_alt
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=image_ref_alt
2013-07-15 14:11:24 ++ local line
2013-07-15 14:11:24 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^image_ref_alt[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ line='image_ref_alt = {$IMAGE_ID_ALT}'
2013-07-15 14:11:24 ++ '[' -n 'image_ref_alt = {$IMAGE_ID_ALT}' ']'
2013-07-15 14:11:24 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(image_ref_alt[ \t]*=[ \t]*\).*$|\17c2e6c95-4401-4da9-9a3f-346a9f4c05ec|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ iniset /opt/stack/tempest/etc/tempest.conf compute image_alt_ssh_user cirros
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=image_alt_ssh_user
2013-07-15 14:11:24 ++ local value=cirros
2013-07-15 14:11:24 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute image_alt_ssh_user
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=image_alt_ssh_user
2013-07-15 14:11:24 ++ local line
2013-07-15 14:11:24 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^image_alt_ssh_user[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ line='image_alt_ssh_user = root'
2013-07-15 14:11:24 ++ '[' -n 'image_alt_ssh_user = root' ']'
2013-07-15 14:11:24 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(image_alt_ssh_user[ \t]*=[ \t]*\).*$|\1cirros|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ iniset /opt/stack/tempest/etc/tempest.conf compute flavor_ref 42
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=flavor_ref
2013-07-15 14:11:24 ++ local value=42
2013-07-15 14:11:24 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute flavor_ref
2013-07-15 14:11:24 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:24 ++ local section=compute
2013-07-15 14:11:24 ++ local option=flavor_ref
2013-07-15 14:11:24 ++ local line
2013-07-15 14:11:24 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^flavor_ref[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ line='flavor_ref = 1'
2013-07-15 14:11:25 ++ '[' -n 'flavor_ref = 1' ']'
2013-07-15 14:11:25 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(flavor_ref[ \t]*=[ \t]*\).*$|\142|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ iniset /opt/stack/tempest/etc/tempest.conf compute flavor_ref_alt 84
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=compute
2013-07-15 14:11:25 ++ local option=flavor_ref_alt
2013-07-15 14:11:25 ++ local value=84
2013-07-15 14:11:25 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute flavor_ref_alt
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=compute
2013-07-15 14:11:25 ++ local option=flavor_ref_alt
2013-07-15 14:11:25 ++ local line
2013-07-15 14:11:25 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^flavor_ref_alt[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ line='flavor_ref_alt = 2'
2013-07-15 14:11:25 ++ '[' -n 'flavor_ref_alt = 2' ']'
2013-07-15 14:11:25 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(flavor_ref_alt[ \t]*=[ \t]*\).*$|\184|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ iniset /opt/stack/tempest/etc/tempest.conf compute live_migration_available False
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=compute
2013-07-15 14:11:25 ++ local option=live_migration_available
2013-07-15 14:11:25 ++ local value=False
2013-07-15 14:11:25 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute live_migration_available
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=compute
2013-07-15 14:11:25 ++ local option=live_migration_available
2013-07-15 14:11:25 ++ local line
2013-07-15 14:11:25 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^live_migration_available[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ line='live_migration_available = false'
2013-07-15 14:11:25 ++ '[' -n 'live_migration_available = false' ']'
2013-07-15 14:11:25 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(live_migration_available[ \t]*=[ \t]*\).*$|\1False|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ iniset /opt/stack/tempest/etc/tempest.conf compute use_block_migration_for_live_migration False
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=compute
2013-07-15 14:11:25 ++ local option=use_block_migration_for_live_migration
2013-07-15 14:11:25 ++ local value=False
2013-07-15 14:11:25 ++ grep -q '^\[compute\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute use_block_migration_for_live_migration
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=compute
2013-07-15 14:11:25 ++ local option=use_block_migration_for_live_migration
2013-07-15 14:11:25 ++ local line
2013-07-15 14:11:25 +++ sed -ne '/^\[compute\]/,/^\[.*\]/ { /^use_block_migration_for_live_migration[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ line='use_block_migration_for_live_migration = false'
2013-07-15 14:11:25 ++ '[' -n 'use_block_migration_for_live_migration = false' ']'
2013-07-15 14:11:25 ++ sed -i -e '/^\[compute\]/,/^\[.*\]/ s|^\(use_block_migration_for_live_migration[ \t]*=[ \t]*\).*$|\1False|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ iniset /opt/stack/tempest/etc/tempest.conf whitebox source_dir /opt/stack/nova
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=whitebox
2013-07-15 14:11:25 ++ local option=source_dir
2013-07-15 14:11:25 ++ local value=/opt/stack/nova
2013-07-15 14:11:25 ++ grep -q '^\[whitebox\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf whitebox source_dir
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=whitebox
2013-07-15 14:11:25 ++ local option=source_dir
2013-07-15 14:11:25 ++ local line
2013-07-15 14:11:25 +++ sed -ne '/^\[whitebox\]/,/^\[.*\]/ { /^source_dir[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ line='source_dir = /opt/stack/nova'
2013-07-15 14:11:25 ++ '[' -n 'source_dir = /opt/stack/nova' ']'
2013-07-15 14:11:25 ++ sed -i -e '/^\[whitebox\]/,/^\[.*\]/ s|^\(source_dir[ \t]*=[ \t]*\).*$|\1/opt/stack/nova|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ iniset /opt/stack/tempest/etc/tempest.conf whitebox bin_dir /opt/stack/nova/bin
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=whitebox
2013-07-15 14:11:25 ++ local option=bin_dir
2013-07-15 14:11:25 ++ local value=/opt/stack/nova/bin
2013-07-15 14:11:25 ++ grep -q '^\[whitebox\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf whitebox bin_dir
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=whitebox
2013-07-15 14:11:25 ++ local option=bin_dir
2013-07-15 14:11:25 ++ local line
2013-07-15 14:11:25 +++ sed -ne '/^\[whitebox\]/,/^\[.*\]/ { /^bin_dir[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ line='bin_dir = /usr/local/bin'
2013-07-15 14:11:25 ++ '[' -n 'bin_dir = /usr/local/bin' ']'
2013-07-15 14:11:25 ++ sed -i -e '/^\[whitebox\]/,/^\[.*\]/ s|^\(bin_dir[ \t]*=[ \t]*\).*$|\1/opt/stack/nova/bin|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ iniset /opt/stack/tempest/etc/tempest.conf whitebox path_to_private_key /opt/stack/tempest/id_rsa
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=whitebox
2013-07-15 14:11:25 ++ local option=path_to_private_key
2013-07-15 14:11:25 ++ local value=/opt/stack/tempest/id_rsa
2013-07-15 14:11:25 ++ grep -q '^\[whitebox\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf whitebox path_to_private_key
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=whitebox
2013-07-15 14:11:25 ++ local option=path_to_private_key
2013-07-15 14:11:25 ++ local line
2013-07-15 14:11:25 +++ sed -ne '/^\[whitebox\]/,/^\[.*\]/ { /^path_to_private_key[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ line='path_to_private_key = /home/user/.ssh/id_rsa'
2013-07-15 14:11:25 ++ '[' -n 'path_to_private_key = /home/user/.ssh/id_rsa' ']'
2013-07-15 14:11:25 ++ sed -i -e '/^\[whitebox\]/,/^\[.*\]/ s|^\(path_to_private_key[ \t]*=[ \t]*\).*$|\1/opt/stack/tempest/id_rsa|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ iniset /opt/stack/tempest/etc/tempest.conf whitebox db_uri mysql://root:admin@localhost/nova
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=whitebox
2013-07-15 14:11:25 ++ local option=db_uri
2013-07-15 14:11:25 ++ local value=mysql://root:admin@localhost/nova
2013-07-15 14:11:25 ++ grep -q '^\[whitebox\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf whitebox db_uri
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=whitebox
2013-07-15 14:11:25 ++ local option=db_uri
2013-07-15 14:11:25 ++ local line
2013-07-15 14:11:25 +++ sed -ne '/^\[whitebox\]/,/^\[.*\]/ { /^db_uri[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ line='db_uri = mysql://nova:secret@localhost/nova'
2013-07-15 14:11:25 ++ '[' -n 'db_uri = mysql://nova:secret@localhost/nova' ']'
2013-07-15 14:11:25 ++ sed -i -e '/^\[whitebox\]/,/^\[.*\]/ s|^\(db_uri[ \t]*=[ \t]*\).*$|\1mysql://root:admin@localhost/nova|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ iniset /opt/stack/tempest/etc/tempest.conf compute-admin password admin
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=compute-admin
2013-07-15 14:11:25 ++ local option=password
2013-07-15 14:11:25 ++ local value=admin
2013-07-15 14:11:25 ++ grep -q '^\[compute-admin\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf compute-admin password
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=compute-admin
2013-07-15 14:11:25 ++ local option=password
2013-07-15 14:11:25 ++ local line
2013-07-15 14:11:25 +++ sed -ne '/^\[compute-admin\]/,/^\[.*\]/ { /^password[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ line='password ='
2013-07-15 14:11:25 ++ '[' -n 'password =' ']'
2013-07-15 14:11:25 ++ sed -i -e '/^\[compute-admin\]/,/^\[.*\]/ s|^\(password[ \t]*=[ \t]*\).*$|\1admin|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ is_service_enabled quantum
2013-07-15 14:11:25 ++ services=quantum
2013-07-15 14:11:25 ++ for service in '${services}'
2013-07-15 14:11:25 ++ [[ ,g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql, =~ ,quantum, ]]
2013-07-15 14:11:25 ++ [[ quantum == \n\o\v\a ]]
2013-07-15 14:11:25 ++ [[ quantum == \c\i\n\d\e\r ]]
2013-07-15 14:11:25 ++ [[ quantum == \c\e\i\l\o\m\e\t\e\r ]]
2013-07-15 14:11:25 ++ [[ quantum == \g\l\a\n\c\e ]]
2013-07-15 14:11:25 ++ [[ quantum == \q\u\a\n\t\u\m ]]
2013-07-15 14:11:25 ++ [[ g-api,g-reg,key,n-api,n-crt,n-obj,n-cpu,n-net,n-cond,cinder,c-sch,c-api,c-vol,n-sch,n-novnc,n-xvnc,n-cauth,horizon,rabbit,tempest,mysql =~ q- ]]
2013-07-15 14:11:25 ++ [[ quantum == \s\w\i\f\t ]]
2013-07-15 14:11:25 ++ [[ quantum == s-* ]]
2013-07-15 14:11:25 ++ return 1
2013-07-15 14:11:25 ++ iniset /opt/stack/tempest/etc/tempest.conf network api_version 2.0
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=network
2013-07-15 14:11:25 ++ local option=api_version
2013-07-15 14:11:25 ++ local value=2.0
2013-07-15 14:11:25 ++ grep -q '^\[network\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf network api_version
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=network
2013-07-15 14:11:25 ++ local option=api_version
2013-07-15 14:11:25 ++ local line
2013-07-15 14:11:25 +++ sed -ne '/^\[network\]/,/^\[.*\]/ { /^api_version[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ line='api_version = v1.1'
2013-07-15 14:11:25 ++ '[' -n 'api_version = v1.1' ']'
2013-07-15 14:11:25 ++ sed -i -e '/^\[network\]/,/^\[.*\]/ s|^\(api_version[ \t]*=[ \t]*\).*$|\12.0|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ iniset /opt/stack/tempest/etc/tempest.conf network tenant_networks_reachable false
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=network
2013-07-15 14:11:25 ++ local option=tenant_networks_reachable
2013-07-15 14:11:25 ++ local value=false
2013-07-15 14:11:25 ++ grep -q '^\[network\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf network tenant_networks_reachable
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=network
2013-07-15 14:11:25 ++ local option=tenant_networks_reachable
2013-07-15 14:11:25 ++ local line
2013-07-15 14:11:25 +++ sed -ne '/^\[network\]/,/^\[.*\]/ { /^tenant_networks_reachable[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ line='tenant_networks_reachable = false'
2013-07-15 14:11:25 ++ '[' -n 'tenant_networks_reachable = false' ']'
2013-07-15 14:11:25 ++ sed -i -e '/^\[network\]/,/^\[.*\]/ s|^\(tenant_networks_reachable[ \t]*=[ \t]*\).*$|\1false|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ iniset /opt/stack/tempest/etc/tempest.conf network public_network_id ''
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=network
2013-07-15 14:11:25 ++ local option=public_network_id
2013-07-15 14:11:25 ++ local value=
2013-07-15 14:11:25 ++ grep -q '^\[network\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf network public_network_id
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=network
2013-07-15 14:11:25 ++ local option=public_network_id
2013-07-15 14:11:25 ++ local line
2013-07-15 14:11:25 +++ sed -ne '/^\[network\]/,/^\[.*\]/ { /^public_network_id[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ line='public_network_id = {$PUBLIC_NETWORK_ID}'
2013-07-15 14:11:25 ++ '[' -n 'public_network_id = {$PUBLIC_NETWORK_ID}' ']'
2013-07-15 14:11:25 ++ sed -i -e '/^\[network\]/,/^\[.*\]/ s|^\(public_network_id[ \t]*=[ \t]*\).*$|\1|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ iniset /opt/stack/tempest/etc/tempest.conf network public_router_id ''
2013-07-15 14:11:25 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:25 ++ local section=network
2013-07-15 14:11:25 ++ local option=public_router_id
2013-07-15 14:11:25 ++ local value=
2013-07-15 14:11:26 ++ grep -q '^\[network\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf network public_router_id
2013-07-15 14:11:26 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ local section=network
2013-07-15 14:11:26 ++ local option=public_router_id
2013-07-15 14:11:26 ++ local line
2013-07-15 14:11:26 +++ sed -ne '/^\[network\]/,/^\[.*\]/ { /^public_router_id[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ line='public_router_id = {$PUBLIC_ROUTER_ID}'
2013-07-15 14:11:26 ++ '[' -n 'public_router_id = {$PUBLIC_ROUTER_ID}' ']'
2013-07-15 14:11:26 ++ sed -i -e '/^\[network\]/,/^\[.*\]/ s|^\(public_router_id[ \t]*=[ \t]*\).*$|\1|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ iniset /opt/stack/tempest/etc/tempest.conf boto ec2_url http://54.248.87.124:8773/services/Cloud
2013-07-15 14:11:26 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ local section=boto
2013-07-15 14:11:26 ++ local option=ec2_url
2013-07-15 14:11:26 ++ local value=http://54.248.87.124:8773/services/Cloud
2013-07-15 14:11:26 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto ec2_url
2013-07-15 14:11:26 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ local section=boto
2013-07-15 14:11:26 ++ local option=ec2_url
2013-07-15 14:11:26 ++ local line
2013-07-15 14:11:26 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^ec2_url[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ line='ec2_url = http://localhost:8773/services/Cloud'
2013-07-15 14:11:26 ++ '[' -n 'ec2_url = http://localhost:8773/services/Cloud' ']'
2013-07-15 14:11:26 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(ec2_url[ \t]*=[ \t]*\).*$|\1http://54.248.87.124:8773/services/Cloud|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ iniset /opt/stack/tempest/etc/tempest.conf boto s3_url http://54.248.87.124:3333
2013-07-15 14:11:26 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ local section=boto
2013-07-15 14:11:26 ++ local option=s3_url
2013-07-15 14:11:26 ++ local value=http://54.248.87.124:3333
2013-07-15 14:11:26 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto s3_url
2013-07-15 14:11:26 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ local section=boto
2013-07-15 14:11:26 ++ local option=s3_url
2013-07-15 14:11:26 ++ local line
2013-07-15 14:11:26 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^s3_url[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ line='s3_url = http://localhost:3333'
2013-07-15 14:11:26 ++ '[' -n 's3_url = http://localhost:3333' ']'
2013-07-15 14:11:26 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(s3_url[ \t]*=[ \t]*\).*$|\1http://54.248.87.124:3333|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ iniset /opt/stack/tempest/etc/tempest.conf boto s3_materials_path /home/ubuntu/devstack/files/images/s3-materials/cirros-0.3.1
2013-07-15 14:11:26 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ local section=boto
2013-07-15 14:11:26 ++ local option=s3_materials_path
2013-07-15 14:11:26 ++ local value=/home/ubuntu/devstack/files/images/s3-materials/cirros-0.3.1
2013-07-15 14:11:26 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto s3_materials_path
2013-07-15 14:11:26 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ local section=boto
2013-07-15 14:11:26 ++ local option=s3_materials_path
2013-07-15 14:11:26 ++ local line
2013-07-15 14:11:26 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^s3_materials_path[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ line='s3_materials_path = /opt/stack/devstack/files/images/s3-materials/cirros-0.3.1'
2013-07-15 14:11:26 ++ '[' -n 's3_materials_path = /opt/stack/devstack/files/images/s3-materials/cirros-0.3.1' ']'
2013-07-15 14:11:26 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(s3_materials_path[ \t]*=[ \t]*\).*$|\1/home/ubuntu/devstack/files/images/s3-materials/cirros-0.3.1|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ iniset /opt/stack/tempest/etc/tempest.conf boto instance_type m1.nano
2013-07-15 14:11:26 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ local section=boto
2013-07-15 14:11:26 ++ local option=instance_type
2013-07-15 14:11:26 ++ local value=m1.nano
2013-07-15 14:11:26 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto instance_type
2013-07-15 14:11:26 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ local section=boto
2013-07-15 14:11:26 ++ local option=instance_type
2013-07-15 14:11:26 ++ local line
2013-07-15 14:11:26 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^instance_type[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ line='instance_type = m1.tiny'
2013-07-15 14:11:26 ++ '[' -n 'instance_type = m1.tiny' ']'
2013-07-15 14:11:26 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(instance_type[ \t]*=[ \t]*\).*$|\1m1.nano|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ iniset /opt/stack/tempest/etc/tempest.conf boto http_socket_timeout 30
2013-07-15 14:11:26 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ local section=boto
2013-07-15 14:11:26 ++ local option=http_socket_timeout
2013-07-15 14:11:26 ++ local value=30
2013-07-15 14:11:26 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto http_socket_timeout
2013-07-15 14:11:26 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ local section=boto
2013-07-15 14:11:26 ++ local option=http_socket_timeout
2013-07-15 14:11:26 ++ local line
2013-07-15 14:11:26 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^http_socket_timeout[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ line='http_socket_timeout = 5'
2013-07-15 14:11:26 ++ '[' -n 'http_socket_timeout = 5' ']'
2013-07-15 14:11:26 ++ sed -i -e '/^\[boto\]/,/^\[.*\]/ s|^\(http_socket_timeout[ \t]*=[ \t]*\).*$|\130|' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ iniset /opt/stack/tempest/etc/tempest.conf boto ssh_user cirros
2013-07-15 14:11:26 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ local section=boto
2013-07-15 14:11:26 ++ local option=ssh_user
2013-07-15 14:11:26 ++ local value=cirros
2013-07-15 14:11:26 ++ grep -q '^\[boto\]' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ ini_has_option /opt/stack/tempest/etc/tempest.conf boto ssh_user
2013-07-15 14:11:26 ++ local file=/opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ local section=boto
2013-07-15 14:11:26 ++ local option=ssh_user
2013-07-15 14:11:26 ++ local line
2013-07-15 14:11:26 +++ sed -ne '/^\[boto\]/,/^\[.*\]/ { /^ssh_user[ \t]*=/ p; }' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ line=
2013-07-15 14:11:26 ++ '[' -n '' ']'
2013-07-15 14:11:26 ++ sed -i -e '/^\[boto\]/ a\
2013-07-15 14:11:26 ssh_user = cirros
2013-07-15 14:11:26 ' /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 ++ echo 'Created tempest configuration file:'
2013-07-15 14:11:26 Created tempest configuration file:
2013-07-15 14:11:26 ++ cat /opt/stack/tempest/etc/tempest.conf
2013-07-15 14:11:26 [identity]
2013-07-15 14:11:26 # This section contains configuration options that a variety of Tempest
2013-07-15 14:11:26 # test clients use when authenticating with different user/tenant
2013-07-15 14:11:26 # combinations
2013-07-15 14:11:26 
2013-07-15 14:11:26 # The type of endpoint for a Identity service. Unless you have a
2013-07-15 14:11:26 # custom Keystone service catalog implementation, you probably want to leave
2013-07-15 14:11:26 # this value as "identity"
2013-07-15 14:11:26 catalog_type = identity
2013-07-15 14:11:26 # Ignore SSL certificate validation failures? Use when in testing
2013-07-15 14:11:26 # environments that have self-signed SSL certs.
2013-07-15 14:11:26 disable_ssl_certificate_validation = False
2013-07-15 14:11:26 # URL for where to find the OpenStack Identity API endpoint (Keystone)
2013-07-15 14:11:26 uri = http://54.248.87.124:5000/v2.0/
2013-07-15 14:11:26 # URL for where to find the OpenStack V3 Identity API endpoint (Keystone)
2013-07-15 14:11:26 uri_v3 = http://127.0.0.1:5000/v3/
2013-07-15 14:11:26 # The identity region
2013-07-15 14:11:26 region = RegionOne
2013-07-15 14:11:26 
2013-07-15 14:11:26 # This should be the username of a user WITHOUT administrative privileges
2013-07-15 14:11:26 username = demo
2013-07-15 14:11:26 # The above non-administrative user's password
2013-07-15 14:11:26 password = admin
2013-07-15 14:11:26 # The above non-administrative user's tenant name
2013-07-15 14:11:26 tenant_name = demo
2013-07-15 14:11:26 
2013-07-15 14:11:26 # This should be the username of an alternate user WITHOUT
2013-07-15 14:11:26 # administrative privileges
2013-07-15 14:11:26 alt_username = alt_demo
2013-07-15 14:11:26 # The above non-administrative user's password
2013-07-15 14:11:26 alt_password = admin
2013-07-15 14:11:26 # The above non-administrative user's tenant name
2013-07-15 14:11:26 alt_tenant_name = alt_demo
2013-07-15 14:11:26 
2013-07-15 14:11:26 # This should be the username of a user WITH administrative privileges
2013-07-15 14:11:26 admin_username = admin
2013-07-15 14:11:26 # The above administrative user's password
2013-07-15 14:11:26 admin_password = admin
2013-07-15 14:11:26 # The above administrative user's tenant name
2013-07-15 14:11:26 admin_tenant_name = admin
2013-07-15 14:11:26 
2013-07-15 14:11:26 [compute]
2013-07-15 14:11:26 # This section contains configuration options used when executing tests
2013-07-15 14:11:26 # against the OpenStack Compute API.
2013-07-15 14:11:26 
2013-07-15 14:11:26 # Allows test cases to create/destroy tenants and users. This option
2013-07-15 14:11:26 # enables isolated test cases and better parallel execution,
2013-07-15 14:11:26 # but also requires that OpenStack Identity API admin credentials
2013-07-15 14:11:26 # are known.
2013-07-15 14:11:26 allow_tenant_isolation = True
2013-07-15 14:11:26 
2013-07-15 14:11:26 # Allows test cases to create/destroy tenants and users. This option
2013-07-15 14:11:26 # enables isolated test cases and better parallel execution,
2013-07-15 14:11:26 # but also requires that OpenStack Identity API admin credentials
2013-07-15 14:11:26 # are known.
2013-07-15 14:11:26 allow_tenant_reuse = true
2013-07-15 14:11:26 
2013-07-15 14:11:26 # Reference data for tests. The ref and ref_alt should be
2013-07-15 14:11:26 # distinct images/flavors.
2013-07-15 14:11:26 image_ref = 7c2e6c95-4401-4da9-9a3f-346a9f4c05ec
2013-07-15 14:11:26 image_ref_alt = 7c2e6c95-4401-4da9-9a3f-346a9f4c05ec
2013-07-15 14:11:26 flavor_ref = 42
2013-07-15 14:11:26 flavor_ref_alt = 84
2013-07-15 14:11:26 
2013-07-15 14:11:26 # User names used to authenticate to an instance for a given image.
2013-07-15 14:11:26 image_ssh_user = cirros
2013-07-15 14:11:26 image_alt_ssh_user = cirros
2013-07-15 14:11:26 
2013-07-15 14:11:26 # Number of seconds to wait while looping to check the status of an
2013-07-15 14:11:26 # instance that is building.
2013-07-15 14:11:26 build_interval = 3
2013-07-15 14:11:26 
2013-07-15 14:11:26 # Number of seconds to time out on waiting for an instance
2013-07-15 14:11:26 # to build or reach an expected status
2013-07-15 14:11:26 build_timeout = 400
2013-07-15 14:11:26 
2013-07-15 14:11:26 # Run additional tests that use SSH for instance validation?
2013-07-15 14:11:26 # This requires the instances be routable from the host
2013-07-15 14:11:26 #  executing the tests
2013-07-15 14:11:26 run_ssh = false
2013-07-15 14:11:26 
2013-07-15 14:11:26 # Name of a user used to authenticated to an instance
2013-07-15 14:11:26 ssh_user = cirros
2013-07-15 14:11:26 
2013-07-15 14:11:26 # Visible fixed network name
2013-07-15 14:11:26 fixed_network_name = private
2013-07-15 14:11:26 
2013-07-15 14:11:26 # Network id used for SSH (public, private, etc)
2013-07-15 14:11:26 network_for_ssh = private
2013-07-15 14:11:26 
2013-07-15 14:11:26 # IP version of the address used for SSH
2013-07-15 14:11:26 ip_version_for_ssh = 4
2013-07-15 14:11:26 
2013-07-15 14:11:26 # Number of seconds to wait to authenticate to an instance
2013-07-15 14:11:26 ssh_timeout = 400
2013-07-15 14:11:26 
2013-07-15 14:11:26 # Number of seconds to wait for output from ssh channel
2013-07-15 14:11:27 ssh_channel_timeout = 60
2013-07-15 14:11:27 
2013-07-15 14:11:27 # The type of endpoint for a Compute API service. Unless you have a
2013-07-15 14:11:27 # custom Keystone service catalog implementation, you probably want to leave
2013-07-15 14:11:27 # this value as "compute"
2013-07-15 14:11:27 catalog_type = compute
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Does the Compute API support creation of images?
2013-07-15 14:11:27 create_image_enabled = true
2013-07-15 14:11:27 
2013-07-15 14:11:27 # For resize to work with libvirt/kvm, one of the following must be true:
2013-07-15 14:11:27 # Single node: allow_resize_to_same_host=True must be set in nova.conf
2013-07-15 14:11:27 # Cluster: the 'nova' user must have scp access between cluster nodes
2013-07-15 14:11:27 resize_available = true
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Does the compute API support changing the admin password?
2013-07-15 14:11:27 change_password_available=False
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Run live migration tests (requires 2 hosts)
2013-07-15 14:11:27 live_migration_available = False
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Use block live migration (Otherwise, non-block migration will be
2013-07-15 14:11:27 # performed, which requires XenServer pools in case of using XS)
2013-07-15 14:11:27 use_block_migration_for_live_migration = False
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Supports iSCSI block migration - depends on a XAPI supporting
2013-07-15 14:11:27 # relax-xsm-sr-check
2013-07-15 14:11:27 block_migrate_supports_cinder_iscsi = false
2013-07-15 14:11:27 
2013-07-15 14:11:27 # When set to false, disk config tests are forced to skip
2013-07-15 14:11:27 disk_config_enabled = true
2013-07-15 14:11:27 
2013-07-15 14:11:27 # When set to false, flavor extra data tests are forced to skip
2013-07-15 14:11:27 flavor_extra_enabled = true
2013-07-15 14:11:27 
2013-07-15 14:11:27 [whitebox]
2013-07-15 14:11:27 # Whitebox options for compute. Whitebox options enable the
2013-07-15 14:11:27 # whitebox test cases, which look at internal Nova database state,
2013-07-15 14:11:27 # SSH into VMs to check instance state, etc.
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Should we run whitebox tests for Compute?
2013-07-15 14:11:27 whitebox_enabled = true
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Path of nova source directory
2013-07-15 14:11:27 source_dir = /opt/stack/nova
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Path of nova configuration file
2013-07-15 14:11:27 config_path = /etc/nova/nova.conf
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Directory containing nova binaries such as nova-manage
2013-07-15 14:11:27 bin_dir = /opt/stack/nova/bin
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Connection string to the database of Compute service
2013-07-15 14:11:27 db_uri = mysql://root:admin@localhost/nova
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Path to a private key file for SSH access to remote hosts
2013-07-15 14:11:27 path_to_private_key = /opt/stack/tempest/id_rsa
2013-07-15 14:11:27 
2013-07-15 14:11:27 [compute-admin]
2013-07-15 14:11:27 # This should be the username of a user WITH administrative privileges
2013-07-15 14:11:27 # If not defined the admin user from the identity section will be used
2013-07-15 14:11:27 username =
2013-07-15 14:11:27 # The above administrative user's password
2013-07-15 14:11:27 password =admin
2013-07-15 14:11:27 # The above administrative user's tenant name
2013-07-15 14:11:27 tenant_name =
2013-07-15 14:11:27 
2013-07-15 14:11:27 [image]
2013-07-15 14:11:27 # This section contains configuration options used when executing tests
2013-07-15 14:11:27 # against the OpenStack Images API
2013-07-15 14:11:27 
2013-07-15 14:11:27 # The type of endpoint for an Image API service. Unless you have a
2013-07-15 14:11:27 # custom Keystone service catalog implementation, you probably want to leave
2013-07-15 14:11:27 # this value as "image"
2013-07-15 14:11:27 catalog_type = image
2013-07-15 14:11:27 
2013-07-15 14:11:27 # The version of the OpenStack Images API to use
2013-07-15 14:11:27 api_version = 1
2013-07-15 14:11:27 
2013-07-15 14:11:27 # HTTP image to use for glance http image testing
2013-07-15 14:11:27 http_image = http://download.cirros-cloud.net/0.3.1/cirros-0.3.1-x86_64-uec.tar.gz
2013-07-15 14:11:27 
2013-07-15 14:11:27 [network]
2013-07-15 14:11:27 # This section contains configuration options used when executing tests
2013-07-15 14:11:27 # against the OpenStack Network API.
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Version of the Neutron API
2013-07-15 14:11:27 api_version = 2.0
2013-07-15 14:11:27 # Catalog type of the Neutron Service
2013-07-15 14:11:27 catalog_type = network
2013-07-15 14:11:27 
2013-07-15 14:11:27 # A large private cidr block from which to allocate smaller blocks for
2013-07-15 14:11:27 # tenant networks.
2013-07-15 14:11:27 tenant_network_cidr = 10.100.0.0/16
2013-07-15 14:11:27 
2013-07-15 14:11:27 # The mask bits used to partition the tenant block.
2013-07-15 14:11:27 tenant_network_mask_bits = 28
2013-07-15 14:11:27 
2013-07-15 14:11:27 # If tenant networks are reachable, connectivity checks will be
2013-07-15 14:11:27 # performed directly against addresses on those networks.
2013-07-15 14:11:27 tenant_networks_reachable = false
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Id of the public network that provides external connectivity.
2013-07-15 14:11:27 public_network_id = 
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Id of a shared public router that provides external connectivity.
2013-07-15 14:11:27 # A shared public router would commonly be used where IP namespaces
2013-07-15 14:11:27 # were disabled.  If namespaces are enabled, it would be preferable
2013-07-15 14:11:27 # for each tenant to have their own router.
2013-07-15 14:11:27 public_router_id = 
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Whether or not neutron is expected to be available
2013-07-15 14:11:27 neutron_available = false
2013-07-15 14:11:27 
2013-07-15 14:11:27 [volume]
2013-07-15 14:11:27 # This section contains the configuration options used when executing tests
2013-07-15 14:11:27 # against the OpenStack Block Storage API service
2013-07-15 14:11:27 
2013-07-15 14:11:27 # The type of endpoint for a Cinder or Block Storage API service.
2013-07-15 14:11:27 # Unless you have a custom Keystone service catalog implementation, you
2013-07-15 14:11:27 # probably want to leave this value as "volume"
2013-07-15 14:11:27 catalog_type = volume
2013-07-15 14:11:27 # Number of seconds to wait while looping to check the status of a
2013-07-15 14:11:27 # volume that is being made available
2013-07-15 14:11:27 build_interval = 3
2013-07-15 14:11:27 # Number of seconds to time out on waiting for a volume
2013-07-15 14:11:27 # to be available or reach an expected status
2013-07-15 14:11:27 build_timeout = 400
2013-07-15 14:11:27 # Runs Cinder multi-backend tests (requires 2 backends declared in cinder.conf)
2013-07-15 14:11:27 # They must have different volume_backend_name (backend1_name and backend2_name
2013-07-15 14:11:27 # have to be different)
2013-07-15 14:11:27 multi_backend_enabled = false
2013-07-15 14:11:27 backend1_name = BACKEND_1
2013-07-15 14:11:27 backend2_name = BACKEND_2
2013-07-15 14:11:27 # Protocol and vendor of volume backend to target when testing volume-types.
2013-07-15 14:11:27 # You should update to reflect those exported by configured backend driver.
2013-07-15 14:11:27 storage_protocol = iSCSI
2013-07-15 14:11:27 vendor_name = Open Source
2013-07-15 14:11:27 
2013-07-15 14:11:27 [object-storage]
2013-07-15 14:11:27 # This section contains configuration options used when executing tests
2013-07-15 14:11:27 # against the OpenStack Object Storage API.
2013-07-15 14:11:27 
2013-07-15 14:11:27 # You can configure the credentials in the compute section
2013-07-15 14:11:27 
2013-07-15 14:11:27 # The type of endpoint for an Object Storage API service. Unless you have a
2013-07-15 14:11:27 # custom Keystone service catalog implementation, you probably want to leave
2013-07-15 14:11:27 # this value as "object-store"
2013-07-15 14:11:27 catalog_type = object-store
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Number of seconds to time on waiting for a container to container
2013-07-15 14:11:27 # synchronization complete
2013-07-15 14:11:27 container_sync_timeout = 120
2013-07-15 14:11:27 # Number of seconds to wait while looping to check the status of a
2013-07-15 14:11:27 # container to container synchronization
2013-07-15 14:11:27 container_sync_interval = 5
2013-07-15 14:11:27 
2013-07-15 14:11:27 [boto]
2013-07-15 14:11:27 ssh_user = cirros
2013-07-15 14:11:27 # This section contains configuration options used when executing tests
2013-07-15 14:11:27 # with boto.
2013-07-15 14:11:27 
2013-07-15 14:11:27 # EC2 URL
2013-07-15 14:11:27 ec2_url = http://54.248.87.124:8773/services/Cloud
2013-07-15 14:11:27 # S3 URL
2013-07-15 14:11:27 s3_url = http://54.248.87.124:3333
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Use keystone ec2-* command to get those values for your test user and tenant
2013-07-15 14:11:27 aws_access =
2013-07-15 14:11:27 aws_secret =
2013-07-15 14:11:27 
2013-07-15 14:11:27 #Image materials for S3 upload
2013-07-15 14:11:27 # ALL content of the specified directory will be uploaded to S3
2013-07-15 14:11:27 s3_materials_path = /home/ubuntu/devstack/files/images/s3-materials/cirros-0.3.1
2013-07-15 14:11:27 
2013-07-15 14:11:27 # The manifest.xml files, must be in the s3_materials_path directory
2013-07-15 14:11:27 # Subdirectories not allowed!
2013-07-15 14:11:27 # The filenames will be used as a Keys in the S3 Buckets
2013-07-15 14:11:27 
2013-07-15 14:11:27 #ARI Ramdisk manifest. Must be in the above s3_materials_path
2013-07-15 14:11:27 ari_manifest = cirros-0.3.1-x86_64-initrd.manifest.xml
2013-07-15 14:11:27 
2013-07-15 14:11:27 #AMI Machine Image manifest. Must be in the above s3_materials_path
2013-07-15 14:11:27 ami_manifest = cirros-0.3.1-x86_64-blank.img.manifest.xml
2013-07-15 14:11:27 
2013-07-15 14:11:27 #AKI Kernel Image manifest, Must be in the above s3_materials_path
2013-07-15 14:11:27 aki_manifest = cirros-0.3.1-x86_64-vmlinuz.manifest.xml
2013-07-15 14:11:27 
2013-07-15 14:11:27 #Instance type
2013-07-15 14:11:27 instance_type = m1.nano
2013-07-15 14:11:27 
2013-07-15 14:11:27 #TCP/IP connection timeout
2013-07-15 14:11:27 http_socket_timeout = 30
2013-07-15 14:11:27 
2013-07-15 14:11:27 #Number of retries actions on connection or 5xx error
2013-07-15 14:11:27 num_retries = 1
2013-07-15 14:11:27 
2013-07-15 14:11:27 # Status change wait timout
2013-07-15 14:11:27 build_timeout = 400
2013-07-15 14:11:27 
2013-07-15 14:11:28 # Status change wait interval
2013-07-15 14:11:28 build_interval = 3
2013-07-15 14:11:28 
2013-07-15 14:11:28 [orchestration]
2013-07-15 14:11:28 # Status change wait interval
2013-07-15 14:11:28 build_interval = 1
2013-07-15 14:11:28 
2013-07-15 14:11:28 # Status change wait timout. This may vary across environments as some some
2013-07-15 14:11:28 # tests spawn full VMs, which could be slow if the test is already in a VM.
2013-07-15 14:11:28 build_timeout = 300
2013-07-15 14:11:28 
2013-07-15 14:11:28 # Whether or not Heat is expected to be available
2013-07-15 14:11:28 heat_available = false
2013-07-15 14:11:28 
2013-07-15 14:11:28 # Instance type for tests. Needs to be big enough for a
2013-07-15 14:11:28 # full OS plus the test workload
2013-07-15 14:11:28 instance_type = m1.micro
2013-07-15 14:11:28 
2013-07-15 14:11:28 # Name of heat-cfntools enabled image to use when launching test instances
2013-07-15 14:11:28 # If not specified, tests that spawn instances will not run
2013-07-15 14:11:28 #image_ref = ubuntu-vm-heat-cfntools
2013-07-15 14:11:28 
2013-07-15 14:11:28 # Name of existing keypair to launch servers with. The default is not to specify
2013-07-15 14:11:28 # any key, which will generate a keypair for each test class
2013-07-15 14:11:28 #keypair_name = heat_key
2013-07-15 14:11:28 
2013-07-15 14:11:28 [scenario]
2013-07-15 14:11:28 # Directory containing image files
2013-07-15 14:11:28 img_dir = /opt/stack/new/devstack/files/images/cirros-0.3.1-x86_64-uec
2013-07-15 14:11:28 
2013-07-15 14:11:28 # AMI image file name
2013-07-15 14:11:28 ami_img_file = cirros-0.3.1-x86_64-blank.img
2013-07-15 14:11:28 
2013-07-15 14:11:28 # ARI image file name
2013-07-15 14:11:28 ari_img_file = cirros-0.3.1-x86_64-initrd
2013-07-15 14:11:28 
2013-07-15 14:11:28 # AKI image file name
2013-07-15 14:11:28 aki_img_file = cirros-0.3.1-x86_64-vmlinuz
2013-07-15 14:11:28 
2013-07-15 14:11:28 # ssh username for the image file
2013-07-15 14:11:28 ssh_user = cirros
2013-07-15 14:11:28 
2013-07-15 14:11:28 [cli]
2013-07-15 14:11:28 # Enable cli tests
2013-07-15 14:11:28 enabled = True
2013-07-15 14:11:28 # directory where python client binaries are located
2013-07-15 14:11:28 cli_dir = /usr/local/bin
2013-07-15 14:11:28 ++ IFS=' 	
2013-07-15 14:11:28 '
2013-07-15 14:11:28 ++ set +o errexit
2013-07-15 14:11:28 ++ init_tempest
2013-07-15 14:11:28 ++ local base_image_name=cirros-0.3.1-x86_64
2013-07-15 14:11:28 ++ local image_dir=/home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec
2013-07-15 14:11:28 ++ local kernel=/home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz
2013-07-15 14:11:28 ++ local ramdisk=/home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd
2013-07-15 14:11:28 ++ local disk_image=/home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-blank.img
2013-07-15 14:11:28 ++ '[' -f /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz -a -f /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd -a -f /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-blank.img -a libvirt '!=' openvz -a '(' qemu '!=' lxc -o libvirt '!=' libvirt ')' ']'
2013-07-15 14:11:28 ++ echo 'Prepare aki/ari/ami Images'
2013-07-15 14:11:28 Prepare aki/ari/ami Images
2013-07-15 14:11:28 ++ cat
2013-07-15 14:11:28 ++ source /home/ubuntu/devstack/accrc/demo/demo
2013-07-15 14:11:28 +++ export EC2_ACCESS_KEY=5eb8804ca069418ebdc19b72683c1276
2013-07-15 14:11:28 +++ EC2_ACCESS_KEY=5eb8804ca069418ebdc19b72683c1276
2013-07-15 14:11:28 +++ export EC2_SECRET_KEY=604e1f28bc1045bb87d0d0f423e3c28e
2013-07-15 14:11:28 +++ EC2_SECRET_KEY=604e1f28bc1045bb87d0d0f423e3c28e
2013-07-15 14:11:28 +++ export EC2_URL=http://54.248.87.124:8773/services/Cloud
2013-07-15 14:11:28 +++ EC2_URL=http://54.248.87.124:8773/services/Cloud
2013-07-15 14:11:28 +++ export S3_URL=http://54.248.87.124:3333
2013-07-15 14:11:28 +++ S3_URL=http://54.248.87.124:3333
2013-07-15 14:11:28 +++ export OS_USERNAME=demo
2013-07-15 14:11:28 +++ OS_USERNAME=demo
2013-07-15 14:11:28 +++ export OS_TENANT_NAME=demo
2013-07-15 14:11:28 +++ OS_TENANT_NAME=demo
2013-07-15 14:11:28 +++ export OS_AUTH_URL=http://54.248.87.124:35357/v2.0
2013-07-15 14:11:28 +++ OS_AUTH_URL=http://54.248.87.124:35357/v2.0
2013-07-15 14:11:28 +++ export EC2_CERT=/home/ubuntu/devstack/accrc/demo/demo-cert.pem
2013-07-15 14:11:28 +++ EC2_CERT=/home/ubuntu/devstack/accrc/demo/demo-cert.pem
2013-07-15 14:11:28 +++ export EC2_PRIVATE_KEY=/home/ubuntu/devstack/accrc/demo/demo-pk.pem
2013-07-15 14:11:28 +++ EC2_PRIVATE_KEY=/home/ubuntu/devstack/accrc/demo/demo-pk.pem
2013-07-15 14:11:28 +++ export EC2_USER_ID=42
2013-07-15 14:11:28 +++ EC2_USER_ID=42
2013-07-15 14:11:28 +++ export EUCALYPTUS_CERT=/home/ubuntu/devstack/accrc/cacert.pem
2013-07-15 14:11:28 +++ EUCALYPTUS_CERT=/home/ubuntu/devstack/accrc/cacert.pem
2013-07-15 14:11:28 +++ export NOVA_CERT=/home/ubuntu/devstack/accrc/cacert.pem
2013-07-15 14:11:28 +++ NOVA_CERT=/home/ubuntu/devstack/accrc/cacert.pem
2013-07-15 14:11:28 +++ export OS_PASSWORD=admin
2013-07-15 14:11:28 +++ OS_PASSWORD=admin
2013-07-15 14:11:28 ++ euca-bundle-image -i /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-vmlinuz --kernel true -d /home/ubuntu/devstack/files/images/s3-materials/cirros-0.3.1
2013-07-15 14:11:28 Checking image
2013-07-15 14:11:28 Encrypting image
2013-07-15 14:11:28 Splitting image...
2013-07-15 14:11:28 Part: cirros-0.3.1-x86_64-vmlinuz.part.00
2013-07-15 14:11:28 Generating manifest /home/ubuntu/devstack/files/images/s3-materials/cirros-0.3.1/cirros-0.3.1-x86_64-vmlinuz.manifest.xml
2013-07-15 14:11:28 ++ euca-bundle-image -i /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-initrd --ramdisk true -d /home/ubuntu/devstack/files/images/s3-materials/cirros-0.3.1
2013-07-15 14:11:28 Checking image
2013-07-15 14:11:28 Encrypting image
2013-07-15 14:11:28 Splitting image...
2013-07-15 14:11:28 Part: cirros-0.3.1-x86_64-initrd.part.00
2013-07-15 14:11:28 Generating manifest /home/ubuntu/devstack/files/images/s3-materials/cirros-0.3.1/cirros-0.3.1-x86_64-initrd.manifest.xml
2013-07-15 14:11:28 ++ euca-bundle-image -i /home/ubuntu/devstack/files/images/cirros-0.3.1-x86_64-uec/cirros-0.3.1-x86_64-blank.img -d /home/ubuntu/devstack/files/images/s3-materials/cirros-0.3.1
2013-07-15 14:11:28 Checking image
2013-07-15 14:11:28 Encrypting image
2013-07-15 14:11:28 Splitting image...
2013-07-15 14:11:28 Part: cirros-0.3.1-x86_64-blank.img.part.00
2013-07-15 14:11:28 Generating manifest /home/ubuntu/devstack/files/images/s3-materials/cirros-0.3.1/cirros-0.3.1-x86_64-blank.img.manifest.xml
2013-07-15 14:11:28 ++ [[ stack == \u\n\s\t\a\c\k ]]
2013-07-15 14:11:28 + [[ -x /home/ubuntu/devstack/local.sh ]]
2013-07-15 14:11:28 + service_check
2013-07-15 14:11:28 + local service
2013-07-15 14:11:28 + local failures
2013-07-15 14:11:28 + SCREEN_NAME=stack
2013-07-15 14:11:28 + SERVICE_DIR=/opt/stack/status
2013-07-15 14:11:28 + [[ ! -d /opt/stack/status/stack ]]
2013-07-15 14:11:28 ++ ls '/opt/stack/status/stack/*.failure'
2013-07-15 14:11:28 + failures=
2013-07-15 14:11:28 + '[' -n '' ']'
2013-07-15 14:11:28 + set +o xtrace
2013-07-15 14:11:28 stack.sh completed in 210 seconds.
